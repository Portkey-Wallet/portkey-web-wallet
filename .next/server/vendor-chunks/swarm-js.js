/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/swarm-js";
exports.ids = ["vendor-chunks/swarm-js"];
exports.modules = {

/***/ "(ssr)/./node_modules/swarm-js/lib/api-node.js":
/*!***********************************************!*\
  !*** ./node_modules/swarm-js/lib/api-node.js ***!
  \***********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var fs = __webpack_require__(/*! fs-extra */ \"(ssr)/./node_modules/fs-extra/lib/index.js\");\n\nvar files = __webpack_require__(/*! ./files.js */ \"(ssr)/./node_modules/swarm-js/lib/files.js\");\n\nvar os = __webpack_require__(/*! os */ \"os\");\n\nvar path = __webpack_require__(/*! path */ \"path\");\n\nvar child_process = __webpack_require__(/*! child_process */ \"child_process\");\n\nvar mimetype = __webpack_require__(/*! mime-types */ \"(ssr)/./node_modules/mime-types/index.js\");\n\nvar defaultArchives = __webpack_require__(/*! ./../archives/archives.json */ \"(ssr)/./node_modules/swarm-js/archives/archives.json\");\n\nvar requester = __webpack_require__(/*! xhr-request */ \"(ssr)/./node_modules/xhr-request/index.js\");\n\nvar downloadUrl = \"http://ethereum-mist.s3.amazonaws.com/swarm/\";\n\nvar bytes = __webpack_require__(/*! eth-lib/lib/bytes */ \"(ssr)/./node_modules/swarm-js/node_modules/eth-lib/lib/bytes.js\");\n\nvar hash = __webpack_require__(/*! ./swarm-hash.js */ \"(ssr)/./node_modules/swarm-js/lib/swarm-hash.js\");\n\nvar pick = __webpack_require__(/*! ./pick.js */ \"(ssr)/./node_modules/swarm-js/lib/pick.js\");\n\nvar swarm = __webpack_require__(/*! ./swarm */ \"(ssr)/./node_modules/swarm-js/lib/swarm.js\"); // Fixes issue that causes xhr-request-promise on Node.js to only accept Buffer\n\n\nvar request = function request(url, params, callback) {\n  var newParams = {};\n\n  for (var key in params) {\n    newParams[key] = params[key];\n  }\n\n  if (typeof newParams.body !== \"undefined\") {\n    newParams.body = newParams.body instanceof Buffer ? newParams.body : new Buffer(newParams.body);\n  }\n\n  return requester(url, newParams, callback);\n};\n\nmodule.exports = swarm({\n  fs: fs,\n  files: files,\n  os: os,\n  path: path,\n  child_process: child_process,\n  defaultArchives: defaultArchives,\n  mimetype: mimetype,\n  request: request,\n  downloadUrl: downloadUrl,\n  bytes: bytes,\n  hash: hash,\n  pick: pick\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbGliL2FwaS1ub2RlLmpzIiwibWFwcGluZ3MiOiJBQUFBLFNBQVMsbUJBQU8sQ0FBQyw0REFBVTs7QUFFM0IsWUFBWSxtQkFBTyxDQUFDLDhEQUFZOztBQUVoQyxTQUFTLG1CQUFPLENBQUMsY0FBSTs7QUFFckIsV0FBVyxtQkFBTyxDQUFDLGtCQUFNOztBQUV6QixvQkFBb0IsbUJBQU8sQ0FBQyxvQ0FBZTs7QUFFM0MsZUFBZSxtQkFBTyxDQUFDLDREQUFZOztBQUVuQyxzQkFBc0IsbUJBQU8sQ0FBQyx5RkFBNkI7O0FBRTNELGdCQUFnQixtQkFBTyxDQUFDLDhEQUFhOztBQUVyQzs7QUFFQSxZQUFZLG1CQUFPLENBQUMsMEZBQW1COztBQUV2QyxXQUFXLG1CQUFPLENBQUMsd0VBQWlCOztBQUVwQyxXQUFXLG1CQUFPLENBQUMsNERBQVc7O0FBRTlCLFlBQVksbUJBQU8sQ0FBQywyREFBUyxHQUFHOzs7QUFHaEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBvcnRrZXkvbmV4dC1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL3N3YXJtLWpzL2xpYi9hcGktbm9kZS5qcz9mNjRkIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBmcyA9IHJlcXVpcmUoXCJmcy1leHRyYVwiKTtcblxudmFyIGZpbGVzID0gcmVxdWlyZShcIi4vZmlsZXMuanNcIik7XG5cbnZhciBvcyA9IHJlcXVpcmUoXCJvc1wiKTtcblxudmFyIHBhdGggPSByZXF1aXJlKFwicGF0aFwiKTtcblxudmFyIGNoaWxkX3Byb2Nlc3MgPSByZXF1aXJlKFwiY2hpbGRfcHJvY2Vzc1wiKTtcblxudmFyIG1pbWV0eXBlID0gcmVxdWlyZSgnbWltZS10eXBlcycpO1xuXG52YXIgZGVmYXVsdEFyY2hpdmVzID0gcmVxdWlyZShcIi4vLi4vYXJjaGl2ZXMvYXJjaGl2ZXMuanNvblwiKTtcblxudmFyIHJlcXVlc3RlciA9IHJlcXVpcmUoXCJ4aHItcmVxdWVzdFwiKTtcblxudmFyIGRvd25sb2FkVXJsID0gXCJodHRwOi8vZXRoZXJldW0tbWlzdC5zMy5hbWF6b25hd3MuY29tL3N3YXJtL1wiO1xuXG52YXIgYnl0ZXMgPSByZXF1aXJlKFwiZXRoLWxpYi9saWIvYnl0ZXNcIik7XG5cbnZhciBoYXNoID0gcmVxdWlyZShcIi4vc3dhcm0taGFzaC5qc1wiKTtcblxudmFyIHBpY2sgPSByZXF1aXJlKFwiLi9waWNrLmpzXCIpO1xuXG52YXIgc3dhcm0gPSByZXF1aXJlKFwiLi9zd2FybVwiKTsgLy8gRml4ZXMgaXNzdWUgdGhhdCBjYXVzZXMgeGhyLXJlcXVlc3QtcHJvbWlzZSBvbiBOb2RlLmpzIHRvIG9ubHkgYWNjZXB0IEJ1ZmZlclxuXG5cbnZhciByZXF1ZXN0ID0gZnVuY3Rpb24gcmVxdWVzdCh1cmwsIHBhcmFtcywgY2FsbGJhY2spIHtcbiAgdmFyIG5ld1BhcmFtcyA9IHt9O1xuXG4gIGZvciAodmFyIGtleSBpbiBwYXJhbXMpIHtcbiAgICBuZXdQYXJhbXNba2V5XSA9IHBhcmFtc1trZXldO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBuZXdQYXJhbXMuYm9keSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIG5ld1BhcmFtcy5ib2R5ID0gbmV3UGFyYW1zLmJvZHkgaW5zdGFuY2VvZiBCdWZmZXIgPyBuZXdQYXJhbXMuYm9keSA6IG5ldyBCdWZmZXIobmV3UGFyYW1zLmJvZHkpO1xuICB9XG5cbiAgcmV0dXJuIHJlcXVlc3Rlcih1cmwsIG5ld1BhcmFtcywgY2FsbGJhY2spO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBzd2FybSh7XG4gIGZzOiBmcyxcbiAgZmlsZXM6IGZpbGVzLFxuICBvczogb3MsXG4gIHBhdGg6IHBhdGgsXG4gIGNoaWxkX3Byb2Nlc3M6IGNoaWxkX3Byb2Nlc3MsXG4gIGRlZmF1bHRBcmNoaXZlczogZGVmYXVsdEFyY2hpdmVzLFxuICBtaW1ldHlwZTogbWltZXR5cGUsXG4gIHJlcXVlc3Q6IHJlcXVlc3QsXG4gIGRvd25sb2FkVXJsOiBkb3dubG9hZFVybCxcbiAgYnl0ZXM6IGJ5dGVzLFxuICBoYXNoOiBoYXNoLFxuICBwaWNrOiBwaWNrXG59KTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/lib/api-node.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/lib/files.js":
/*!********************************************!*\
  !*** ./node_modules/swarm-js/lib/files.js ***!
  \********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("// This module implements some file download utils. Its most important export\n// is `safeDownloadTargzFile`, which, given a file, its md5, a tar.gz url, its\n// md5 and a path, returns a Promise that will only resolve once the exact file\n// you expect is available on that path.\nvar Q = __webpack_require__(/*! bluebird */ \"(ssr)/./node_modules/bluebird/js/release/bluebird.js\");\n\nvar assert = __webpack_require__(/*! assert */ \"assert\");\n\nvar crypto = __webpack_require__(/*! crypto */ \"crypto\");\n\nvar fs = __webpack_require__(/*! fs-extra */ \"(ssr)/./node_modules/fs-extra/lib/index.js\");\n\nvar got = __webpack_require__(/*! got */ \"(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/index.js\");\n\nvar mkdirp = __webpack_require__(/*! mkdirp-promise */ \"(ssr)/./node_modules/mkdirp-promise/lib/index.js\");\n\nvar path = __webpack_require__(/*! path */ \"path\");\n\nvar tar = __webpack_require__(/*! tar */ \"(ssr)/./node_modules/tar/index.js\"); // String -> String ~> Promise String\n//   Downloads a file from an url to a path.\n//   Returns a promise containing the path.\n\n\nvar download = function download(url) {\n  return function (filePath) {\n    var promise = Q.resolve(mkdirp(path.dirname(filePath))).then(function () {\n      return new Q(function (resolve, reject) {\n        var writeStream = fs.createWriteStream(filePath);\n        var downloadStream = got.stream(url);\n        downloadStream.on(\"end\", function () {\n          return resolve(filePath);\n        });\n        downloadStream.on(\"data\", function (chunk) {\n          return promise.onDataCallback(chunk);\n        });\n        downloadStream.on(\"error\", reject);\n        downloadStream.pipe(writeStream);\n      });\n    });\n\n    promise.onDataCallback = function () {};\n\n    promise.onData = function (callback) {\n      promise.onDataCallback = callback || function () {};\n\n      return promise;\n    };\n\n    return promise;\n  };\n}; // String -> String ~> Promise String\n//   Hashes a file using the given algorithm (ex: \"md5\").\n//   Returns a promise containing the hashed string.\n\n\nvar hash = function hash(algorithm) {\n  return function (path) {\n    return new Q(function (resolve, reject) {\n      var readStream = fs.ReadStream(path);\n      var hash = crypto.createHash(algorithm);\n      readStream.on(\"data\", function (d) {\n        return hash.update(d);\n      });\n      readStream.on(\"end\", function () {\n        return resolve(hash.digest(\"hex\"));\n      });\n      readStream.on(\"error\", reject);\n    });\n  };\n}; // String -> String ~> Promise ()\n//   Asserts a file matches this md5 hash.\n//   Returns a promise containing its path.\n\n\nvar checksum = function checksum(fileHash) {\n  return function (path) {\n    return hash(\"md5\")(path).then(function (actualHash) {\n      return actualHash === fileHash;\n    }).then(assert).then(function () {\n      return path;\n    });\n  };\n}; // String ~> String ~> String ~> Promise String\n//   Downloads a file to a directory, check.\n//   Checks if the md5 hash matches.\n//   Returns a promise containing the path.\n\n\nvar downloadAndCheck = function downloadAndCheck(url) {\n  return function (path) {\n    return function (fileHash) {\n      return download(url)(path).then(checksum(fileHash));\n    };\n  };\n}; // String -> String ~> Promise String\n//   TODO: work for zip and other types\n\n\nvar extract = function extract(fromPath) {\n  return function (toPath) {\n    return tar.x(fromPath, toPath).then(function () {\n      return toPath;\n    });\n  };\n}; // String ~> Promise String\n//   Reads a file as an UTF8 string.\n//   Returns a promise containing that string.\n\n\nvar readUTF8 = function readUTF8(path) {\n  return fs.readFile(path, {\n    encoding: \"utf8\"\n  });\n}; // String ~> Promise Bool\n\n\nvar isDirectory = function isDirectory(path) {\n  return fs.exists(path).then(assert).then(function () {\n    return fs.lstat(path);\n  }).then(function (stats) {\n    return stats.isDirectory();\n  })[\"catch\"](function () {\n    return false;\n  });\n}; // String -> Promise String\n\n\nvar directoryTree = function directoryTree(dirPath) {\n  var paths = [];\n\n  var search = function search(dirPath) {\n    return isDirectory(dirPath).then(function (isDir) {\n      if (isDir) {\n        var searchOnDir = function searchOnDir(dir) {\n          return search(path.join(dirPath, dir));\n        };\n\n        return Q.all(Q.map(fs.readdir(dirPath), searchOnDir));\n      } else {\n        paths.push(dirPath);\n      }\n\n      ;\n    });\n  };\n\n  return Q.all(search(dirPath)).then(function () {\n    return paths;\n  });\n}; // Regex -> String ~> Promise (Array String)\n\n\nvar search = function search(regex) {\n  return function (dirPath) {\n    return directoryTree(dirPath).then(function (tree) {\n      return tree.filter(function (path) {\n        return regex.test(path);\n      });\n    });\n  };\n}; // String -> String -> String -> String ~> Promise String\n//   Downloads a file inside a tar.gz and places it at `filePath`.\n//   Checks the md5 hash of the tar before extracting it.\n//   Checks the md5 hash of the file after extracting it.\n//   If all is OK, returns a promise containing the file path.\n\n\nvar safeDownloadArchived = function safeDownloadArchived(url) {\n  return function (archiveHash) {\n    return function (fileHash) {\n      return function (filePath) {\n        var fileDir = path.dirname(filePath);\n        var fileName = path.basename(filePath);\n        var archivePath = path.join(fileDir, \".swarm_downloads/files.tar.gz\");\n        var archiveDir = path.dirname(archivePath);\n        var promise = Q.resolve(mkdirp(archiveDir)).then(function () {\n          return checksum(fileHash)(filePath);\n        }).then(function () {\n          return filePath;\n        })[\"catch\"](function () {\n          return fs.exists(archiveDir).then(function (exists) {\n            return !exists ? fs.mkdir(archiveDir) : null;\n          }).then(function () {\n            return download(url)(archivePath).onData(promise.onDataCallback);\n          }).then(function () {\n            return hash(\"md5\")(archivePath);\n          }).then(function () {\n            return archiveHash ? checksum(archiveHash)(archivePath) : null;\n          }).then(function () {\n            return extract(archivePath)(archiveDir);\n          }).then(function () {\n            return search(new RegExp(fileName + \"$\"))(archiveDir);\n          }).then(function (fp) {\n            return fs.rename(fp[0], filePath);\n          }).then(function () {\n            return fs.unlink(archivePath);\n          }).then(function () {\n            return fileHash ? checksum(fileHash)(filePath) : null;\n          }).then(function () {\n            return filePath;\n          });\n        });\n\n        promise.onDataCallback = function () {};\n\n        promise.onData = function (callback) {\n          promise.onDataCallback = callback || function () {};\n\n          return promise;\n        };\n\n        return promise;\n      };\n    };\n  };\n}; // String -> String ~> Promise String\n//   Like `safeDownloadArchivedFile`, but without the checksums.\n\n\nvar downloadArchived = function downloadArchived(url) {\n  return function (path) {\n    return safeDownloadArchived(url)(null)(null)(path);\n  };\n}; // () => Promise Bool\n//   Tests the implementation by downloading a predetermined tar.gz\n//   from a mocked HTTP-server into a mocked filesystem. Does some\n//   redundancy tests such as checking the file constents and double\n//   checking its MD5 hash.\n//   Returns a promise containing a boolean, true if tests passed.\n\n\nvar test = function test() {\n  var filePath = \"/swarm/foo.txt\";\n  var fileHash = \"d3b07384d113edec49eaa6238ad5ff00\";\n  var archiveUrl = \"http://localhost:12534\";\n  var archiveHash = \"7fa45f946bb2a696bdd9972e0fbceac2\";\n  var archiveData = new Buffer([0x1f, 0x8b, 0x08, 0x00, 0xf1, 0x34, 0xaf, 0x58, 0x00, 0x03, 0xed, 0xcf, 0x3d, 0x0e, 0x83, 0x30, 0x0c, 0x86, 0x61, 0x66, 0x4e, 0xe1, 0x13, 0x54, 0xce, 0x0f, 0xc9, 0x79, 0x58, 0xb2, 0x46, 0x82, 0x14, 0x71, 0x7c, 0xd2, 0x06, 0x31, 0x52, 0x75, 0x40, 0x08, 0xe9, 0x7d, 0x96, 0x4f, 0x96, 0x3d, 0x7c, 0x4e, 0x39, 0xbf, 0xca, 0x5a, 0xba, 0x2b, 0xa9, 0x6a, 0xf0, 0x5e, 0x3e, 0x19, 0xc3, 0xf0, 0x4d, 0xb5, 0x6d, 0xde, 0x79, 0x31, 0x4e, 0x07, 0x17, 0x9c, 0xb5, 0x31, 0x8a, 0x1a, 0xab, 0xc6, 0x77, 0xa2, 0x97, 0xb6, 0xda, 0xbd, 0xe7, 0x32, 0x4e, 0xb5, 0xca, 0xf2, 0xe3, 0xae, 0x9e, 0xa5, 0x74, 0xb2, 0x6f, 0x8f, 0xc8, 0x91, 0x0f, 0x91, 0x72, 0xee, 0xef, 0xee, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xf8, 0xdf, 0x06, 0xb3, 0x2a, 0xda, 0xed, 0x00, 0x28, 0x00, 0x00]);\n\n  var crypto = __webpack_require__(/*! crypto */ \"crypto\");\n\n  var fsMock = __webpack_require__(/*! mock-fs */ \"(ssr)/./node_modules/mock-fs/lib/index.js\")({\n    \"/swarm\": {}\n  });\n\n  var httpMock = (__webpack_require__(/*! http */ \"http\").createServer)(function (_, res) {\n    return res.end(archiveData);\n  }).listen(12534);\n\n  return safeDownloadArchived(archiveUrl)(archiveHash)(fileHash)(filePath).then(checksum(fileHash)).then(readUTF8).then(function (text) {\n    return text === \"foo\\n\";\n  }).then(assert).then(function () {\n    return safeDownloadArchived(archiveUrl)(archiveHash)(fileHash)(filePath);\n  }).then(function () {\n    return true;\n  })[\"catch\"](false)[\"finally\"](function () {\n    return httpMock.close();\n  });\n};\n\nmodule.exports = {\n  download: download,\n  hash: hash,\n  checksum: checksum,\n  downloadAndCheck: downloadAndCheck,\n  extract: extract,\n  readUTF8: readUTF8,\n  safeDownloadArchived: safeDownloadArchived,\n  directoryTree: directoryTree,\n  downloadArchived: downloadArchived,\n  search: search,\n  test: test\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbGliL2ZpbGVzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxtQkFBTyxDQUFDLHNFQUFVOztBQUUxQixhQUFhLG1CQUFPLENBQUMsc0JBQVE7O0FBRTdCLGFBQWEsbUJBQU8sQ0FBQyxzQkFBUTs7QUFFN0IsU0FBUyxtQkFBTyxDQUFDLDREQUFVOztBQUUzQixVQUFVLG1CQUFPLENBQUMsZ0ZBQUs7O0FBRXZCLGFBQWEsbUJBQU8sQ0FBQyx3RUFBZ0I7O0FBRXJDLFdBQVcsbUJBQU8sQ0FBQyxrQkFBTTs7QUFFekIsVUFBVSxtQkFBTyxDQUFDLDhDQUFLLEdBQUc7QUFDMUI7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSzs7QUFFTDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsR0FBRzs7O0FBR0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNILEdBQUc7OztBQUdIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSCxHQUFHOzs7QUFHSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLFdBQVc7QUFDWDtBQUNBLFdBQVc7QUFDWDtBQUNBLFdBQVc7QUFDWDtBQUNBLFdBQVc7QUFDWDtBQUNBLFdBQVc7QUFDWDtBQUNBLFdBQVc7QUFDWDtBQUNBLFdBQVc7QUFDWDtBQUNBLFdBQVc7QUFDWDtBQUNBLFdBQVc7QUFDWCxTQUFTOztBQUVUOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGVBQWUsbUJBQU8sQ0FBQyxzQkFBUTs7QUFFL0IsZUFBZSxtQkFBTyxDQUFDLDBEQUFTO0FBQ2hDO0FBQ0EsR0FBRzs7QUFFSCxpQkFBaUIsc0RBQTRCO0FBQzdDO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBvcnRrZXkvbmV4dC1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL3N3YXJtLWpzL2xpYi9maWxlcy5qcz82ODdmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoaXMgbW9kdWxlIGltcGxlbWVudHMgc29tZSBmaWxlIGRvd25sb2FkIHV0aWxzLiBJdHMgbW9zdCBpbXBvcnRhbnQgZXhwb3J0XG4vLyBpcyBgc2FmZURvd25sb2FkVGFyZ3pGaWxlYCwgd2hpY2gsIGdpdmVuIGEgZmlsZSwgaXRzIG1kNSwgYSB0YXIuZ3ogdXJsLCBpdHNcbi8vIG1kNSBhbmQgYSBwYXRoLCByZXR1cm5zIGEgUHJvbWlzZSB0aGF0IHdpbGwgb25seSByZXNvbHZlIG9uY2UgdGhlIGV4YWN0IGZpbGVcbi8vIHlvdSBleHBlY3QgaXMgYXZhaWxhYmxlIG9uIHRoYXQgcGF0aC5cbnZhciBRID0gcmVxdWlyZShcImJsdWViaXJkXCIpO1xuXG52YXIgYXNzZXJ0ID0gcmVxdWlyZShcImFzc2VydFwiKTtcblxudmFyIGNyeXB0byA9IHJlcXVpcmUoXCJjcnlwdG9cIik7XG5cbnZhciBmcyA9IHJlcXVpcmUoXCJmcy1leHRyYVwiKTtcblxudmFyIGdvdCA9IHJlcXVpcmUoXCJnb3RcIik7XG5cbnZhciBta2RpcnAgPSByZXF1aXJlKFwibWtkaXJwLXByb21pc2VcIik7XG5cbnZhciBwYXRoID0gcmVxdWlyZShcInBhdGhcIik7XG5cbnZhciB0YXIgPSByZXF1aXJlKFwidGFyXCIpOyAvLyBTdHJpbmcgLT4gU3RyaW5nIH4+IFByb21pc2UgU3RyaW5nXG4vLyAgIERvd25sb2FkcyBhIGZpbGUgZnJvbSBhbiB1cmwgdG8gYSBwYXRoLlxuLy8gICBSZXR1cm5zIGEgcHJvbWlzZSBjb250YWluaW5nIHRoZSBwYXRoLlxuXG5cbnZhciBkb3dubG9hZCA9IGZ1bmN0aW9uIGRvd25sb2FkKHVybCkge1xuICByZXR1cm4gZnVuY3Rpb24gKGZpbGVQYXRoKSB7XG4gICAgdmFyIHByb21pc2UgPSBRLnJlc29sdmUobWtkaXJwKHBhdGguZGlybmFtZShmaWxlUGF0aCkpKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBuZXcgUShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHZhciB3cml0ZVN0cmVhbSA9IGZzLmNyZWF0ZVdyaXRlU3RyZWFtKGZpbGVQYXRoKTtcbiAgICAgICAgdmFyIGRvd25sb2FkU3RyZWFtID0gZ290LnN0cmVhbSh1cmwpO1xuICAgICAgICBkb3dubG9hZFN0cmVhbS5vbihcImVuZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmUoZmlsZVBhdGgpO1xuICAgICAgICB9KTtcbiAgICAgICAgZG93bmxvYWRTdHJlYW0ub24oXCJkYXRhXCIsIGZ1bmN0aW9uIChjaHVuaykge1xuICAgICAgICAgIHJldHVybiBwcm9taXNlLm9uRGF0YUNhbGxiYWNrKGNodW5rKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRvd25sb2FkU3RyZWFtLm9uKFwiZXJyb3JcIiwgcmVqZWN0KTtcbiAgICAgICAgZG93bmxvYWRTdHJlYW0ucGlwZSh3cml0ZVN0cmVhbSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHByb21pc2Uub25EYXRhQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7fTtcblxuICAgIHByb21pc2Uub25EYXRhID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICBwcm9taXNlLm9uRGF0YUNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24gKCkge307XG5cbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH07XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfTtcbn07IC8vIFN0cmluZyAtPiBTdHJpbmcgfj4gUHJvbWlzZSBTdHJpbmdcbi8vICAgSGFzaGVzIGEgZmlsZSB1c2luZyB0aGUgZ2l2ZW4gYWxnb3JpdGhtIChleDogXCJtZDVcIikuXG4vLyAgIFJldHVybnMgYSBwcm9taXNlIGNvbnRhaW5pbmcgdGhlIGhhc2hlZCBzdHJpbmcuXG5cblxudmFyIGhhc2ggPSBmdW5jdGlvbiBoYXNoKGFsZ29yaXRobSkge1xuICByZXR1cm4gZnVuY3Rpb24gKHBhdGgpIHtcbiAgICByZXR1cm4gbmV3IFEoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHJlYWRTdHJlYW0gPSBmcy5SZWFkU3RyZWFtKHBhdGgpO1xuICAgICAgdmFyIGhhc2ggPSBjcnlwdG8uY3JlYXRlSGFzaChhbGdvcml0aG0pO1xuICAgICAgcmVhZFN0cmVhbS5vbihcImRhdGFcIiwgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgcmV0dXJuIGhhc2gudXBkYXRlKGQpO1xuICAgICAgfSk7XG4gICAgICByZWFkU3RyZWFtLm9uKFwiZW5kXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmUoaGFzaC5kaWdlc3QoXCJoZXhcIikpO1xuICAgICAgfSk7XG4gICAgICByZWFkU3RyZWFtLm9uKFwiZXJyb3JcIiwgcmVqZWN0KTtcbiAgICB9KTtcbiAgfTtcbn07IC8vIFN0cmluZyAtPiBTdHJpbmcgfj4gUHJvbWlzZSAoKVxuLy8gICBBc3NlcnRzIGEgZmlsZSBtYXRjaGVzIHRoaXMgbWQ1IGhhc2guXG4vLyAgIFJldHVybnMgYSBwcm9taXNlIGNvbnRhaW5pbmcgaXRzIHBhdGguXG5cblxudmFyIGNoZWNrc3VtID0gZnVuY3Rpb24gY2hlY2tzdW0oZmlsZUhhc2gpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgcmV0dXJuIGhhc2goXCJtZDVcIikocGF0aCkudGhlbihmdW5jdGlvbiAoYWN0dWFsSGFzaCkge1xuICAgICAgcmV0dXJuIGFjdHVhbEhhc2ggPT09IGZpbGVIYXNoO1xuICAgIH0pLnRoZW4oYXNzZXJ0KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBwYXRoO1xuICAgIH0pO1xuICB9O1xufTsgLy8gU3RyaW5nIH4+IFN0cmluZyB+PiBTdHJpbmcgfj4gUHJvbWlzZSBTdHJpbmdcbi8vICAgRG93bmxvYWRzIGEgZmlsZSB0byBhIGRpcmVjdG9yeSwgY2hlY2suXG4vLyAgIENoZWNrcyBpZiB0aGUgbWQ1IGhhc2ggbWF0Y2hlcy5cbi8vICAgUmV0dXJucyBhIHByb21pc2UgY29udGFpbmluZyB0aGUgcGF0aC5cblxuXG52YXIgZG93bmxvYWRBbmRDaGVjayA9IGZ1bmN0aW9uIGRvd25sb2FkQW5kQ2hlY2sodXJsKSB7XG4gIHJldHVybiBmdW5jdGlvbiAocGF0aCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZmlsZUhhc2gpIHtcbiAgICAgIHJldHVybiBkb3dubG9hZCh1cmwpKHBhdGgpLnRoZW4oY2hlY2tzdW0oZmlsZUhhc2gpKTtcbiAgICB9O1xuICB9O1xufTsgLy8gU3RyaW5nIC0+IFN0cmluZyB+PiBQcm9taXNlIFN0cmluZ1xuLy8gICBUT0RPOiB3b3JrIGZvciB6aXAgYW5kIG90aGVyIHR5cGVzXG5cblxudmFyIGV4dHJhY3QgPSBmdW5jdGlvbiBleHRyYWN0KGZyb21QYXRoKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodG9QYXRoKSB7XG4gICAgcmV0dXJuIHRhci54KGZyb21QYXRoLCB0b1BhdGgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRvUGF0aDtcbiAgICB9KTtcbiAgfTtcbn07IC8vIFN0cmluZyB+PiBQcm9taXNlIFN0cmluZ1xuLy8gICBSZWFkcyBhIGZpbGUgYXMgYW4gVVRGOCBzdHJpbmcuXG4vLyAgIFJldHVybnMgYSBwcm9taXNlIGNvbnRhaW5pbmcgdGhhdCBzdHJpbmcuXG5cblxudmFyIHJlYWRVVEY4ID0gZnVuY3Rpb24gcmVhZFVURjgocGF0aCkge1xuICByZXR1cm4gZnMucmVhZEZpbGUocGF0aCwge1xuICAgIGVuY29kaW5nOiBcInV0ZjhcIlxuICB9KTtcbn07IC8vIFN0cmluZyB+PiBQcm9taXNlIEJvb2xcblxuXG52YXIgaXNEaXJlY3RvcnkgPSBmdW5jdGlvbiBpc0RpcmVjdG9yeShwYXRoKSB7XG4gIHJldHVybiBmcy5leGlzdHMocGF0aCkudGhlbihhc3NlcnQpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmcy5sc3RhdChwYXRoKTtcbiAgfSkudGhlbihmdW5jdGlvbiAoc3RhdHMpIHtcbiAgICByZXR1cm4gc3RhdHMuaXNEaXJlY3RvcnkoKTtcbiAgfSlbXCJjYXRjaFwiXShmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcbn07IC8vIFN0cmluZyAtPiBQcm9taXNlIFN0cmluZ1xuXG5cbnZhciBkaXJlY3RvcnlUcmVlID0gZnVuY3Rpb24gZGlyZWN0b3J5VHJlZShkaXJQYXRoKSB7XG4gIHZhciBwYXRocyA9IFtdO1xuXG4gIHZhciBzZWFyY2ggPSBmdW5jdGlvbiBzZWFyY2goZGlyUGF0aCkge1xuICAgIHJldHVybiBpc0RpcmVjdG9yeShkaXJQYXRoKS50aGVuKGZ1bmN0aW9uIChpc0Rpcikge1xuICAgICAgaWYgKGlzRGlyKSB7XG4gICAgICAgIHZhciBzZWFyY2hPbkRpciA9IGZ1bmN0aW9uIHNlYXJjaE9uRGlyKGRpcikge1xuICAgICAgICAgIHJldHVybiBzZWFyY2gocGF0aC5qb2luKGRpclBhdGgsIGRpcikpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBRLmFsbChRLm1hcChmcy5yZWFkZGlyKGRpclBhdGgpLCBzZWFyY2hPbkRpcikpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGF0aHMucHVzaChkaXJQYXRoKTtcbiAgICAgIH1cblxuICAgICAgO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBRLmFsbChzZWFyY2goZGlyUGF0aCkpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBwYXRocztcbiAgfSk7XG59OyAvLyBSZWdleCAtPiBTdHJpbmcgfj4gUHJvbWlzZSAoQXJyYXkgU3RyaW5nKVxuXG5cbnZhciBzZWFyY2ggPSBmdW5jdGlvbiBzZWFyY2gocmVnZXgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChkaXJQYXRoKSB7XG4gICAgcmV0dXJuIGRpcmVjdG9yeVRyZWUoZGlyUGF0aCkudGhlbihmdW5jdGlvbiAodHJlZSkge1xuICAgICAgcmV0dXJuIHRyZWUuZmlsdGVyKGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICAgIHJldHVybiByZWdleC50ZXN0KHBhdGgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG59OyAvLyBTdHJpbmcgLT4gU3RyaW5nIC0+IFN0cmluZyAtPiBTdHJpbmcgfj4gUHJvbWlzZSBTdHJpbmdcbi8vICAgRG93bmxvYWRzIGEgZmlsZSBpbnNpZGUgYSB0YXIuZ3ogYW5kIHBsYWNlcyBpdCBhdCBgZmlsZVBhdGhgLlxuLy8gICBDaGVja3MgdGhlIG1kNSBoYXNoIG9mIHRoZSB0YXIgYmVmb3JlIGV4dHJhY3RpbmcgaXQuXG4vLyAgIENoZWNrcyB0aGUgbWQ1IGhhc2ggb2YgdGhlIGZpbGUgYWZ0ZXIgZXh0cmFjdGluZyBpdC5cbi8vICAgSWYgYWxsIGlzIE9LLCByZXR1cm5zIGEgcHJvbWlzZSBjb250YWluaW5nIHRoZSBmaWxlIHBhdGguXG5cblxudmFyIHNhZmVEb3dubG9hZEFyY2hpdmVkID0gZnVuY3Rpb24gc2FmZURvd25sb2FkQXJjaGl2ZWQodXJsKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoYXJjaGl2ZUhhc2gpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGZpbGVIYXNoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGZpbGVQYXRoKSB7XG4gICAgICAgIHZhciBmaWxlRGlyID0gcGF0aC5kaXJuYW1lKGZpbGVQYXRoKTtcbiAgICAgICAgdmFyIGZpbGVOYW1lID0gcGF0aC5iYXNlbmFtZShmaWxlUGF0aCk7XG4gICAgICAgIHZhciBhcmNoaXZlUGF0aCA9IHBhdGguam9pbihmaWxlRGlyLCBcIi5zd2FybV9kb3dubG9hZHMvZmlsZXMudGFyLmd6XCIpO1xuICAgICAgICB2YXIgYXJjaGl2ZURpciA9IHBhdGguZGlybmFtZShhcmNoaXZlUGF0aCk7XG4gICAgICAgIHZhciBwcm9taXNlID0gUS5yZXNvbHZlKG1rZGlycChhcmNoaXZlRGlyKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGNoZWNrc3VtKGZpbGVIYXNoKShmaWxlUGF0aCk7XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBmaWxlUGF0aDtcbiAgICAgICAgfSlbXCJjYXRjaFwiXShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGZzLmV4aXN0cyhhcmNoaXZlRGlyKS50aGVuKGZ1bmN0aW9uIChleGlzdHMpIHtcbiAgICAgICAgICAgIHJldHVybiAhZXhpc3RzID8gZnMubWtkaXIoYXJjaGl2ZURpcikgOiBudWxsO1xuICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRvd25sb2FkKHVybCkoYXJjaGl2ZVBhdGgpLm9uRGF0YShwcm9taXNlLm9uRGF0YUNhbGxiYWNrKTtcbiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBoYXNoKFwibWQ1XCIpKGFyY2hpdmVQYXRoKTtcbiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBhcmNoaXZlSGFzaCA/IGNoZWNrc3VtKGFyY2hpdmVIYXNoKShhcmNoaXZlUGF0aCkgOiBudWxsO1xuICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGV4dHJhY3QoYXJjaGl2ZVBhdGgpKGFyY2hpdmVEaXIpO1xuICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNlYXJjaChuZXcgUmVnRXhwKGZpbGVOYW1lICsgXCIkXCIpKShhcmNoaXZlRGlyKTtcbiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChmcCkge1xuICAgICAgICAgICAgcmV0dXJuIGZzLnJlbmFtZShmcFswXSwgZmlsZVBhdGgpO1xuICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGZzLnVubGluayhhcmNoaXZlUGF0aCk7XG4gICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmlsZUhhc2ggPyBjaGVja3N1bShmaWxlSGFzaCkoZmlsZVBhdGgpIDogbnVsbDtcbiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBmaWxlUGF0aDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcHJvbWlzZS5vbkRhdGFDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHt9O1xuXG4gICAgICAgIHByb21pc2Uub25EYXRhID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgcHJvbWlzZS5vbkRhdGFDYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uICgpIHt9O1xuXG4gICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICB9O1xuICAgIH07XG4gIH07XG59OyAvLyBTdHJpbmcgLT4gU3RyaW5nIH4+IFByb21pc2UgU3RyaW5nXG4vLyAgIExpa2UgYHNhZmVEb3dubG9hZEFyY2hpdmVkRmlsZWAsIGJ1dCB3aXRob3V0IHRoZSBjaGVja3N1bXMuXG5cblxudmFyIGRvd25sb2FkQXJjaGl2ZWQgPSBmdW5jdGlvbiBkb3dubG9hZEFyY2hpdmVkKHVybCkge1xuICByZXR1cm4gZnVuY3Rpb24gKHBhdGgpIHtcbiAgICByZXR1cm4gc2FmZURvd25sb2FkQXJjaGl2ZWQodXJsKShudWxsKShudWxsKShwYXRoKTtcbiAgfTtcbn07IC8vICgpID0+IFByb21pc2UgQm9vbFxuLy8gICBUZXN0cyB0aGUgaW1wbGVtZW50YXRpb24gYnkgZG93bmxvYWRpbmcgYSBwcmVkZXRlcm1pbmVkIHRhci5nelxuLy8gICBmcm9tIGEgbW9ja2VkIEhUVFAtc2VydmVyIGludG8gYSBtb2NrZWQgZmlsZXN5c3RlbS4gRG9lcyBzb21lXG4vLyAgIHJlZHVuZGFuY3kgdGVzdHMgc3VjaCBhcyBjaGVja2luZyB0aGUgZmlsZSBjb25zdGVudHMgYW5kIGRvdWJsZVxuLy8gICBjaGVja2luZyBpdHMgTUQ1IGhhc2guXG4vLyAgIFJldHVybnMgYSBwcm9taXNlIGNvbnRhaW5pbmcgYSBib29sZWFuLCB0cnVlIGlmIHRlc3RzIHBhc3NlZC5cblxuXG52YXIgdGVzdCA9IGZ1bmN0aW9uIHRlc3QoKSB7XG4gIHZhciBmaWxlUGF0aCA9IFwiL3N3YXJtL2Zvby50eHRcIjtcbiAgdmFyIGZpbGVIYXNoID0gXCJkM2IwNzM4NGQxMTNlZGVjNDllYWE2MjM4YWQ1ZmYwMFwiO1xuICB2YXIgYXJjaGl2ZVVybCA9IFwiaHR0cDovL2xvY2FsaG9zdDoxMjUzNFwiO1xuICB2YXIgYXJjaGl2ZUhhc2ggPSBcIjdmYTQ1Zjk0NmJiMmE2OTZiZGQ5OTcyZTBmYmNlYWMyXCI7XG4gIHZhciBhcmNoaXZlRGF0YSA9IG5ldyBCdWZmZXIoWzB4MWYsIDB4OGIsIDB4MDgsIDB4MDAsIDB4ZjEsIDB4MzQsIDB4YWYsIDB4NTgsIDB4MDAsIDB4MDMsIDB4ZWQsIDB4Y2YsIDB4M2QsIDB4MGUsIDB4ODMsIDB4MzAsIDB4MGMsIDB4ODYsIDB4NjEsIDB4NjYsIDB4NGUsIDB4ZTEsIDB4MTMsIDB4NTQsIDB4Y2UsIDB4MGYsIDB4YzksIDB4NzksIDB4NTgsIDB4YjIsIDB4NDYsIDB4ODIsIDB4MTQsIDB4NzEsIDB4N2MsIDB4ZDIsIDB4MDYsIDB4MzEsIDB4NTIsIDB4NzUsIDB4NDAsIDB4MDgsIDB4ZTksIDB4N2QsIDB4OTYsIDB4NGYsIDB4OTYsIDB4M2QsIDB4N2MsIDB4NGUsIDB4MzksIDB4YmYsIDB4Y2EsIDB4NWEsIDB4YmEsIDB4MmIsIDB4YTksIDB4NmEsIDB4ZjAsIDB4NWUsIDB4M2UsIDB4MTksIDB4YzMsIDB4ZjAsIDB4NGQsIDB4YjUsIDB4NmQsIDB4ZGUsIDB4NzksIDB4MzEsIDB4NGUsIDB4MDcsIDB4MTcsIDB4OWMsIDB4YjUsIDB4MzEsIDB4OGEsIDB4MWEsIDB4YWIsIDB4YzYsIDB4NzcsIDB4YTIsIDB4OTcsIDB4YjYsIDB4ZGEsIDB4YmQsIDB4ZTcsIDB4MzIsIDB4NGUsIDB4YjUsIDB4Y2EsIDB4ZjIsIDB4ZTMsIDB4YWUsIDB4OWUsIDB4YTUsIDB4NzQsIDB4YjIsIDB4NmYsIDB4OGYsIDB4YzgsIDB4OTEsIDB4MGYsIDB4OTEsIDB4NzIsIDB4ZWUsIDB4ZWYsIDB4ZWUsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4ZjgsIDB4ZGYsIDB4MDYsIDB4YjMsIDB4MmEsIDB4ZGEsIDB4ZWQsIDB4MDAsIDB4MjgsIDB4MDAsIDB4MDBdKTtcblxuICB2YXIgY3J5cHRvID0gcmVxdWlyZShcImNyeXB0b1wiKTtcblxuICB2YXIgZnNNb2NrID0gcmVxdWlyZShcIm1vY2stZnNcIikoe1xuICAgIFwiL3N3YXJtXCI6IHt9XG4gIH0pO1xuXG4gIHZhciBodHRwTW9jayA9IHJlcXVpcmUoXCJodHRwXCIpLmNyZWF0ZVNlcnZlcihmdW5jdGlvbiAoXywgcmVzKSB7XG4gICAgcmV0dXJuIHJlcy5lbmQoYXJjaGl2ZURhdGEpO1xuICB9KS5saXN0ZW4oMTI1MzQpO1xuXG4gIHJldHVybiBzYWZlRG93bmxvYWRBcmNoaXZlZChhcmNoaXZlVXJsKShhcmNoaXZlSGFzaCkoZmlsZUhhc2gpKGZpbGVQYXRoKS50aGVuKGNoZWNrc3VtKGZpbGVIYXNoKSkudGhlbihyZWFkVVRGOCkudGhlbihmdW5jdGlvbiAodGV4dCkge1xuICAgIHJldHVybiB0ZXh0ID09PSBcImZvb1xcblwiO1xuICB9KS50aGVuKGFzc2VydCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHNhZmVEb3dubG9hZEFyY2hpdmVkKGFyY2hpdmVVcmwpKGFyY2hpdmVIYXNoKShmaWxlSGFzaCkoZmlsZVBhdGgpO1xuICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSlbXCJjYXRjaFwiXShmYWxzZSlbXCJmaW5hbGx5XCJdKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gaHR0cE1vY2suY2xvc2UoKTtcbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZG93bmxvYWQ6IGRvd25sb2FkLFxuICBoYXNoOiBoYXNoLFxuICBjaGVja3N1bTogY2hlY2tzdW0sXG4gIGRvd25sb2FkQW5kQ2hlY2s6IGRvd25sb2FkQW5kQ2hlY2ssXG4gIGV4dHJhY3Q6IGV4dHJhY3QsXG4gIHJlYWRVVEY4OiByZWFkVVRGOCxcbiAgc2FmZURvd25sb2FkQXJjaGl2ZWQ6IHNhZmVEb3dubG9hZEFyY2hpdmVkLFxuICBkaXJlY3RvcnlUcmVlOiBkaXJlY3RvcnlUcmVlLFxuICBkb3dubG9hZEFyY2hpdmVkOiBkb3dubG9hZEFyY2hpdmVkLFxuICBzZWFyY2g6IHNlYXJjaCxcbiAgdGVzdDogdGVzdFxufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/lib/files.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/lib/pick.js":
/*!*******************************************!*\
  !*** ./node_modules/swarm-js/lib/pick.js ***!
  \*******************************************/
/***/ ((module) => {

eval("var picker = function picker(type) {\n  return function () {\n    return new Promise(function (resolve, reject) {\n      var fileLoader = function fileLoader(e) {\n        var directory = {};\n        var totalFiles = e.target.files.length;\n        var loadedFiles = 0;\n        [].map.call(e.target.files, function (file) {\n          var reader = new FileReader();\n\n          reader.onload = function (e) {\n            var data = new Uint8Array(e.target.result);\n\n            if (type === \"directory\") {\n              var path = file.webkitRelativePath;\n              directory[path.slice(path.indexOf(\"/\") + 1)] = {\n                type: \"text/plain\",\n                data: data\n              };\n              if (++loadedFiles === totalFiles) resolve(directory);\n            } else if (type === \"file\") {\n              var _path = file.webkitRelativePath;\n              resolve({\n                \"type\": mimetype.lookup(_path),\n                \"data\": data\n              });\n            } else {\n              resolve(data);\n            }\n          };\n\n          reader.readAsArrayBuffer(file);\n        });\n      };\n\n      var fileInput;\n\n      if (type === \"directory\") {\n        fileInput = document.createElement(\"input\");\n        fileInput.addEventListener(\"change\", fileLoader);\n        fileInput.type = \"file\";\n        fileInput.webkitdirectory = true;\n        fileInput.mozdirectory = true;\n        fileInput.msdirectory = true;\n        fileInput.odirectory = true;\n        fileInput.directory = true;\n      } else {\n        fileInput = document.createElement(\"input\");\n        fileInput.addEventListener(\"change\", fileLoader);\n        fileInput.type = \"file\";\n      }\n\n      ;\n      var mouseEvent = document.createEvent(\"MouseEvents\");\n      mouseEvent.initEvent(\"click\", true, false);\n      fileInput.dispatchEvent(mouseEvent);\n    });\n  };\n};\n\nmodule.exports = {\n  data: picker(\"data\"),\n  file: picker(\"file\"),\n  directory: picker(\"directory\")\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbGliL3BpY2suanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2YsY0FBYztBQUNkO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBvcnRrZXkvbmV4dC1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL3N3YXJtLWpzL2xpYi9waWNrLmpzPzY2YjEiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHBpY2tlciA9IGZ1bmN0aW9uIHBpY2tlcih0eXBlKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBmaWxlTG9hZGVyID0gZnVuY3Rpb24gZmlsZUxvYWRlcihlKSB7XG4gICAgICAgIHZhciBkaXJlY3RvcnkgPSB7fTtcbiAgICAgICAgdmFyIHRvdGFsRmlsZXMgPSBlLnRhcmdldC5maWxlcy5sZW5ndGg7XG4gICAgICAgIHZhciBsb2FkZWRGaWxlcyA9IDA7XG4gICAgICAgIFtdLm1hcC5jYWxsKGUudGFyZ2V0LmZpbGVzLCBmdW5jdGlvbiAoZmlsZSkge1xuICAgICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXG4gICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IG5ldyBVaW50OEFycmF5KGUudGFyZ2V0LnJlc3VsdCk7XG5cbiAgICAgICAgICAgIGlmICh0eXBlID09PSBcImRpcmVjdG9yeVwiKSB7XG4gICAgICAgICAgICAgIHZhciBwYXRoID0gZmlsZS53ZWJraXRSZWxhdGl2ZVBhdGg7XG4gICAgICAgICAgICAgIGRpcmVjdG9yeVtwYXRoLnNsaWNlKHBhdGguaW5kZXhPZihcIi9cIikgKyAxKV0gPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJ0ZXh0L3BsYWluXCIsXG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBpZiAoKytsb2FkZWRGaWxlcyA9PT0gdG90YWxGaWxlcykgcmVzb2x2ZShkaXJlY3RvcnkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBcImZpbGVcIikge1xuICAgICAgICAgICAgICB2YXIgX3BhdGggPSBmaWxlLndlYmtpdFJlbGF0aXZlUGF0aDtcbiAgICAgICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IG1pbWV0eXBlLmxvb2t1cChfcGF0aCksXG4gICAgICAgICAgICAgICAgXCJkYXRhXCI6IGRhdGFcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXNvbHZlKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoZmlsZSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgdmFyIGZpbGVJbnB1dDtcblxuICAgICAgaWYgKHR5cGUgPT09IFwiZGlyZWN0b3J5XCIpIHtcbiAgICAgICAgZmlsZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICBmaWxlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBmaWxlTG9hZGVyKTtcbiAgICAgICAgZmlsZUlucHV0LnR5cGUgPSBcImZpbGVcIjtcbiAgICAgICAgZmlsZUlucHV0LndlYmtpdGRpcmVjdG9yeSA9IHRydWU7XG4gICAgICAgIGZpbGVJbnB1dC5tb3pkaXJlY3RvcnkgPSB0cnVlO1xuICAgICAgICBmaWxlSW5wdXQubXNkaXJlY3RvcnkgPSB0cnVlO1xuICAgICAgICBmaWxlSW5wdXQub2RpcmVjdG9yeSA9IHRydWU7XG4gICAgICAgIGZpbGVJbnB1dC5kaXJlY3RvcnkgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmlsZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICBmaWxlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBmaWxlTG9hZGVyKTtcbiAgICAgICAgZmlsZUlucHV0LnR5cGUgPSBcImZpbGVcIjtcbiAgICAgIH1cblxuICAgICAgO1xuICAgICAgdmFyIG1vdXNlRXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcIk1vdXNlRXZlbnRzXCIpO1xuICAgICAgbW91c2VFdmVudC5pbml0RXZlbnQoXCJjbGlja1wiLCB0cnVlLCBmYWxzZSk7XG4gICAgICBmaWxlSW5wdXQuZGlzcGF0Y2hFdmVudChtb3VzZUV2ZW50KTtcbiAgICB9KTtcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBkYXRhOiBwaWNrZXIoXCJkYXRhXCIpLFxuICBmaWxlOiBwaWNrZXIoXCJmaWxlXCIpLFxuICBkaXJlY3Rvcnk6IHBpY2tlcihcImRpcmVjdG9yeVwiKVxufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/lib/pick.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/lib/swarm-hash.js":
/*!*************************************************!*\
  !*** ./node_modules/swarm-js/lib/swarm-hash.js ***!
  \*************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("// Thanks https://github.com/axic/swarmhash\nvar keccak = (__webpack_require__(/*! eth-lib/lib/hash */ \"(ssr)/./node_modules/swarm-js/node_modules/eth-lib/lib/hash.js\").keccak256);\n\nvar Bytes = __webpack_require__(/*! eth-lib/lib/bytes */ \"(ssr)/./node_modules/swarm-js/node_modules/eth-lib/lib/bytes.js\");\n\nvar swarmHashBlock = function swarmHashBlock(length, data) {\n  var lengthEncoded = Bytes.reverse(Bytes.pad(6, Bytes.fromNumber(length)));\n  var bytes = Bytes.flatten([lengthEncoded, \"0x0000\", data]);\n  return keccak(bytes).slice(2);\n}; // (Bytes | Uint8Array | String) -> String\n\n\nvar swarmHash = function swarmHash(data) {\n  if (typeof data === \"string\" && data.slice(0, 2) !== \"0x\") {\n    data = Bytes.fromString(data);\n  } else if (typeof data !== \"string\" && data.length !== undefined) {\n    data = Bytes.fromUint8Array(data);\n  }\n\n  var length = Bytes.length(data);\n\n  if (length <= 4096) {\n    return swarmHashBlock(length, data);\n  }\n\n  var maxSize = 4096;\n\n  while (maxSize * (4096 / 32) < length) {\n    maxSize *= 4096 / 32;\n  }\n\n  var innerNodes = [];\n\n  for (var i = 0; i < length; i += maxSize) {\n    var size = maxSize < length - i ? maxSize : length - i;\n    innerNodes.push(swarmHash(Bytes.slice(data, i, i + size)));\n  }\n\n  return swarmHashBlock(length, Bytes.flatten(innerNodes));\n};\n\nmodule.exports = swarmHash;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbGliL3N3YXJtLWhhc2guanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSxhQUFhLHlIQUFxQzs7QUFFbEQsWUFBWSxtQkFBTyxDQUFDLDBGQUFtQjs7QUFFdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSDtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBLGtCQUFrQixZQUFZO0FBQzlCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBvcnRrZXkvbmV4dC1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL3N3YXJtLWpzL2xpYi9zd2FybS1oYXNoLmpzPzIxZGMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhhbmtzIGh0dHBzOi8vZ2l0aHViLmNvbS9heGljL3N3YXJtaGFzaFxudmFyIGtlY2NhayA9IHJlcXVpcmUoXCJldGgtbGliL2xpYi9oYXNoXCIpLmtlY2NhazI1NjtcblxudmFyIEJ5dGVzID0gcmVxdWlyZShcImV0aC1saWIvbGliL2J5dGVzXCIpO1xuXG52YXIgc3dhcm1IYXNoQmxvY2sgPSBmdW5jdGlvbiBzd2FybUhhc2hCbG9jayhsZW5ndGgsIGRhdGEpIHtcbiAgdmFyIGxlbmd0aEVuY29kZWQgPSBCeXRlcy5yZXZlcnNlKEJ5dGVzLnBhZCg2LCBCeXRlcy5mcm9tTnVtYmVyKGxlbmd0aCkpKTtcbiAgdmFyIGJ5dGVzID0gQnl0ZXMuZmxhdHRlbihbbGVuZ3RoRW5jb2RlZCwgXCIweDAwMDBcIiwgZGF0YV0pO1xuICByZXR1cm4ga2VjY2FrKGJ5dGVzKS5zbGljZSgyKTtcbn07IC8vIChCeXRlcyB8IFVpbnQ4QXJyYXkgfCBTdHJpbmcpIC0+IFN0cmluZ1xuXG5cbnZhciBzd2FybUhhc2ggPSBmdW5jdGlvbiBzd2FybUhhc2goZGF0YSkge1xuICBpZiAodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIgJiYgZGF0YS5zbGljZSgwLCAyKSAhPT0gXCIweFwiKSB7XG4gICAgZGF0YSA9IEJ5dGVzLmZyb21TdHJpbmcoZGF0YSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGRhdGEgIT09IFwic3RyaW5nXCIgJiYgZGF0YS5sZW5ndGggIT09IHVuZGVmaW5lZCkge1xuICAgIGRhdGEgPSBCeXRlcy5mcm9tVWludDhBcnJheShkYXRhKTtcbiAgfVxuXG4gIHZhciBsZW5ndGggPSBCeXRlcy5sZW5ndGgoZGF0YSk7XG5cbiAgaWYgKGxlbmd0aCA8PSA0MDk2KSB7XG4gICAgcmV0dXJuIHN3YXJtSGFzaEJsb2NrKGxlbmd0aCwgZGF0YSk7XG4gIH1cblxuICB2YXIgbWF4U2l6ZSA9IDQwOTY7XG5cbiAgd2hpbGUgKG1heFNpemUgKiAoNDA5NiAvIDMyKSA8IGxlbmd0aCkge1xuICAgIG1heFNpemUgKj0gNDA5NiAvIDMyO1xuICB9XG5cbiAgdmFyIGlubmVyTm9kZXMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSArPSBtYXhTaXplKSB7XG4gICAgdmFyIHNpemUgPSBtYXhTaXplIDwgbGVuZ3RoIC0gaSA/IG1heFNpemUgOiBsZW5ndGggLSBpO1xuICAgIGlubmVyTm9kZXMucHVzaChzd2FybUhhc2goQnl0ZXMuc2xpY2UoZGF0YSwgaSwgaSArIHNpemUpKSk7XG4gIH1cblxuICByZXR1cm4gc3dhcm1IYXNoQmxvY2sobGVuZ3RoLCBCeXRlcy5mbGF0dGVuKGlubmVyTm9kZXMpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gc3dhcm1IYXNoOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/lib/swarm-hash.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/lib/swarm.js":
/*!********************************************!*\
  !*** ./node_modules/swarm-js/lib/swarm.js ***!
  \********************************************/
/***/ ((module) => {

eval("// TODO: this is a temporary fix to hide those libraries from the browser. A\n// slightly better long-term solution would be to split this file into two,\n// separating the functions that are used on Node.js from the functions that\n// are used only on the browser.\nmodule.exports = function (_ref) {\n  var fs = _ref.fs,\n      files = _ref.files,\n      os = _ref.os,\n      path = _ref.path,\n      child_process = _ref.child_process,\n      mimetype = _ref.mimetype,\n      defaultArchives = _ref.defaultArchives,\n      request = _ref.request,\n      downloadUrl = _ref.downloadUrl,\n      bytes = _ref.bytes,\n      hash = _ref.hash,\n      pick = _ref.pick;\n\n  // ∀ a . String -> JSON -> Map String a -o Map String a\n  //   Inserts a key/val pair in an object impurely.\n  var impureInsert = function impureInsert(key) {\n    return function (val) {\n      return function (map) {\n        return map[key] = val, map;\n      };\n    };\n  }; // String -> JSON -> Map String JSON\n  //   Merges an array of keys and an array of vals into an object.\n\n\n  var toMap = function toMap(keys) {\n    return function (vals) {\n      var map = {};\n\n      for (var i = 0, l = keys.length; i < l; ++i) {\n        map[keys[i]] = vals[i];\n      }\n\n      return map;\n    };\n  }; // ∀ a . Map String a -> Map String a -> Map String a\n  //   Merges two maps into one.\n\n\n  var merge = function merge(a) {\n    return function (b) {\n      var map = {};\n\n      for (var key in a) {\n        map[key] = a[key];\n      }\n\n      for (var _key in b) {\n        map[_key] = b[_key];\n      }\n\n      return map;\n    };\n  }; // ∀ a . [a] -> [a] -> Bool\n\n\n  var equals = function equals(a) {\n    return function (b) {\n      if (a.length !== b.length) {\n        return false;\n      } else {\n        for (var i = 0, l = a.length; i < l; ++i) {\n          if (a[i] !== b[i]) return false;\n        }\n      }\n\n      return true;\n    };\n  }; // String -> String -> String\n\n\n  var rawUrl = function rawUrl(swarmUrl) {\n    return function (hash) {\n      return \"\".concat(swarmUrl, \"/bzz-raw:/\").concat(hash);\n    };\n  }; // String -> String -> Promise Uint8Array\n  //   Gets the raw contents of a Swarm hash address.\n\n\n  var downloadData = function downloadData(swarmUrl) {\n    return function (hash) {\n      return new Promise(function (resolve, reject) {\n        request(rawUrl(swarmUrl)(hash), {\n          responseType: \"arraybuffer\"\n        }, function (err, arrayBuffer, response) {\n          if (err) {\n            return reject(err);\n          }\n\n          if (response.statusCode >= 400) {\n            return reject(new Error(\"Error \".concat(response.statusCode, \".\")));\n          }\n\n          return resolve(new Uint8Array(arrayBuffer));\n        });\n      });\n    };\n  }; // type Entry = {\"type\": String, \"hash\": String}\n  // type File = {\"type\": String, \"data\": Uint8Array}\n  // String -> String -> Promise (Map String Entry)\n  //   Solves the manifest of a Swarm address recursively.\n  //   Returns a map from full paths to entries.\n\n\n  var downloadEntries = function downloadEntries(swarmUrl) {\n    return function (hash) {\n      var search = function search(hash) {\n        return function (path) {\n          return function (routes) {\n            // Formats an entry to the Swarm.js type.\n            var format = function format(entry) {\n              return {\n                type: entry.contentType,\n                hash: entry.hash\n              };\n            }; // To download a single entry:\n            //   if type is bzz-manifest, go deeper\n            //   if not, add it to the routing table\n\n\n            var downloadEntry = function downloadEntry(entry) {\n              if (entry.path === undefined) {\n                return Promise.resolve();\n              } else {\n                return entry.contentType === \"application/bzz-manifest+json\" ? search(entry.hash)(path + entry.path)(routes) : Promise.resolve(impureInsert(path + entry.path)(format(entry))(routes));\n              }\n            }; // Downloads the initial manifest and then each entry.\n\n\n            return downloadData(swarmUrl)(hash).then(function (text) {\n              return JSON.parse(toString(text)).entries;\n            }).then(function (entries) {\n              return Promise.all(entries.map(downloadEntry));\n            }).then(function () {\n              return routes;\n            });\n          };\n        };\n      };\n\n      return search(hash)(\"\")({});\n    };\n  }; // String -> String -> Promise (Map String String)\n  //   Same as `downloadEntries`, but returns only hashes (no types).\n\n\n  var downloadRoutes = function downloadRoutes(swarmUrl) {\n    return function (hash) {\n      return downloadEntries(swarmUrl)(hash).then(function (entries) {\n        return toMap(Object.keys(entries))(Object.keys(entries).map(function (route) {\n          return entries[route].hash;\n        }));\n      });\n    };\n  }; // String -> String -> Promise (Map String File)\n  //   Gets the entire directory tree in a Swarm address.\n  //   Returns a promise mapping paths to file contents.\n\n\n  var downloadDirectory = function downloadDirectory(swarmUrl) {\n    return function (hash) {\n      return downloadEntries(swarmUrl)(hash).then(function (entries) {\n        var paths = Object.keys(entries);\n        var hashs = paths.map(function (path) {\n          return entries[path].hash;\n        });\n        var types = paths.map(function (path) {\n          return entries[path].type;\n        });\n        var datas = hashs.map(downloadData(swarmUrl));\n\n        var files = function files(datas) {\n          return datas.map(function (data, i) {\n            return {\n              type: types[i],\n              data: data\n            };\n          });\n        };\n\n        return Promise.all(datas).then(function (datas) {\n          return toMap(paths)(files(datas));\n        });\n      });\n    };\n  }; // String -> String -> String -> Promise String\n  //   Gets the raw contents of a Swarm hash address.\n  //   Returns a promise with the downloaded file path.\n\n\n  var downloadDataToDisk = function downloadDataToDisk(swarmUrl) {\n    return function (hash) {\n      return function (filePath) {\n        return files.download(rawUrl(swarmUrl)(hash))(filePath);\n      };\n    };\n  }; // String -> String -> String -> Promise (Map String String)\n  //   Gets the entire directory tree in a Swarm address.\n  //   Returns a promise mapping paths to file contents.\n\n\n  var downloadDirectoryToDisk = function downloadDirectoryToDisk(swarmUrl) {\n    return function (hash) {\n      return function (dirPath) {\n        return downloadRoutes(swarmUrl)(hash).then(function (routingTable) {\n          var downloads = [];\n\n          for (var route in routingTable) {\n            if (route.length > 0) {\n              var filePath = path.join(dirPath, route);\n              downloads.push(downloadDataToDisk(swarmUrl)(routingTable[route])(filePath));\n            }\n\n            ;\n          }\n\n          ;\n          return Promise.all(downloads).then(function () {\n            return dirPath;\n          });\n        });\n      };\n    };\n  }; // String -> Uint8Array -> Promise String\n  //   Uploads raw data to Swarm.\n  //   Returns a promise with the uploaded hash.\n\n\n  var uploadData = function uploadData(swarmUrl) {\n    return function (data) {\n      return new Promise(function (resolve, reject) {\n        var params = {\n          body: typeof data === \"string\" ? fromString(data) : data,\n          method: \"POST\"\n        };\n        request(\"\".concat(swarmUrl, \"/bzz-raw:/\"), params, function (err, data) {\n          if (err) {\n            return reject(err);\n          }\n\n          return resolve(data);\n        });\n      });\n    };\n  }; // String -> String -> String -> File -> Promise String\n  //   Uploads a file to the Swarm manifest at a given hash, under a specific\n  //   route. Returns a promise containing the uploaded hash.\n  //   FIXME: for some reasons Swarm-Gateways is sometimes returning\n  //   error 404 (bad request), so we retry up to 3 times. Why?\n\n\n  var uploadToManifest = function uploadToManifest(swarmUrl) {\n    return function (hash) {\n      return function (route) {\n        return function (file) {\n          var attempt = function attempt(n) {\n            var slashRoute = route[0] === \"/\" ? route : \"/\" + route;\n            var url = \"\".concat(swarmUrl, \"/bzz:/\").concat(hash).concat(slashRoute);\n            var opt = {\n              method: \"PUT\",\n              headers: {\n                \"Content-Type\": file.type\n              },\n              body: file.data\n            };\n            return new Promise(function (resolve, reject) {\n              request(url, opt, function (err, data) {\n                if (err) {\n                  return reject(err);\n                }\n\n                if (data.indexOf(\"error\") !== -1) {\n                  return reject(data);\n                }\n\n                return resolve(data);\n              });\n            })[\"catch\"](function (e) {\n              return n > 0 && attempt(n - 1);\n            });\n          };\n\n          return attempt(3);\n        };\n      };\n    };\n  }; // String -> {type: String, data: Uint8Array} -> Promise String\n\n\n  var uploadFile = function uploadFile(swarmUrl) {\n    return function (file) {\n      return uploadDirectory(swarmUrl)({\n        \"\": file\n      });\n    };\n  }; // String -> String -> Promise String\n\n\n  var uploadFileFromDisk = function uploadFileFromDisk(swarmUrl) {\n    return function (filePath) {\n      return fs.readFile(filePath).then(function (data) {\n        return uploadFile(swarmUrl)({\n          type: mimetype.lookup(filePath),\n          data: data\n        });\n      });\n    };\n  }; // String -> Map String File -> Promise String\n  //   Uploads a directory to Swarm. The directory is\n  //   represented as a map of routes and files.\n  //   A default path is encoded by having a \"\" route.\n\n\n  var uploadDirectory = function uploadDirectory(swarmUrl) {\n    return function (directory) {\n      return uploadData(swarmUrl)(\"{}\").then(function (hash) {\n        var uploadRoute = function uploadRoute(route) {\n          return function (hash) {\n            return uploadToManifest(swarmUrl)(hash)(route)(directory[route]);\n          };\n        };\n\n        var uploadToHash = function uploadToHash(hash, route) {\n          return hash.then(uploadRoute(route));\n        };\n\n        return Object.keys(directory).reduce(uploadToHash, Promise.resolve(hash));\n      });\n    };\n  }; // String -> Promise String\n\n\n  var uploadDataFromDisk = function uploadDataFromDisk(swarmUrl) {\n    return function (filePath) {\n      return fs.readFile(filePath).then(uploadData(swarmUrl));\n    };\n  }; // String -> Nullable String -> String -> Promise String\n\n\n  var uploadDirectoryFromDisk = function uploadDirectoryFromDisk(swarmUrl) {\n    return function (defaultPath) {\n      return function (dirPath) {\n        return files.directoryTree(dirPath).then(function (fullPaths) {\n          return Promise.all(fullPaths.map(function (path) {\n            return fs.readFile(path);\n          })).then(function (datas) {\n            var paths = fullPaths.map(function (path) {\n              return path.slice(dirPath.length);\n            });\n            var types = fullPaths.map(function (path) {\n              return mimetype.lookup(path) || \"text/plain\";\n            });\n            return toMap(paths)(datas.map(function (data, i) {\n              return {\n                type: types[i],\n                data: data\n              };\n            }));\n          });\n        }).then(function (directory) {\n          return merge(defaultPath ? {\n            \"\": directory[defaultPath]\n          } : {})(directory);\n        }).then(uploadDirectory(swarmUrl));\n      };\n    };\n  }; // String -> UploadInfo -> Promise String\n  //   Simplified multi-type upload which calls the correct\n  //   one based on the type of the argument given.\n\n\n  var _upload = function upload(swarmUrl) {\n    return function (arg) {\n      // Upload raw data from browser\n      if (arg.pick === \"data\") {\n        return pick.data().then(uploadData(swarmUrl)); // Upload a file from browser\n      } else if (arg.pick === \"file\") {\n        return pick.file().then(uploadFile(swarmUrl)); // Upload a directory from browser\n      } else if (arg.pick === \"directory\") {\n        return pick.directory().then(uploadDirectory(swarmUrl)); // Upload directory/file from disk\n      } else if (arg.path) {\n        switch (arg.kind) {\n          case \"data\":\n            return uploadDataFromDisk(swarmUrl)(arg.path);\n\n          case \"file\":\n            return uploadFileFromDisk(swarmUrl)(arg.path);\n\n          case \"directory\":\n            return uploadDirectoryFromDisk(swarmUrl)(arg.defaultFile)(arg.path);\n        }\n\n        ; // Upload UTF-8 string or raw data (buffer)\n      } else if (arg.length || typeof arg === \"string\") {\n        return uploadData(swarmUrl)(arg); // Upload directory with JSON\n      } else if (arg instanceof Object) {\n        return uploadDirectory(swarmUrl)(arg);\n      }\n\n      return Promise.reject(new Error(\"Bad arguments\"));\n    };\n  }; // String -> String -> Nullable String -> Promise (String | Uint8Array | Map String Uint8Array)\n  //   Simplified multi-type download which calls the correct function based on\n  //   the type of the argument given, and on whether the Swwarm address has a\n  //   directory or a file.\n\n\n  var _download = function download(swarmUrl) {\n    return function (hash) {\n      return function (path) {\n        return isDirectory(swarmUrl)(hash).then(function (isDir) {\n          if (isDir) {\n            return path ? downloadDirectoryToDisk(swarmUrl)(hash)(path) : downloadDirectory(swarmUrl)(hash);\n          } else {\n            return path ? downloadDataToDisk(swarmUrl)(hash)(path) : downloadData(swarmUrl)(hash);\n          }\n        });\n      };\n    };\n  }; // String -> Promise String\n  //   Downloads the Swarm binaries into a path. Returns a promise that only\n  //   resolves when the exact Swarm file is there, and verified to be correct.\n  //   If it was already there to begin with, skips the download.\n\n\n  var downloadBinary = function downloadBinary(path, archives) {\n    var system = os.platform().replace(\"win32\", \"windows\") + \"-\" + (os.arch() === \"x64\" ? \"amd64\" : \"386\");\n    var archive = (archives || defaultArchives)[system];\n    var archiveUrl = downloadUrl + archive.archive + \".tar.gz\";\n    var archiveMD5 = archive.archiveMD5;\n    var binaryMD5 = archive.binaryMD5;\n    return files.safeDownloadArchived(archiveUrl)(archiveMD5)(binaryMD5)(path);\n  }; // type SwarmSetup = {\n  //   account : String,\n  //   password : String,\n  //   dataDir : String,\n  //   binPath : String,\n  //   ensApi : String,\n  //   onDownloadProgress : Number ~> (),\n  //   archives : [{\n  //     archive: String,\n  //     binaryMD5: String,\n  //     archiveMD5: String\n  //   }]\n  // }\n  // SwarmSetup ~> Promise Process\n  //   Starts the Swarm process.\n\n\n  var startProcess = function startProcess(swarmSetup) {\n    return new Promise(function (resolve, reject) {\n      var spawn = child_process.spawn;\n\n      var hasString = function hasString(str) {\n        return function (buffer) {\n          return ('' + buffer).indexOf(str) !== -1;\n        };\n      };\n\n      var account = swarmSetup.account,\n          password = swarmSetup.password,\n          dataDir = swarmSetup.dataDir,\n          ensApi = swarmSetup.ensApi,\n          privateKey = swarmSetup.privateKey;\n      var STARTUP_TIMEOUT_SECS = 3;\n      var WAITING_PASSWORD = 0;\n      var STARTING = 1;\n      var LISTENING = 2;\n      var PASSWORD_PROMPT_HOOK = \"Passphrase\";\n      var LISTENING_HOOK = \"Swarm http proxy started\";\n      var state = WAITING_PASSWORD;\n      var swarmProcess = spawn(swarmSetup.binPath, ['--bzzaccount', account || privateKey, '--datadir', dataDir, '--ens-api', ensApi]);\n\n      var handleProcessOutput = function handleProcessOutput(data) {\n        if (state === WAITING_PASSWORD && hasString(PASSWORD_PROMPT_HOOK)(data)) {\n          setTimeout(function () {\n            state = STARTING;\n            swarmProcess.stdin.write(password + '\\n');\n          }, 500);\n        } else if (hasString(LISTENING_HOOK)(data)) {\n          state = LISTENING;\n          clearTimeout(timeout);\n          resolve(swarmProcess);\n        }\n      };\n\n      swarmProcess.stdout.on('data', handleProcessOutput);\n      swarmProcess.stderr.on('data', handleProcessOutput); //swarmProcess.on('close', () => setTimeout(restart, 2000));\n\n      var restart = function restart() {\n        return startProcess(swarmSetup).then(resolve)[\"catch\"](reject);\n      };\n\n      var error = function error() {\n        return reject(new Error(\"Couldn't start swarm process.\"));\n      };\n\n      var timeout = setTimeout(error, 20000);\n    });\n  }; // Process ~> Promise ()\n  //   Stops the Swarm process.\n\n\n  var stopProcess = function stopProcess(process) {\n    return new Promise(function (resolve, reject) {\n      process.stderr.removeAllListeners('data');\n      process.stdout.removeAllListeners('data');\n      process.stdin.removeAllListeners('error');\n      process.removeAllListeners('error');\n      process.removeAllListeners('exit');\n      process.kill('SIGINT');\n      var killTimeout = setTimeout(function () {\n        return process.kill('SIGKILL');\n      }, 8000);\n      process.once('close', function () {\n        clearTimeout(killTimeout);\n        resolve();\n      });\n    });\n  }; // SwarmSetup -> (SwarmAPI -> Promise ()) -> Promise ()\n  //   Receives a Swarm configuration object and a callback function. It then\n  //   checks if a local Swarm node is running. If no local Swarm is found, it\n  //   downloads the Swarm binaries to the dataDir (if not there), checksums,\n  //   starts the Swarm process and calls the callback function with an API\n  //   object using the local node. That callback must return a promise which\n  //   will resolve when it is done using the API, so that this function can\n  //   close the Swarm process properly. Returns a promise that resolves when the\n  //   user is done with the API and the Swarm process is closed.\n  //   TODO: check if Swarm process is already running (improve `isAvailable`)\n\n\n  var local = function local(swarmSetup) {\n    return function (useAPI) {\n      return _isAvailable(\"http://localhost:8500\").then(function (isAvailable) {\n        return isAvailable ? useAPI(at(\"http://localhost:8500\")).then(function () {}) : downloadBinary(swarmSetup.binPath, swarmSetup.archives).onData(function (data) {\n          return (swarmSetup.onProgress || function () {})(data.length);\n        }).then(function () {\n          return startProcess(swarmSetup);\n        }).then(function (process) {\n          return useAPI(at(\"http://localhost:8500\")).then(function () {\n            return process;\n          });\n        }).then(stopProcess);\n      });\n    };\n  }; // String ~> Promise Bool\n  //   Returns true if Swarm is available on `url`.\n  //   Perfoms a test upload to determine that.\n  //   TODO: improve this?\n\n\n  var _isAvailable = function isAvailable(swarmUrl) {\n    var testFile = \"test\";\n    var testHash = \"c9a99c7d326dcc6316f32fe2625b311f6dc49a175e6877681ded93137d3569e7\";\n    return uploadData(swarmUrl)(testFile).then(function (hash) {\n      return hash === testHash;\n    })[\"catch\"](function () {\n      return false;\n    });\n  }; // String -> String ~> Promise Bool\n  //   Returns a Promise which is true if that Swarm address is a directory.\n  //   Determines that by checking that it (i) is a JSON, (ii) has a .entries.\n  //   TODO: improve this?\n\n\n  var isDirectory = function isDirectory(swarmUrl) {\n    return function (hash) {\n      return downloadData(swarmUrl)(hash).then(function (data) {\n        try {\n          return !!JSON.parse(toString(data)).entries;\n        } catch (e) {\n          return false;\n        }\n      });\n    };\n  }; // Uncurries a function; used to allow the f(x,y,z) style on exports.\n\n\n  var uncurry = function uncurry(f) {\n    return function (a, b, c, d, e) {\n      var p; // Hardcoded because efficiency (`arguments` is very slow).\n\n      if (typeof a !== \"undefined\") p = f(a);\n      if (typeof b !== \"undefined\") p = f(b);\n      if (typeof c !== \"undefined\") p = f(c);\n      if (typeof d !== \"undefined\") p = f(d);\n      if (typeof e !== \"undefined\") p = f(e);\n      return p;\n    };\n  }; // () -> Promise Bool\n  //   Not sure how to mock Swarm to test it properly. Ideas?\n\n\n  var test = function test() {\n    return Promise.resolve(true);\n  }; // Uint8Array -> String\n\n\n  var toString = function toString(uint8Array) {\n    return bytes.toString(bytes.fromUint8Array(uint8Array));\n  }; // String -> Uint8Array\n\n\n  var fromString = function fromString(string) {\n    return bytes.toUint8Array(bytes.fromString(string));\n  }; // String -> SwarmAPI\n  //   Fixes the `swarmUrl`, returning an API where you don't have to pass it.\n\n\n  var at = function at(swarmUrl) {\n    return {\n      download: function download(hash, path) {\n        return _download(swarmUrl)(hash)(path);\n      },\n      downloadData: uncurry(downloadData(swarmUrl)),\n      downloadDataToDisk: uncurry(downloadDataToDisk(swarmUrl)),\n      downloadDirectory: uncurry(downloadDirectory(swarmUrl)),\n      downloadDirectoryToDisk: uncurry(downloadDirectoryToDisk(swarmUrl)),\n      downloadEntries: uncurry(downloadEntries(swarmUrl)),\n      downloadRoutes: uncurry(downloadRoutes(swarmUrl)),\n      isAvailable: function isAvailable() {\n        return _isAvailable(swarmUrl);\n      },\n      upload: function upload(arg) {\n        return _upload(swarmUrl)(arg);\n      },\n      uploadData: uncurry(uploadData(swarmUrl)),\n      uploadFile: uncurry(uploadFile(swarmUrl)),\n      uploadFileFromDisk: uncurry(uploadFile(swarmUrl)),\n      uploadDataFromDisk: uncurry(uploadDataFromDisk(swarmUrl)),\n      uploadDirectory: uncurry(uploadDirectory(swarmUrl)),\n      uploadDirectoryFromDisk: uncurry(uploadDirectoryFromDisk(swarmUrl)),\n      uploadToManifest: uncurry(uploadToManifest(swarmUrl)),\n      pick: pick,\n      hash: hash,\n      fromString: fromString,\n      toString: toString\n    };\n  };\n\n  return {\n    at: at,\n    local: local,\n    download: _download,\n    downloadBinary: downloadBinary,\n    downloadData: downloadData,\n    downloadDataToDisk: downloadDataToDisk,\n    downloadDirectory: downloadDirectory,\n    downloadDirectoryToDisk: downloadDirectoryToDisk,\n    downloadEntries: downloadEntries,\n    downloadRoutes: downloadRoutes,\n    isAvailable: _isAvailable,\n    startProcess: startProcess,\n    stopProcess: stopProcess,\n    upload: _upload,\n    uploadData: uploadData,\n    uploadDataFromDisk: uploadDataFromDisk,\n    uploadFile: uploadFile,\n    uploadFileFromDisk: uploadFileFromDisk,\n    uploadDirectory: uploadDirectory,\n    uploadDirectoryFromDisk: uploadDirectoryFromDisk,\n    uploadToManifest: uploadToManifest,\n    pick: pick,\n    hash: hash,\n    fromString: fromString,\n    toString: toString\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbGliL3N3YXJtLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7O0FBR0E7QUFDQTtBQUNBOztBQUVBLHVDQUF1QyxPQUFPO0FBQzlDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7OztBQUdMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLHNDQUFzQyxPQUFPO0FBQzdDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7O0FBR0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQSxLQUFLLGlCQUFpQjtBQUN0QixrQkFBa0I7QUFDbEI7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0EsZUFBZTs7O0FBR2Y7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7O0FBRUEsZ0NBQWdDO0FBQ2hDO0FBQ0EsS0FBSztBQUNMOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxlQUFlO0FBQ2YsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxjQUFjLGdDQUFnQzs7O0FBR25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSzs7O0FBR0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLOzs7QUFHTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7OztBQUdMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQSxZQUFZLElBQUk7QUFDaEIsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQ7QUFDdkQsUUFBUTtBQUNSLHVEQUF1RDtBQUN2RCxRQUFRO0FBQ1IsaUVBQWlFO0FBQ2pFLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsVUFBVTtBQUNWLFFBQVE7QUFDUiwwQ0FBMEM7QUFDMUMsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyREFBMkQ7O0FBRTNEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsS0FBSztBQUNMOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLG9GQUFvRjtBQUNwRix5REFBeUQ7QUFDekQsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0wsS0FBSztBQUNMO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSyx5QkFBeUI7OztBQUc5QjtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7O0FBR0E7QUFDQTtBQUNBLEtBQUs7OztBQUdMO0FBQ0E7QUFDQSxLQUFLOzs7QUFHTDtBQUNBO0FBQ0EsS0FBSztBQUNMOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AcG9ydGtleS9uZXh0LWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbGliL3N3YXJtLmpzPzIzM2MiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVE9ETzogdGhpcyBpcyBhIHRlbXBvcmFyeSBmaXggdG8gaGlkZSB0aG9zZSBsaWJyYXJpZXMgZnJvbSB0aGUgYnJvd3Nlci4gQVxuLy8gc2xpZ2h0bHkgYmV0dGVyIGxvbmctdGVybSBzb2x1dGlvbiB3b3VsZCBiZSB0byBzcGxpdCB0aGlzIGZpbGUgaW50byB0d28sXG4vLyBzZXBhcmF0aW5nIHRoZSBmdW5jdGlvbnMgdGhhdCBhcmUgdXNlZCBvbiBOb2RlLmpzIGZyb20gdGhlIGZ1bmN0aW9ucyB0aGF0XG4vLyBhcmUgdXNlZCBvbmx5IG9uIHRoZSBicm93c2VyLlxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgZnMgPSBfcmVmLmZzLFxuICAgICAgZmlsZXMgPSBfcmVmLmZpbGVzLFxuICAgICAgb3MgPSBfcmVmLm9zLFxuICAgICAgcGF0aCA9IF9yZWYucGF0aCxcbiAgICAgIGNoaWxkX3Byb2Nlc3MgPSBfcmVmLmNoaWxkX3Byb2Nlc3MsXG4gICAgICBtaW1ldHlwZSA9IF9yZWYubWltZXR5cGUsXG4gICAgICBkZWZhdWx0QXJjaGl2ZXMgPSBfcmVmLmRlZmF1bHRBcmNoaXZlcyxcbiAgICAgIHJlcXVlc3QgPSBfcmVmLnJlcXVlc3QsXG4gICAgICBkb3dubG9hZFVybCA9IF9yZWYuZG93bmxvYWRVcmwsXG4gICAgICBieXRlcyA9IF9yZWYuYnl0ZXMsXG4gICAgICBoYXNoID0gX3JlZi5oYXNoLFxuICAgICAgcGljayA9IF9yZWYucGljaztcblxuICAvLyDiiIAgYSAuIFN0cmluZyAtPiBKU09OIC0+IE1hcCBTdHJpbmcgYSAtbyBNYXAgU3RyaW5nIGFcbiAgLy8gICBJbnNlcnRzIGEga2V5L3ZhbCBwYWlyIGluIGFuIG9iamVjdCBpbXB1cmVseS5cbiAgdmFyIGltcHVyZUluc2VydCA9IGZ1bmN0aW9uIGltcHVyZUluc2VydChrZXkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHZhbCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChtYXApIHtcbiAgICAgICAgcmV0dXJuIG1hcFtrZXldID0gdmFsLCBtYXA7XG4gICAgICB9O1xuICAgIH07XG4gIH07IC8vIFN0cmluZyAtPiBKU09OIC0+IE1hcCBTdHJpbmcgSlNPTlxuICAvLyAgIE1lcmdlcyBhbiBhcnJheSBvZiBrZXlzIGFuZCBhbiBhcnJheSBvZiB2YWxzIGludG8gYW4gb2JqZWN0LlxuXG5cbiAgdmFyIHRvTWFwID0gZnVuY3Rpb24gdG9NYXAoa2V5cykge1xuICAgIHJldHVybiBmdW5jdGlvbiAodmFscykge1xuICAgICAgdmFyIG1hcCA9IHt9O1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgIG1hcFtrZXlzW2ldXSA9IHZhbHNbaV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtYXA7XG4gICAgfTtcbiAgfTsgLy8g4oiAIGEgLiBNYXAgU3RyaW5nIGEgLT4gTWFwIFN0cmluZyBhIC0+IE1hcCBTdHJpbmcgYVxuICAvLyAgIE1lcmdlcyB0d28gbWFwcyBpbnRvIG9uZS5cblxuXG4gIHZhciBtZXJnZSA9IGZ1bmN0aW9uIG1lcmdlKGEpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGIpIHtcbiAgICAgIHZhciBtYXAgPSB7fTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIGEpIHtcbiAgICAgICAgbWFwW2tleV0gPSBhW2tleV07XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIF9rZXkgaW4gYikge1xuICAgICAgICBtYXBbX2tleV0gPSBiW19rZXldO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbWFwO1xuICAgIH07XG4gIH07IC8vIOKIgCBhIC4gW2FdIC0+IFthXSAtPiBCb29sXG5cblxuICB2YXIgZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzKGEpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGIpIHtcbiAgICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICAgIGlmIChhW2ldICE9PSBiW2ldKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgfTsgLy8gU3RyaW5nIC0+IFN0cmluZyAtPiBTdHJpbmdcblxuXG4gIHZhciByYXdVcmwgPSBmdW5jdGlvbiByYXdVcmwoc3dhcm1VcmwpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGhhc2gpIHtcbiAgICAgIHJldHVybiBcIlwiLmNvbmNhdChzd2FybVVybCwgXCIvYnp6LXJhdzovXCIpLmNvbmNhdChoYXNoKTtcbiAgICB9O1xuICB9OyAvLyBTdHJpbmcgLT4gU3RyaW5nIC0+IFByb21pc2UgVWludDhBcnJheVxuICAvLyAgIEdldHMgdGhlIHJhdyBjb250ZW50cyBvZiBhIFN3YXJtIGhhc2ggYWRkcmVzcy5cblxuXG4gIHZhciBkb3dubG9hZERhdGEgPSBmdW5jdGlvbiBkb3dubG9hZERhdGEoc3dhcm1VcmwpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGhhc2gpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHJlcXVlc3QocmF3VXJsKHN3YXJtVXJsKShoYXNoKSwge1xuICAgICAgICAgIHJlc3BvbnNlVHlwZTogXCJhcnJheWJ1ZmZlclwiXG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIsIGFycmF5QnVmZmVyLCByZXNwb25zZSkge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzQ29kZSA+PSA0MDApIHtcbiAgICAgICAgICAgIHJldHVybiByZWplY3QobmV3IEVycm9yKFwiRXJyb3IgXCIuY29uY2F0KHJlc3BvbnNlLnN0YXR1c0NvZGUsIFwiLlwiKSkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiByZXNvbHZlKG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfTsgLy8gdHlwZSBFbnRyeSA9IHtcInR5cGVcIjogU3RyaW5nLCBcImhhc2hcIjogU3RyaW5nfVxuICAvLyB0eXBlIEZpbGUgPSB7XCJ0eXBlXCI6IFN0cmluZywgXCJkYXRhXCI6IFVpbnQ4QXJyYXl9XG4gIC8vIFN0cmluZyAtPiBTdHJpbmcgLT4gUHJvbWlzZSAoTWFwIFN0cmluZyBFbnRyeSlcbiAgLy8gICBTb2x2ZXMgdGhlIG1hbmlmZXN0IG9mIGEgU3dhcm0gYWRkcmVzcyByZWN1cnNpdmVseS5cbiAgLy8gICBSZXR1cm5zIGEgbWFwIGZyb20gZnVsbCBwYXRocyB0byBlbnRyaWVzLlxuXG5cbiAgdmFyIGRvd25sb2FkRW50cmllcyA9IGZ1bmN0aW9uIGRvd25sb2FkRW50cmllcyhzd2FybVVybCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoaGFzaCkge1xuICAgICAgdmFyIHNlYXJjaCA9IGZ1bmN0aW9uIHNlYXJjaChoYXNoKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAocm91dGVzKSB7XG4gICAgICAgICAgICAvLyBGb3JtYXRzIGFuIGVudHJ5IHRvIHRoZSBTd2FybS5qcyB0eXBlLlxuICAgICAgICAgICAgdmFyIGZvcm1hdCA9IGZ1bmN0aW9uIGZvcm1hdChlbnRyeSkge1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IGVudHJ5LmNvbnRlbnRUeXBlLFxuICAgICAgICAgICAgICAgIGhhc2g6IGVudHJ5Lmhhc2hcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH07IC8vIFRvIGRvd25sb2FkIGEgc2luZ2xlIGVudHJ5OlxuICAgICAgICAgICAgLy8gICBpZiB0eXBlIGlzIGJ6ei1tYW5pZmVzdCwgZ28gZGVlcGVyXG4gICAgICAgICAgICAvLyAgIGlmIG5vdCwgYWRkIGl0IHRvIHRoZSByb3V0aW5nIHRhYmxlXG5cblxuICAgICAgICAgICAgdmFyIGRvd25sb2FkRW50cnkgPSBmdW5jdGlvbiBkb3dubG9hZEVudHJ5KGVudHJ5KSB7XG4gICAgICAgICAgICAgIGlmIChlbnRyeS5wYXRoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVudHJ5LmNvbnRlbnRUeXBlID09PSBcImFwcGxpY2F0aW9uL2J6ei1tYW5pZmVzdCtqc29uXCIgPyBzZWFyY2goZW50cnkuaGFzaCkocGF0aCArIGVudHJ5LnBhdGgpKHJvdXRlcykgOiBQcm9taXNlLnJlc29sdmUoaW1wdXJlSW5zZXJ0KHBhdGggKyBlbnRyeS5wYXRoKShmb3JtYXQoZW50cnkpKShyb3V0ZXMpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTsgLy8gRG93bmxvYWRzIHRoZSBpbml0aWFsIG1hbmlmZXN0IGFuZCB0aGVuIGVhY2ggZW50cnkuXG5cblxuICAgICAgICAgICAgcmV0dXJuIGRvd25sb2FkRGF0YShzd2FybVVybCkoaGFzaCkudGhlbihmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSh0b1N0cmluZyh0ZXh0KSkuZW50cmllcztcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGVudHJpZXMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGVudHJpZXMubWFwKGRvd25sb2FkRW50cnkpKTtcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICByZXR1cm4gcm91dGVzO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBzZWFyY2goaGFzaCkoXCJcIikoe30pO1xuICAgIH07XG4gIH07IC8vIFN0cmluZyAtPiBTdHJpbmcgLT4gUHJvbWlzZSAoTWFwIFN0cmluZyBTdHJpbmcpXG4gIC8vICAgU2FtZSBhcyBgZG93bmxvYWRFbnRyaWVzYCwgYnV0IHJldHVybnMgb25seSBoYXNoZXMgKG5vIHR5cGVzKS5cblxuXG4gIHZhciBkb3dubG9hZFJvdXRlcyA9IGZ1bmN0aW9uIGRvd25sb2FkUm91dGVzKHN3YXJtVXJsKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChoYXNoKSB7XG4gICAgICByZXR1cm4gZG93bmxvYWRFbnRyaWVzKHN3YXJtVXJsKShoYXNoKS50aGVuKGZ1bmN0aW9uIChlbnRyaWVzKSB7XG4gICAgICAgIHJldHVybiB0b01hcChPYmplY3Qua2V5cyhlbnRyaWVzKSkoT2JqZWN0LmtleXMoZW50cmllcykubWFwKGZ1bmN0aW9uIChyb3V0ZSkge1xuICAgICAgICAgIHJldHVybiBlbnRyaWVzW3JvdXRlXS5oYXNoO1xuICAgICAgICB9KSk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9OyAvLyBTdHJpbmcgLT4gU3RyaW5nIC0+IFByb21pc2UgKE1hcCBTdHJpbmcgRmlsZSlcbiAgLy8gICBHZXRzIHRoZSBlbnRpcmUgZGlyZWN0b3J5IHRyZWUgaW4gYSBTd2FybSBhZGRyZXNzLlxuICAvLyAgIFJldHVybnMgYSBwcm9taXNlIG1hcHBpbmcgcGF0aHMgdG8gZmlsZSBjb250ZW50cy5cblxuXG4gIHZhciBkb3dubG9hZERpcmVjdG9yeSA9IGZ1bmN0aW9uIGRvd25sb2FkRGlyZWN0b3J5KHN3YXJtVXJsKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChoYXNoKSB7XG4gICAgICByZXR1cm4gZG93bmxvYWRFbnRyaWVzKHN3YXJtVXJsKShoYXNoKS50aGVuKGZ1bmN0aW9uIChlbnRyaWVzKSB7XG4gICAgICAgIHZhciBwYXRocyA9IE9iamVjdC5rZXlzKGVudHJpZXMpO1xuICAgICAgICB2YXIgaGFzaHMgPSBwYXRocy5tYXAoZnVuY3Rpb24gKHBhdGgpIHtcbiAgICAgICAgICByZXR1cm4gZW50cmllc1twYXRoXS5oYXNoO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHR5cGVzID0gcGF0aHMubWFwKGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICAgICAgcmV0dXJuIGVudHJpZXNbcGF0aF0udHlwZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBkYXRhcyA9IGhhc2hzLm1hcChkb3dubG9hZERhdGEoc3dhcm1VcmwpKTtcblxuICAgICAgICB2YXIgZmlsZXMgPSBmdW5jdGlvbiBmaWxlcyhkYXRhcykge1xuICAgICAgICAgIHJldHVybiBkYXRhcy5tYXAoZnVuY3Rpb24gKGRhdGEsIGkpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHR5cGU6IHR5cGVzW2ldLFxuICAgICAgICAgICAgICBkYXRhOiBkYXRhXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChkYXRhcykudGhlbihmdW5jdGlvbiAoZGF0YXMpIHtcbiAgICAgICAgICByZXR1cm4gdG9NYXAocGF0aHMpKGZpbGVzKGRhdGFzKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfTsgLy8gU3RyaW5nIC0+IFN0cmluZyAtPiBTdHJpbmcgLT4gUHJvbWlzZSBTdHJpbmdcbiAgLy8gICBHZXRzIHRoZSByYXcgY29udGVudHMgb2YgYSBTd2FybSBoYXNoIGFkZHJlc3MuXG4gIC8vICAgUmV0dXJucyBhIHByb21pc2Ugd2l0aCB0aGUgZG93bmxvYWRlZCBmaWxlIHBhdGguXG5cblxuICB2YXIgZG93bmxvYWREYXRhVG9EaXNrID0gZnVuY3Rpb24gZG93bmxvYWREYXRhVG9EaXNrKHN3YXJtVXJsKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChoYXNoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGZpbGVQYXRoKSB7XG4gICAgICAgIHJldHVybiBmaWxlcy5kb3dubG9hZChyYXdVcmwoc3dhcm1VcmwpKGhhc2gpKShmaWxlUGF0aCk7XG4gICAgICB9O1xuICAgIH07XG4gIH07IC8vIFN0cmluZyAtPiBTdHJpbmcgLT4gU3RyaW5nIC0+IFByb21pc2UgKE1hcCBTdHJpbmcgU3RyaW5nKVxuICAvLyAgIEdldHMgdGhlIGVudGlyZSBkaXJlY3RvcnkgdHJlZSBpbiBhIFN3YXJtIGFkZHJlc3MuXG4gIC8vICAgUmV0dXJucyBhIHByb21pc2UgbWFwcGluZyBwYXRocyB0byBmaWxlIGNvbnRlbnRzLlxuXG5cbiAgdmFyIGRvd25sb2FkRGlyZWN0b3J5VG9EaXNrID0gZnVuY3Rpb24gZG93bmxvYWREaXJlY3RvcnlUb0Rpc2soc3dhcm1VcmwpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGhhc2gpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoZGlyUGF0aCkge1xuICAgICAgICByZXR1cm4gZG93bmxvYWRSb3V0ZXMoc3dhcm1VcmwpKGhhc2gpLnRoZW4oZnVuY3Rpb24gKHJvdXRpbmdUYWJsZSkge1xuICAgICAgICAgIHZhciBkb3dubG9hZHMgPSBbXTtcblxuICAgICAgICAgIGZvciAodmFyIHJvdXRlIGluIHJvdXRpbmdUYWJsZSkge1xuICAgICAgICAgICAgaWYgKHJvdXRlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgdmFyIGZpbGVQYXRoID0gcGF0aC5qb2luKGRpclBhdGgsIHJvdXRlKTtcbiAgICAgICAgICAgICAgZG93bmxvYWRzLnB1c2goZG93bmxvYWREYXRhVG9EaXNrKHN3YXJtVXJsKShyb3V0aW5nVGFibGVbcm91dGVdKShmaWxlUGF0aCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICA7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgO1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChkb3dubG9hZHMpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRpclBhdGg7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9O1xuICB9OyAvLyBTdHJpbmcgLT4gVWludDhBcnJheSAtPiBQcm9taXNlIFN0cmluZ1xuICAvLyAgIFVwbG9hZHMgcmF3IGRhdGEgdG8gU3dhcm0uXG4gIC8vICAgUmV0dXJucyBhIHByb21pc2Ugd2l0aCB0aGUgdXBsb2FkZWQgaGFzaC5cblxuXG4gIHZhciB1cGxvYWREYXRhID0gZnVuY3Rpb24gdXBsb2FkRGF0YShzd2FybVVybCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgICBib2R5OiB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiA/IGZyb21TdHJpbmcoZGF0YSkgOiBkYXRhLFxuICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCJcbiAgICAgICAgfTtcbiAgICAgICAgcmVxdWVzdChcIlwiLmNvbmNhdChzd2FybVVybCwgXCIvYnp6LXJhdzovXCIpLCBwYXJhbXMsIGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHJlc29sdmUoZGF0YSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfTsgLy8gU3RyaW5nIC0+IFN0cmluZyAtPiBTdHJpbmcgLT4gRmlsZSAtPiBQcm9taXNlIFN0cmluZ1xuICAvLyAgIFVwbG9hZHMgYSBmaWxlIHRvIHRoZSBTd2FybSBtYW5pZmVzdCBhdCBhIGdpdmVuIGhhc2gsIHVuZGVyIGEgc3BlY2lmaWNcbiAgLy8gICByb3V0ZS4gUmV0dXJucyBhIHByb21pc2UgY29udGFpbmluZyB0aGUgdXBsb2FkZWQgaGFzaC5cbiAgLy8gICBGSVhNRTogZm9yIHNvbWUgcmVhc29ucyBTd2FybS1HYXRld2F5cyBpcyBzb21ldGltZXMgcmV0dXJuaW5nXG4gIC8vICAgZXJyb3IgNDA0wqAoYmFkIHJlcXVlc3QpLCBzbyB3ZSByZXRyeSB1cCB0byAzIHRpbWVzLiBXaHk/XG5cblxuICB2YXIgdXBsb2FkVG9NYW5pZmVzdCA9IGZ1bmN0aW9uIHVwbG9hZFRvTWFuaWZlc3Qoc3dhcm1VcmwpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGhhc2gpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAocm91dGUpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgICAgICAgdmFyIGF0dGVtcHQgPSBmdW5jdGlvbiBhdHRlbXB0KG4pIHtcbiAgICAgICAgICAgIHZhciBzbGFzaFJvdXRlID0gcm91dGVbMF0gPT09IFwiL1wiID8gcm91dGUgOiBcIi9cIiArIHJvdXRlO1xuICAgICAgICAgICAgdmFyIHVybCA9IFwiXCIuY29uY2F0KHN3YXJtVXJsLCBcIi9ieno6L1wiKS5jb25jYXQoaGFzaCkuY29uY2F0KHNsYXNoUm91dGUpO1xuICAgICAgICAgICAgdmFyIG9wdCA9IHtcbiAgICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogZmlsZS50eXBlXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGJvZHk6IGZpbGUuZGF0YVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgIHJlcXVlc3QodXJsLCBvcHQsIGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuaW5kZXhPZihcImVycm9yXCIpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShkYXRhKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBuID4gMCAmJiBhdHRlbXB0KG4gLSAxKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICByZXR1cm4gYXR0ZW1wdCgzKTtcbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgfTtcbiAgfTsgLy8gU3RyaW5nIC0+IHt0eXBlOiBTdHJpbmcsIGRhdGE6IFVpbnQ4QXJyYXl9IC0+IFByb21pc2UgU3RyaW5nXG5cblxuICB2YXIgdXBsb2FkRmlsZSA9IGZ1bmN0aW9uIHVwbG9hZEZpbGUoc3dhcm1VcmwpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGZpbGUpIHtcbiAgICAgIHJldHVybiB1cGxvYWREaXJlY3Rvcnkoc3dhcm1VcmwpKHtcbiAgICAgICAgXCJcIjogZmlsZVxuICAgICAgfSk7XG4gICAgfTtcbiAgfTsgLy8gU3RyaW5nIC0+IFN0cmluZyAtPiBQcm9taXNlIFN0cmluZ1xuXG5cbiAgdmFyIHVwbG9hZEZpbGVGcm9tRGlzayA9IGZ1bmN0aW9uIHVwbG9hZEZpbGVGcm9tRGlzayhzd2FybVVybCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZmlsZVBhdGgpIHtcbiAgICAgIHJldHVybiBmcy5yZWFkRmlsZShmaWxlUGF0aCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gdXBsb2FkRmlsZShzd2FybVVybCkoe1xuICAgICAgICAgIHR5cGU6IG1pbWV0eXBlLmxvb2t1cChmaWxlUGF0aCksXG4gICAgICAgICAgZGF0YTogZGF0YVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH07IC8vIFN0cmluZyAtPiBNYXAgU3RyaW5nIEZpbGUgLT4gUHJvbWlzZSBTdHJpbmdcbiAgLy8gICBVcGxvYWRzIGEgZGlyZWN0b3J5IHRvIFN3YXJtLiBUaGUgZGlyZWN0b3J5IGlzXG4gIC8vICAgcmVwcmVzZW50ZWQgYXMgYSBtYXAgb2Ygcm91dGVzIGFuZCBmaWxlcy5cbiAgLy8gICBBIGRlZmF1bHQgcGF0aCBpcyBlbmNvZGVkIGJ5IGhhdmluZyBhIFwiXCIgcm91dGUuXG5cblxuICB2YXIgdXBsb2FkRGlyZWN0b3J5ID0gZnVuY3Rpb24gdXBsb2FkRGlyZWN0b3J5KHN3YXJtVXJsKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkaXJlY3RvcnkpIHtcbiAgICAgIHJldHVybiB1cGxvYWREYXRhKHN3YXJtVXJsKShcInt9XCIpLnRoZW4oZnVuY3Rpb24gKGhhc2gpIHtcbiAgICAgICAgdmFyIHVwbG9hZFJvdXRlID0gZnVuY3Rpb24gdXBsb2FkUm91dGUocm91dGUpIHtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGhhc2gpIHtcbiAgICAgICAgICAgIHJldHVybiB1cGxvYWRUb01hbmlmZXN0KHN3YXJtVXJsKShoYXNoKShyb3V0ZSkoZGlyZWN0b3J5W3JvdXRlXSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgdXBsb2FkVG9IYXNoID0gZnVuY3Rpb24gdXBsb2FkVG9IYXNoKGhhc2gsIHJvdXRlKSB7XG4gICAgICAgICAgcmV0dXJuIGhhc2gudGhlbih1cGxvYWRSb3V0ZShyb3V0ZSkpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhkaXJlY3RvcnkpLnJlZHVjZSh1cGxvYWRUb0hhc2gsIFByb21pc2UucmVzb2x2ZShoYXNoKSk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9OyAvLyBTdHJpbmcgLT4gUHJvbWlzZSBTdHJpbmdcblxuXG4gIHZhciB1cGxvYWREYXRhRnJvbURpc2sgPSBmdW5jdGlvbiB1cGxvYWREYXRhRnJvbURpc2soc3dhcm1VcmwpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGZpbGVQYXRoKSB7XG4gICAgICByZXR1cm4gZnMucmVhZEZpbGUoZmlsZVBhdGgpLnRoZW4odXBsb2FkRGF0YShzd2FybVVybCkpO1xuICAgIH07XG4gIH07IC8vIFN0cmluZyAtPiBOdWxsYWJsZSBTdHJpbmcgLT4gU3RyaW5nIC0+IFByb21pc2UgU3RyaW5nXG5cblxuICB2YXIgdXBsb2FkRGlyZWN0b3J5RnJvbURpc2sgPSBmdW5jdGlvbiB1cGxvYWREaXJlY3RvcnlGcm9tRGlzayhzd2FybVVybCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZGVmYXVsdFBhdGgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoZGlyUGF0aCkge1xuICAgICAgICByZXR1cm4gZmlsZXMuZGlyZWN0b3J5VHJlZShkaXJQYXRoKS50aGVuKGZ1bmN0aW9uIChmdWxsUGF0aHMpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZnVsbFBhdGhzLm1hcChmdW5jdGlvbiAocGF0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZzLnJlYWRGaWxlKHBhdGgpO1xuICAgICAgICAgIH0pKS50aGVuKGZ1bmN0aW9uIChkYXRhcykge1xuICAgICAgICAgICAgdmFyIHBhdGhzID0gZnVsbFBhdGhzLm1hcChmdW5jdGlvbiAocGF0aCkge1xuICAgICAgICAgICAgICByZXR1cm4gcGF0aC5zbGljZShkaXJQYXRoLmxlbmd0aCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciB0eXBlcyA9IGZ1bGxQYXRocy5tYXAoZnVuY3Rpb24gKHBhdGgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG1pbWV0eXBlLmxvb2t1cChwYXRoKSB8fCBcInRleHQvcGxhaW5cIjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRvTWFwKHBhdGhzKShkYXRhcy5tYXAoZnVuY3Rpb24gKGRhdGEsIGkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlc1tpXSxcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRpcmVjdG9yeSkge1xuICAgICAgICAgIHJldHVybiBtZXJnZShkZWZhdWx0UGF0aCA/IHtcbiAgICAgICAgICAgIFwiXCI6IGRpcmVjdG9yeVtkZWZhdWx0UGF0aF1cbiAgICAgICAgICB9IDoge30pKGRpcmVjdG9yeSk7XG4gICAgICAgIH0pLnRoZW4odXBsb2FkRGlyZWN0b3J5KHN3YXJtVXJsKSk7XG4gICAgICB9O1xuICAgIH07XG4gIH07IC8vIFN0cmluZyAtPiBVcGxvYWRJbmZvIC0+IFByb21pc2UgU3RyaW5nXG4gIC8vICAgU2ltcGxpZmllZCBtdWx0aS10eXBlIHVwbG9hZCB3aGljaCBjYWxscyB0aGUgY29ycmVjdFxuICAvLyAgIG9uZSBiYXNlZCBvbiB0aGUgdHlwZSBvZiB0aGUgYXJndW1lbnQgZ2l2ZW4uXG5cblxuICB2YXIgX3VwbG9hZCA9IGZ1bmN0aW9uIHVwbG9hZChzd2FybVVybCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoYXJnKSB7XG4gICAgICAvLyBVcGxvYWQgcmF3IGRhdGEgZnJvbSBicm93c2VyXG4gICAgICBpZiAoYXJnLnBpY2sgPT09IFwiZGF0YVwiKSB7XG4gICAgICAgIHJldHVybiBwaWNrLmRhdGEoKS50aGVuKHVwbG9hZERhdGEoc3dhcm1VcmwpKTsgLy8gVXBsb2FkIGEgZmlsZSBmcm9tIGJyb3dzZXJcbiAgICAgIH0gZWxzZSBpZiAoYXJnLnBpY2sgPT09IFwiZmlsZVwiKSB7XG4gICAgICAgIHJldHVybiBwaWNrLmZpbGUoKS50aGVuKHVwbG9hZEZpbGUoc3dhcm1VcmwpKTsgLy8gVXBsb2FkIGEgZGlyZWN0b3J5IGZyb20gYnJvd3NlclxuICAgICAgfSBlbHNlIGlmIChhcmcucGljayA9PT0gXCJkaXJlY3RvcnlcIikge1xuICAgICAgICByZXR1cm4gcGljay5kaXJlY3RvcnkoKS50aGVuKHVwbG9hZERpcmVjdG9yeShzd2FybVVybCkpOyAvLyBVcGxvYWQgZGlyZWN0b3J5L2ZpbGUgZnJvbSBkaXNrXG4gICAgICB9IGVsc2UgaWYgKGFyZy5wYXRoKSB7XG4gICAgICAgIHN3aXRjaCAoYXJnLmtpbmQpIHtcbiAgICAgICAgICBjYXNlIFwiZGF0YVwiOlxuICAgICAgICAgICAgcmV0dXJuIHVwbG9hZERhdGFGcm9tRGlzayhzd2FybVVybCkoYXJnLnBhdGgpO1xuXG4gICAgICAgICAgY2FzZSBcImZpbGVcIjpcbiAgICAgICAgICAgIHJldHVybiB1cGxvYWRGaWxlRnJvbURpc2soc3dhcm1VcmwpKGFyZy5wYXRoKTtcblxuICAgICAgICAgIGNhc2UgXCJkaXJlY3RvcnlcIjpcbiAgICAgICAgICAgIHJldHVybiB1cGxvYWREaXJlY3RvcnlGcm9tRGlzayhzd2FybVVybCkoYXJnLmRlZmF1bHRGaWxlKShhcmcucGF0aCk7XG4gICAgICAgIH1cblxuICAgICAgICA7IC8vIFVwbG9hZCBVVEYtOCBzdHJpbmcgb3IgcmF3IGRhdGEgKGJ1ZmZlcilcbiAgICAgIH0gZWxzZSBpZiAoYXJnLmxlbmd0aCB8fCB0eXBlb2YgYXJnID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiB1cGxvYWREYXRhKHN3YXJtVXJsKShhcmcpOyAvLyBVcGxvYWQgZGlyZWN0b3J5IHdpdGggSlNPTlxuICAgICAgfSBlbHNlIGlmIChhcmcgaW5zdGFuY2VvZiBPYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHVwbG9hZERpcmVjdG9yeShzd2FybVVybCkoYXJnKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkJhZCBhcmd1bWVudHNcIikpO1xuICAgIH07XG4gIH07IC8vIFN0cmluZyAtPiBTdHJpbmcgLT4gTnVsbGFibGUgU3RyaW5nIC0+IFByb21pc2UgKFN0cmluZyB8IFVpbnQ4QXJyYXkgfCBNYXAgU3RyaW5nIFVpbnQ4QXJyYXkpXG4gIC8vICAgU2ltcGxpZmllZCBtdWx0aS10eXBlIGRvd25sb2FkIHdoaWNoIGNhbGxzIHRoZSBjb3JyZWN0IGZ1bmN0aW9uIGJhc2VkIG9uXG4gIC8vICAgdGhlIHR5cGUgb2YgdGhlIGFyZ3VtZW50IGdpdmVuLCBhbmQgb24gd2hldGhlciB0aGUgU3d3YXJtIGFkZHJlc3MgaGFzIGFcbiAgLy8gICBkaXJlY3Rvcnkgb3IgYSBmaWxlLlxuXG5cbiAgdmFyIF9kb3dubG9hZCA9IGZ1bmN0aW9uIGRvd25sb2FkKHN3YXJtVXJsKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChoYXNoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIGlzRGlyZWN0b3J5KHN3YXJtVXJsKShoYXNoKS50aGVuKGZ1bmN0aW9uIChpc0Rpcikge1xuICAgICAgICAgIGlmIChpc0Rpcikge1xuICAgICAgICAgICAgcmV0dXJuIHBhdGggPyBkb3dubG9hZERpcmVjdG9yeVRvRGlzayhzd2FybVVybCkoaGFzaCkocGF0aCkgOiBkb3dubG9hZERpcmVjdG9yeShzd2FybVVybCkoaGFzaCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBwYXRoID8gZG93bmxvYWREYXRhVG9EaXNrKHN3YXJtVXJsKShoYXNoKShwYXRoKSA6IGRvd25sb2FkRGF0YShzd2FybVVybCkoaGFzaCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfTtcbiAgfTsgLy8gU3RyaW5nIC0+IFByb21pc2UgU3RyaW5nXG4gIC8vICAgRG93bmxvYWRzIHRoZSBTd2FybSBiaW5hcmllcyBpbnRvIGEgcGF0aC4gUmV0dXJucyBhIHByb21pc2UgdGhhdCBvbmx5XG4gIC8vICAgcmVzb2x2ZXMgd2hlbiB0aGUgZXhhY3QgU3dhcm0gZmlsZSBpcyB0aGVyZSwgYW5kIHZlcmlmaWVkIHRvIGJlIGNvcnJlY3QuXG4gIC8vICAgSWYgaXQgd2FzIGFscmVhZHkgdGhlcmUgdG8gYmVnaW4gd2l0aCwgc2tpcHMgdGhlIGRvd25sb2FkLlxuXG5cbiAgdmFyIGRvd25sb2FkQmluYXJ5ID0gZnVuY3Rpb24gZG93bmxvYWRCaW5hcnkocGF0aCwgYXJjaGl2ZXMpIHtcbiAgICB2YXIgc3lzdGVtID0gb3MucGxhdGZvcm0oKS5yZXBsYWNlKFwid2luMzJcIiwgXCJ3aW5kb3dzXCIpICsgXCItXCIgKyAob3MuYXJjaCgpID09PSBcIng2NFwiID8gXCJhbWQ2NFwiIDogXCIzODZcIik7XG4gICAgdmFyIGFyY2hpdmUgPSAoYXJjaGl2ZXMgfHwgZGVmYXVsdEFyY2hpdmVzKVtzeXN0ZW1dO1xuICAgIHZhciBhcmNoaXZlVXJsID0gZG93bmxvYWRVcmwgKyBhcmNoaXZlLmFyY2hpdmUgKyBcIi50YXIuZ3pcIjtcbiAgICB2YXIgYXJjaGl2ZU1ENSA9IGFyY2hpdmUuYXJjaGl2ZU1ENTtcbiAgICB2YXIgYmluYXJ5TUQ1ID0gYXJjaGl2ZS5iaW5hcnlNRDU7XG4gICAgcmV0dXJuIGZpbGVzLnNhZmVEb3dubG9hZEFyY2hpdmVkKGFyY2hpdmVVcmwpKGFyY2hpdmVNRDUpKGJpbmFyeU1ENSkocGF0aCk7XG4gIH07IC8vIHR5cGUgU3dhcm1TZXR1cCA9IHtcbiAgLy8gICBhY2NvdW50IDogU3RyaW5nLFxuICAvLyAgIHBhc3N3b3JkIDogU3RyaW5nLFxuICAvLyAgIGRhdGFEaXIgOiBTdHJpbmcsXG4gIC8vICAgYmluUGF0aCA6IFN0cmluZyxcbiAgLy8gICBlbnNBcGkgOiBTdHJpbmcsXG4gIC8vICAgb25Eb3dubG9hZFByb2dyZXNzIDogTnVtYmVyIH4+ICgpLFxuICAvLyAgIGFyY2hpdmVzIDogW3tcbiAgLy8gICAgIGFyY2hpdmU6IFN0cmluZyxcbiAgLy8gICAgIGJpbmFyeU1ENTogU3RyaW5nLFxuICAvLyAgICAgYXJjaGl2ZU1ENTogU3RyaW5nXG4gIC8vICAgfV1cbiAgLy8gfVxuICAvLyBTd2FybVNldHVwIH4+IFByb21pc2UgUHJvY2Vzc1xuICAvLyAgIFN0YXJ0cyB0aGUgU3dhcm0gcHJvY2Vzcy5cblxuXG4gIHZhciBzdGFydFByb2Nlc3MgPSBmdW5jdGlvbiBzdGFydFByb2Nlc3Moc3dhcm1TZXR1cCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgc3Bhd24gPSBjaGlsZF9wcm9jZXNzLnNwYXduO1xuXG4gICAgICB2YXIgaGFzU3RyaW5nID0gZnVuY3Rpb24gaGFzU3RyaW5nKHN0cikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGJ1ZmZlcikge1xuICAgICAgICAgIHJldHVybiAoJycgKyBidWZmZXIpLmluZGV4T2Yoc3RyKSAhPT0gLTE7XG4gICAgICAgIH07XG4gICAgICB9O1xuXG4gICAgICB2YXIgYWNjb3VudCA9IHN3YXJtU2V0dXAuYWNjb3VudCxcbiAgICAgICAgICBwYXNzd29yZCA9IHN3YXJtU2V0dXAucGFzc3dvcmQsXG4gICAgICAgICAgZGF0YURpciA9IHN3YXJtU2V0dXAuZGF0YURpcixcbiAgICAgICAgICBlbnNBcGkgPSBzd2FybVNldHVwLmVuc0FwaSxcbiAgICAgICAgICBwcml2YXRlS2V5ID0gc3dhcm1TZXR1cC5wcml2YXRlS2V5O1xuICAgICAgdmFyIFNUQVJUVVBfVElNRU9VVF9TRUNTID0gMztcbiAgICAgIHZhciBXQUlUSU5HX1BBU1NXT1JEID0gMDtcbiAgICAgIHZhciBTVEFSVElORyA9IDE7XG4gICAgICB2YXIgTElTVEVOSU5HID0gMjtcbiAgICAgIHZhciBQQVNTV09SRF9QUk9NUFRfSE9PSyA9IFwiUGFzc3BocmFzZVwiO1xuICAgICAgdmFyIExJU1RFTklOR19IT09LID0gXCJTd2FybSBodHRwIHByb3h5IHN0YXJ0ZWRcIjtcbiAgICAgIHZhciBzdGF0ZSA9IFdBSVRJTkdfUEFTU1dPUkQ7XG4gICAgICB2YXIgc3dhcm1Qcm9jZXNzID0gc3Bhd24oc3dhcm1TZXR1cC5iaW5QYXRoLCBbJy0tYnp6YWNjb3VudCcsIGFjY291bnQgfHwgcHJpdmF0ZUtleSwgJy0tZGF0YWRpcicsIGRhdGFEaXIsICctLWVucy1hcGknLCBlbnNBcGldKTtcblxuICAgICAgdmFyIGhhbmRsZVByb2Nlc3NPdXRwdXQgPSBmdW5jdGlvbiBoYW5kbGVQcm9jZXNzT3V0cHV0KGRhdGEpIHtcbiAgICAgICAgaWYgKHN0YXRlID09PSBXQUlUSU5HX1BBU1NXT1JEICYmIGhhc1N0cmluZyhQQVNTV09SRF9QUk9NUFRfSE9PSykoZGF0YSkpIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0YXRlID0gU1RBUlRJTkc7XG4gICAgICAgICAgICBzd2FybVByb2Nlc3Muc3RkaW4ud3JpdGUocGFzc3dvcmQgKyAnXFxuJyk7XG4gICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgfSBlbHNlIGlmIChoYXNTdHJpbmcoTElTVEVOSU5HX0hPT0spKGRhdGEpKSB7XG4gICAgICAgICAgc3RhdGUgPSBMSVNURU5JTkc7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICAgIHJlc29sdmUoc3dhcm1Qcm9jZXNzKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc3dhcm1Qcm9jZXNzLnN0ZG91dC5vbignZGF0YScsIGhhbmRsZVByb2Nlc3NPdXRwdXQpO1xuICAgICAgc3dhcm1Qcm9jZXNzLnN0ZGVyci5vbignZGF0YScsIGhhbmRsZVByb2Nlc3NPdXRwdXQpOyAvL3N3YXJtUHJvY2Vzcy5vbignY2xvc2UnLCAoKSA9PiBzZXRUaW1lb3V0KHJlc3RhcnQsIDIwMDApKTtcblxuICAgICAgdmFyIHJlc3RhcnQgPSBmdW5jdGlvbiByZXN0YXJ0KCkge1xuICAgICAgICByZXR1cm4gc3RhcnRQcm9jZXNzKHN3YXJtU2V0dXApLnRoZW4ocmVzb2x2ZSlbXCJjYXRjaFwiXShyZWplY3QpO1xuICAgICAgfTtcblxuICAgICAgdmFyIGVycm9yID0gZnVuY3Rpb24gZXJyb3IoKSB7XG4gICAgICAgIHJldHVybiByZWplY3QobmV3IEVycm9yKFwiQ291bGRuJ3Qgc3RhcnQgc3dhcm0gcHJvY2Vzcy5cIikpO1xuICAgICAgfTtcblxuICAgICAgdmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGVycm9yLCAyMDAwMCk7XG4gICAgfSk7XG4gIH07IC8vIFByb2Nlc3Mgfj4gUHJvbWlzZSAoKVxuICAvLyAgIFN0b3BzIHRoZSBTd2FybSBwcm9jZXNzLlxuXG5cbiAgdmFyIHN0b3BQcm9jZXNzID0gZnVuY3Rpb24gc3RvcFByb2Nlc3MocHJvY2Vzcykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBwcm9jZXNzLnN0ZGVyci5yZW1vdmVBbGxMaXN0ZW5lcnMoJ2RhdGEnKTtcbiAgICAgIHByb2Nlc3Muc3Rkb3V0LnJlbW92ZUFsbExpc3RlbmVycygnZGF0YScpO1xuICAgICAgcHJvY2Vzcy5zdGRpbi5yZW1vdmVBbGxMaXN0ZW5lcnMoJ2Vycm9yJyk7XG4gICAgICBwcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycygnZXJyb3InKTtcbiAgICAgIHByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzKCdleGl0Jyk7XG4gICAgICBwcm9jZXNzLmtpbGwoJ1NJR0lOVCcpO1xuICAgICAgdmFyIGtpbGxUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBwcm9jZXNzLmtpbGwoJ1NJR0tJTEwnKTtcbiAgICAgIH0sIDgwMDApO1xuICAgICAgcHJvY2Vzcy5vbmNlKCdjbG9zZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KGtpbGxUaW1lb3V0KTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07IC8vIFN3YXJtU2V0dXAgLT4gKFN3YXJtQVBJIC0+IFByb21pc2UgKCkpIC0+IFByb21pc2UgKClcbiAgLy8gICBSZWNlaXZlcyBhIFN3YXJtIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGFuZCBhIGNhbGxiYWNrIGZ1bmN0aW9uLiBJdCB0aGVuXG4gIC8vICAgY2hlY2tzIGlmIGEgbG9jYWwgU3dhcm0gbm9kZSBpcyBydW5uaW5nLiBJZiBubyBsb2NhbCBTd2FybSBpcyBmb3VuZCwgaXRcbiAgLy8gICBkb3dubG9hZHMgdGhlIFN3YXJtIGJpbmFyaWVzIHRvIHRoZSBkYXRhRGlyIChpZiBub3QgdGhlcmUpLCBjaGVja3N1bXMsXG4gIC8vICAgc3RhcnRzIHRoZSBTd2FybSBwcm9jZXNzIGFuZCBjYWxscyB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gd2l0aCBhbiBBUElcbiAgLy8gICBvYmplY3QgdXNpbmcgdGhlIGxvY2FsIG5vZGUuIFRoYXQgY2FsbGJhY2sgbXVzdCByZXR1cm4gYSBwcm9taXNlIHdoaWNoXG4gIC8vICAgd2lsbCByZXNvbHZlIHdoZW4gaXQgaXMgZG9uZSB1c2luZyB0aGUgQVBJLCBzbyB0aGF0IHRoaXMgZnVuY3Rpb24gY2FuXG4gIC8vICAgY2xvc2UgdGhlIFN3YXJtIHByb2Nlc3MgcHJvcGVybHkuIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGVcbiAgLy8gICB1c2VyIGlzIGRvbmUgd2l0aCB0aGUgQVBJIGFuZCB0aGUgU3dhcm0gcHJvY2VzcyBpcyBjbG9zZWQuXG4gIC8vICAgVE9ETzogY2hlY2sgaWYgU3dhcm0gcHJvY2VzcyBpcyBhbHJlYWR5IHJ1bm5pbmcgKGltcHJvdmUgYGlzQXZhaWxhYmxlYClcblxuXG4gIHZhciBsb2NhbCA9IGZ1bmN0aW9uIGxvY2FsKHN3YXJtU2V0dXApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHVzZUFQSSkge1xuICAgICAgcmV0dXJuIF9pc0F2YWlsYWJsZShcImh0dHA6Ly9sb2NhbGhvc3Q6ODUwMFwiKS50aGVuKGZ1bmN0aW9uIChpc0F2YWlsYWJsZSkge1xuICAgICAgICByZXR1cm4gaXNBdmFpbGFibGUgPyB1c2VBUEkoYXQoXCJodHRwOi8vbG9jYWxob3N0Ojg1MDBcIikpLnRoZW4oZnVuY3Rpb24gKCkge30pIDogZG93bmxvYWRCaW5hcnkoc3dhcm1TZXR1cC5iaW5QYXRoLCBzd2FybVNldHVwLmFyY2hpdmVzKS5vbkRhdGEoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICByZXR1cm4gKHN3YXJtU2V0dXAub25Qcm9ncmVzcyB8fCBmdW5jdGlvbiAoKSB7fSkoZGF0YS5sZW5ndGgpO1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gc3RhcnRQcm9jZXNzKHN3YXJtU2V0dXApO1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChwcm9jZXNzKSB7XG4gICAgICAgICAgcmV0dXJuIHVzZUFQSShhdChcImh0dHA6Ly9sb2NhbGhvc3Q6ODUwMFwiKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvY2VzcztcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSkudGhlbihzdG9wUHJvY2Vzcyk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9OyAvLyBTdHJpbmcgfj4gUHJvbWlzZSBCb29sXG4gIC8vICAgUmV0dXJucyB0cnVlIGlmIFN3YXJtIGlzIGF2YWlsYWJsZSBvbiBgdXJsYC5cbiAgLy8gICBQZXJmb21zIGEgdGVzdCB1cGxvYWQgdG8gZGV0ZXJtaW5lIHRoYXQuXG4gIC8vICAgVE9ETzogaW1wcm92ZSB0aGlzP1xuXG5cbiAgdmFyIF9pc0F2YWlsYWJsZSA9IGZ1bmN0aW9uIGlzQXZhaWxhYmxlKHN3YXJtVXJsKSB7XG4gICAgdmFyIHRlc3RGaWxlID0gXCJ0ZXN0XCI7XG4gICAgdmFyIHRlc3RIYXNoID0gXCJjOWE5OWM3ZDMyNmRjYzYzMTZmMzJmZTI2MjViMzExZjZkYzQ5YTE3NWU2ODc3NjgxZGVkOTMxMzdkMzU2OWU3XCI7XG4gICAgcmV0dXJuIHVwbG9hZERhdGEoc3dhcm1VcmwpKHRlc3RGaWxlKS50aGVuKGZ1bmN0aW9uIChoYXNoKSB7XG4gICAgICByZXR1cm4gaGFzaCA9PT0gdGVzdEhhc2g7XG4gICAgfSlbXCJjYXRjaFwiXShmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG4gIH07IC8vIFN0cmluZyAtPiBTdHJpbmcgfj4gUHJvbWlzZSBCb29sXG4gIC8vICAgUmV0dXJucyBhIFByb21pc2Ugd2hpY2ggaXMgdHJ1ZSBpZiB0aGF0IFN3YXJtIGFkZHJlc3MgaXMgYSBkaXJlY3RvcnkuXG4gIC8vICAgRGV0ZXJtaW5lcyB0aGF0IGJ5IGNoZWNraW5nIHRoYXQgaXQgKGkpIGlzIGEgSlNPTiwgKGlpKSBoYXMgYSAuZW50cmllcy5cbiAgLy8gICBUT0RPOiBpbXByb3ZlIHRoaXM/XG5cblxuICB2YXIgaXNEaXJlY3RvcnkgPSBmdW5jdGlvbiBpc0RpcmVjdG9yeShzd2FybVVybCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoaGFzaCkge1xuICAgICAgcmV0dXJuIGRvd25sb2FkRGF0YShzd2FybVVybCkoaGFzaCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiAhIUpTT04ucGFyc2UodG9TdHJpbmcoZGF0YSkpLmVudHJpZXM7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG4gIH07IC8vIFVuY3VycmllcyBhIGZ1bmN0aW9uOyB1c2VkIHRvIGFsbG93IHRoZSBmKHgseSx6KSBzdHlsZSBvbiBleHBvcnRzLlxuXG5cbiAgdmFyIHVuY3VycnkgPSBmdW5jdGlvbiB1bmN1cnJ5KGYpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGEsIGIsIGMsIGQsIGUpIHtcbiAgICAgIHZhciBwOyAvLyBIYXJkY29kZWQgYmVjYXVzZSBlZmZpY2llbmN5IChgYXJndW1lbnRzYCBpcyB2ZXJ5IHNsb3cpLlxuXG4gICAgICBpZiAodHlwZW9mIGEgIT09IFwidW5kZWZpbmVkXCIpIHAgPSBmKGEpO1xuICAgICAgaWYgKHR5cGVvZiBiICE9PSBcInVuZGVmaW5lZFwiKSBwID0gZihiKTtcbiAgICAgIGlmICh0eXBlb2YgYyAhPT0gXCJ1bmRlZmluZWRcIikgcCA9IGYoYyk7XG4gICAgICBpZiAodHlwZW9mIGQgIT09IFwidW5kZWZpbmVkXCIpIHAgPSBmKGQpO1xuICAgICAgaWYgKHR5cGVvZiBlICE9PSBcInVuZGVmaW5lZFwiKSBwID0gZihlKTtcbiAgICAgIHJldHVybiBwO1xuICAgIH07XG4gIH07IC8vICgpIC0+IFByb21pc2UgQm9vbFxuICAvLyAgIE5vdCBzdXJlIGhvdyB0byBtb2NrIFN3YXJtIHRvIHRlc3QgaXQgcHJvcGVybHkuIElkZWFzP1xuXG5cbiAgdmFyIHRlc3QgPSBmdW5jdGlvbiB0ZXN0KCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG4gIH07IC8vIFVpbnQ4QXJyYXkgLT4gU3RyaW5nXG5cblxuICB2YXIgdG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyh1aW50OEFycmF5KSB7XG4gICAgcmV0dXJuIGJ5dGVzLnRvU3RyaW5nKGJ5dGVzLmZyb21VaW50OEFycmF5KHVpbnQ4QXJyYXkpKTtcbiAgfTsgLy8gU3RyaW5nIC0+IFVpbnQ4QXJyYXlcblxuXG4gIHZhciBmcm9tU3RyaW5nID0gZnVuY3Rpb24gZnJvbVN0cmluZyhzdHJpbmcpIHtcbiAgICByZXR1cm4gYnl0ZXMudG9VaW50OEFycmF5KGJ5dGVzLmZyb21TdHJpbmcoc3RyaW5nKSk7XG4gIH07IC8vIFN0cmluZyAtPiBTd2FybUFQSVxuICAvLyAgIEZpeGVzIHRoZSBgc3dhcm1VcmxgLCByZXR1cm5pbmcgYW4gQVBJIHdoZXJlIHlvdSBkb24ndCBoYXZlIHRvIHBhc3MgaXQuXG5cblxuICB2YXIgYXQgPSBmdW5jdGlvbiBhdChzd2FybVVybCkge1xuICAgIHJldHVybiB7XG4gICAgICBkb3dubG9hZDogZnVuY3Rpb24gZG93bmxvYWQoaGFzaCwgcGF0aCkge1xuICAgICAgICByZXR1cm4gX2Rvd25sb2FkKHN3YXJtVXJsKShoYXNoKShwYXRoKTtcbiAgICAgIH0sXG4gICAgICBkb3dubG9hZERhdGE6IHVuY3VycnkoZG93bmxvYWREYXRhKHN3YXJtVXJsKSksXG4gICAgICBkb3dubG9hZERhdGFUb0Rpc2s6IHVuY3VycnkoZG93bmxvYWREYXRhVG9EaXNrKHN3YXJtVXJsKSksXG4gICAgICBkb3dubG9hZERpcmVjdG9yeTogdW5jdXJyeShkb3dubG9hZERpcmVjdG9yeShzd2FybVVybCkpLFxuICAgICAgZG93bmxvYWREaXJlY3RvcnlUb0Rpc2s6IHVuY3VycnkoZG93bmxvYWREaXJlY3RvcnlUb0Rpc2soc3dhcm1VcmwpKSxcbiAgICAgIGRvd25sb2FkRW50cmllczogdW5jdXJyeShkb3dubG9hZEVudHJpZXMoc3dhcm1VcmwpKSxcbiAgICAgIGRvd25sb2FkUm91dGVzOiB1bmN1cnJ5KGRvd25sb2FkUm91dGVzKHN3YXJtVXJsKSksXG4gICAgICBpc0F2YWlsYWJsZTogZnVuY3Rpb24gaXNBdmFpbGFibGUoKSB7XG4gICAgICAgIHJldHVybiBfaXNBdmFpbGFibGUoc3dhcm1VcmwpO1xuICAgICAgfSxcbiAgICAgIHVwbG9hZDogZnVuY3Rpb24gdXBsb2FkKGFyZykge1xuICAgICAgICByZXR1cm4gX3VwbG9hZChzd2FybVVybCkoYXJnKTtcbiAgICAgIH0sXG4gICAgICB1cGxvYWREYXRhOiB1bmN1cnJ5KHVwbG9hZERhdGEoc3dhcm1VcmwpKSxcbiAgICAgIHVwbG9hZEZpbGU6IHVuY3VycnkodXBsb2FkRmlsZShzd2FybVVybCkpLFxuICAgICAgdXBsb2FkRmlsZUZyb21EaXNrOiB1bmN1cnJ5KHVwbG9hZEZpbGUoc3dhcm1VcmwpKSxcbiAgICAgIHVwbG9hZERhdGFGcm9tRGlzazogdW5jdXJyeSh1cGxvYWREYXRhRnJvbURpc2soc3dhcm1VcmwpKSxcbiAgICAgIHVwbG9hZERpcmVjdG9yeTogdW5jdXJyeSh1cGxvYWREaXJlY3Rvcnkoc3dhcm1VcmwpKSxcbiAgICAgIHVwbG9hZERpcmVjdG9yeUZyb21EaXNrOiB1bmN1cnJ5KHVwbG9hZERpcmVjdG9yeUZyb21EaXNrKHN3YXJtVXJsKSksXG4gICAgICB1cGxvYWRUb01hbmlmZXN0OiB1bmN1cnJ5KHVwbG9hZFRvTWFuaWZlc3Qoc3dhcm1VcmwpKSxcbiAgICAgIHBpY2s6IHBpY2ssXG4gICAgICBoYXNoOiBoYXNoLFxuICAgICAgZnJvbVN0cmluZzogZnJvbVN0cmluZyxcbiAgICAgIHRvU3RyaW5nOiB0b1N0cmluZ1xuICAgIH07XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBhdDogYXQsXG4gICAgbG9jYWw6IGxvY2FsLFxuICAgIGRvd25sb2FkOiBfZG93bmxvYWQsXG4gICAgZG93bmxvYWRCaW5hcnk6IGRvd25sb2FkQmluYXJ5LFxuICAgIGRvd25sb2FkRGF0YTogZG93bmxvYWREYXRhLFxuICAgIGRvd25sb2FkRGF0YVRvRGlzazogZG93bmxvYWREYXRhVG9EaXNrLFxuICAgIGRvd25sb2FkRGlyZWN0b3J5OiBkb3dubG9hZERpcmVjdG9yeSxcbiAgICBkb3dubG9hZERpcmVjdG9yeVRvRGlzazogZG93bmxvYWREaXJlY3RvcnlUb0Rpc2ssXG4gICAgZG93bmxvYWRFbnRyaWVzOiBkb3dubG9hZEVudHJpZXMsXG4gICAgZG93bmxvYWRSb3V0ZXM6IGRvd25sb2FkUm91dGVzLFxuICAgIGlzQXZhaWxhYmxlOiBfaXNBdmFpbGFibGUsXG4gICAgc3RhcnRQcm9jZXNzOiBzdGFydFByb2Nlc3MsXG4gICAgc3RvcFByb2Nlc3M6IHN0b3BQcm9jZXNzLFxuICAgIHVwbG9hZDogX3VwbG9hZCxcbiAgICB1cGxvYWREYXRhOiB1cGxvYWREYXRhLFxuICAgIHVwbG9hZERhdGFGcm9tRGlzazogdXBsb2FkRGF0YUZyb21EaXNrLFxuICAgIHVwbG9hZEZpbGU6IHVwbG9hZEZpbGUsXG4gICAgdXBsb2FkRmlsZUZyb21EaXNrOiB1cGxvYWRGaWxlRnJvbURpc2ssXG4gICAgdXBsb2FkRGlyZWN0b3J5OiB1cGxvYWREaXJlY3RvcnksXG4gICAgdXBsb2FkRGlyZWN0b3J5RnJvbURpc2s6IHVwbG9hZERpcmVjdG9yeUZyb21EaXNrLFxuICAgIHVwbG9hZFRvTWFuaWZlc3Q6IHVwbG9hZFRvTWFuaWZlc3QsXG4gICAgcGljazogcGljayxcbiAgICBoYXNoOiBoYXNoLFxuICAgIGZyb21TdHJpbmc6IGZyb21TdHJpbmcsXG4gICAgdG9TdHJpbmc6IHRvU3RyaW5nXG4gIH07XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/lib/swarm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/@szmarczak/http-timer/dist/source/index.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/@szmarczak/http-timer/dist/source/index.js ***!
  \***************************************************************************************/
/***/ ((module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst defer_to_connect_1 = __webpack_require__(/*! defer-to-connect */ \"(ssr)/./node_modules/defer-to-connect/dist/source/index.js\");\nconst util_1 = __webpack_require__(/*! util */ \"util\");\nconst nodejsMajorVersion = Number(process.versions.node.split('.')[0]);\nconst timer = (request) => {\n    if (request.timings) {\n        return request.timings;\n    }\n    const timings = {\n        start: Date.now(),\n        socket: undefined,\n        lookup: undefined,\n        connect: undefined,\n        secureConnect: undefined,\n        upload: undefined,\n        response: undefined,\n        end: undefined,\n        error: undefined,\n        abort: undefined,\n        phases: {\n            wait: undefined,\n            dns: undefined,\n            tcp: undefined,\n            tls: undefined,\n            request: undefined,\n            firstByte: undefined,\n            download: undefined,\n            total: undefined\n        }\n    };\n    request.timings = timings;\n    const handleError = (origin) => {\n        const emit = origin.emit.bind(origin);\n        origin.emit = (event, ...args) => {\n            // Catches the `error` event\n            if (event === 'error') {\n                timings.error = Date.now();\n                timings.phases.total = timings.error - timings.start;\n                origin.emit = emit;\n            }\n            // Saves the original behavior\n            return emit(event, ...args);\n        };\n    };\n    handleError(request);\n    const onAbort = () => {\n        timings.abort = Date.now();\n        // Let the `end` response event be responsible for setting the total phase,\n        // unless the Node.js major version is >= 13.\n        if (!timings.response || nodejsMajorVersion >= 13) {\n            timings.phases.total = Date.now() - timings.start;\n        }\n    };\n    request.prependOnceListener('abort', onAbort);\n    const onSocket = (socket) => {\n        timings.socket = Date.now();\n        timings.phases.wait = timings.socket - timings.start;\n        if (util_1.types.isProxy(socket)) {\n            return;\n        }\n        const lookupListener = () => {\n            timings.lookup = Date.now();\n            timings.phases.dns = timings.lookup - timings.socket;\n        };\n        socket.prependOnceListener('lookup', lookupListener);\n        defer_to_connect_1.default(socket, {\n            connect: () => {\n                timings.connect = Date.now();\n                if (timings.lookup === undefined) {\n                    socket.removeListener('lookup', lookupListener);\n                    timings.lookup = timings.connect;\n                    timings.phases.dns = timings.lookup - timings.socket;\n                }\n                timings.phases.tcp = timings.connect - timings.lookup;\n                // This callback is called before flushing any data,\n                // so we don't need to set `timings.phases.request` here.\n            },\n            secureConnect: () => {\n                timings.secureConnect = Date.now();\n                timings.phases.tls = timings.secureConnect - timings.connect;\n            }\n        });\n    };\n    if (request.socket) {\n        onSocket(request.socket);\n    }\n    else {\n        request.prependOnceListener('socket', onSocket);\n    }\n    const onUpload = () => {\n        var _a;\n        timings.upload = Date.now();\n        timings.phases.request = timings.upload - ((_a = timings.secureConnect) !== null && _a !== void 0 ? _a : timings.connect);\n    };\n    const writableFinished = () => {\n        if (typeof request.writableFinished === 'boolean') {\n            return request.writableFinished;\n        }\n        // Node.js doesn't have `request.writableFinished` property\n        return request.finished && request.outputSize === 0 && (!request.socket || request.socket.writableLength === 0);\n    };\n    if (writableFinished()) {\n        onUpload();\n    }\n    else {\n        request.prependOnceListener('finish', onUpload);\n    }\n    request.prependOnceListener('response', (response) => {\n        timings.response = Date.now();\n        timings.phases.firstByte = timings.response - timings.upload;\n        response.timings = timings;\n        handleError(response);\n        response.prependOnceListener('end', () => {\n            timings.end = Date.now();\n            timings.phases.download = timings.end - timings.response;\n            timings.phases.total = timings.end - timings.start;\n        });\n        response.prependOnceListener('aborted', onAbort);\n    });\n    return timings;\n};\nexports[\"default\"] = timer;\n// For CommonJS default export support\nmodule.exports = timer;\nmodule.exports[\"default\"] = timer;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL0Bzem1hcmN6YWsvaHR0cC10aW1lci9kaXN0L3NvdXJjZS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwyQkFBMkIsbUJBQU8sQ0FBQyxvRkFBa0I7QUFDckQsZUFBZSxtQkFBTyxDQUFDLGtCQUFNO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxrQkFBZTtBQUNmO0FBQ0E7QUFDQSx5QkFBc0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AcG9ydGtleS9uZXh0LWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL0Bzem1hcmN6YWsvaHR0cC10aW1lci9kaXN0L3NvdXJjZS9pbmRleC5qcz9jNDI4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZGVmZXJfdG9fY29ubmVjdF8xID0gcmVxdWlyZShcImRlZmVyLXRvLWNvbm5lY3RcIik7XG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwidXRpbFwiKTtcbmNvbnN0IG5vZGVqc01ham9yVmVyc2lvbiA9IE51bWJlcihwcm9jZXNzLnZlcnNpb25zLm5vZGUuc3BsaXQoJy4nKVswXSk7XG5jb25zdCB0aW1lciA9IChyZXF1ZXN0KSA9PiB7XG4gICAgaWYgKHJlcXVlc3QudGltaW5ncykge1xuICAgICAgICByZXR1cm4gcmVxdWVzdC50aW1pbmdzO1xuICAgIH1cbiAgICBjb25zdCB0aW1pbmdzID0ge1xuICAgICAgICBzdGFydDogRGF0ZS5ub3coKSxcbiAgICAgICAgc29ja2V0OiB1bmRlZmluZWQsXG4gICAgICAgIGxvb2t1cDogdW5kZWZpbmVkLFxuICAgICAgICBjb25uZWN0OiB1bmRlZmluZWQsXG4gICAgICAgIHNlY3VyZUNvbm5lY3Q6IHVuZGVmaW5lZCxcbiAgICAgICAgdXBsb2FkOiB1bmRlZmluZWQsXG4gICAgICAgIHJlc3BvbnNlOiB1bmRlZmluZWQsXG4gICAgICAgIGVuZDogdW5kZWZpbmVkLFxuICAgICAgICBlcnJvcjogdW5kZWZpbmVkLFxuICAgICAgICBhYm9ydDogdW5kZWZpbmVkLFxuICAgICAgICBwaGFzZXM6IHtcbiAgICAgICAgICAgIHdhaXQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGRuczogdW5kZWZpbmVkLFxuICAgICAgICAgICAgdGNwOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB0bHM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHJlcXVlc3Q6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGZpcnN0Qnl0ZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZG93bmxvYWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHRvdGFsOiB1bmRlZmluZWRcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmVxdWVzdC50aW1pbmdzID0gdGltaW5ncztcbiAgICBjb25zdCBoYW5kbGVFcnJvciA9IChvcmlnaW4pID0+IHtcbiAgICAgICAgY29uc3QgZW1pdCA9IG9yaWdpbi5lbWl0LmJpbmQob3JpZ2luKTtcbiAgICAgICAgb3JpZ2luLmVtaXQgPSAoZXZlbnQsIC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgIC8vIENhdGNoZXMgdGhlIGBlcnJvcmAgZXZlbnRcbiAgICAgICAgICAgIGlmIChldmVudCA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgICAgIHRpbWluZ3MuZXJyb3IgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgIHRpbWluZ3MucGhhc2VzLnRvdGFsID0gdGltaW5ncy5lcnJvciAtIHRpbWluZ3Muc3RhcnQ7XG4gICAgICAgICAgICAgICAgb3JpZ2luLmVtaXQgPSBlbWl0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2F2ZXMgdGhlIG9yaWdpbmFsIGJlaGF2aW9yXG4gICAgICAgICAgICByZXR1cm4gZW1pdChldmVudCwgLi4uYXJncyk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBoYW5kbGVFcnJvcihyZXF1ZXN0KTtcbiAgICBjb25zdCBvbkFib3J0ID0gKCkgPT4ge1xuICAgICAgICB0aW1pbmdzLmFib3J0ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgLy8gTGV0IHRoZSBgZW5kYCByZXNwb25zZSBldmVudCBiZSByZXNwb25zaWJsZSBmb3Igc2V0dGluZyB0aGUgdG90YWwgcGhhc2UsXG4gICAgICAgIC8vIHVubGVzcyB0aGUgTm9kZS5qcyBtYWpvciB2ZXJzaW9uIGlzID49IDEzLlxuICAgICAgICBpZiAoIXRpbWluZ3MucmVzcG9uc2UgfHwgbm9kZWpzTWFqb3JWZXJzaW9uID49IDEzKSB7XG4gICAgICAgICAgICB0aW1pbmdzLnBoYXNlcy50b3RhbCA9IERhdGUubm93KCkgLSB0aW1pbmdzLnN0YXJ0O1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXF1ZXN0LnByZXBlbmRPbmNlTGlzdGVuZXIoJ2Fib3J0Jywgb25BYm9ydCk7XG4gICAgY29uc3Qgb25Tb2NrZXQgPSAoc29ja2V0KSA9PiB7XG4gICAgICAgIHRpbWluZ3Muc29ja2V0ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdGltaW5ncy5waGFzZXMud2FpdCA9IHRpbWluZ3Muc29ja2V0IC0gdGltaW5ncy5zdGFydDtcbiAgICAgICAgaWYgKHV0aWxfMS50eXBlcy5pc1Byb3h5KHNvY2tldCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsb29rdXBMaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgICAgICAgIHRpbWluZ3MubG9va3VwID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIHRpbWluZ3MucGhhc2VzLmRucyA9IHRpbWluZ3MubG9va3VwIC0gdGltaW5ncy5zb2NrZXQ7XG4gICAgICAgIH07XG4gICAgICAgIHNvY2tldC5wcmVwZW5kT25jZUxpc3RlbmVyKCdsb29rdXAnLCBsb29rdXBMaXN0ZW5lcik7XG4gICAgICAgIGRlZmVyX3RvX2Nvbm5lY3RfMS5kZWZhdWx0KHNvY2tldCwge1xuICAgICAgICAgICAgY29ubmVjdDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRpbWluZ3MuY29ubmVjdCA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgaWYgKHRpbWluZ3MubG9va3VwID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0LnJlbW92ZUxpc3RlbmVyKCdsb29rdXAnLCBsb29rdXBMaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgICAgIHRpbWluZ3MubG9va3VwID0gdGltaW5ncy5jb25uZWN0O1xuICAgICAgICAgICAgICAgICAgICB0aW1pbmdzLnBoYXNlcy5kbnMgPSB0aW1pbmdzLmxvb2t1cCAtIHRpbWluZ3Muc29ja2V0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aW1pbmdzLnBoYXNlcy50Y3AgPSB0aW1pbmdzLmNvbm5lY3QgLSB0aW1pbmdzLmxvb2t1cDtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGNhbGxiYWNrIGlzIGNhbGxlZCBiZWZvcmUgZmx1c2hpbmcgYW55IGRhdGEsXG4gICAgICAgICAgICAgICAgLy8gc28gd2UgZG9uJ3QgbmVlZCB0byBzZXQgYHRpbWluZ3MucGhhc2VzLnJlcXVlc3RgIGhlcmUuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2VjdXJlQ29ubmVjdDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRpbWluZ3Muc2VjdXJlQ29ubmVjdCA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgdGltaW5ncy5waGFzZXMudGxzID0gdGltaW5ncy5zZWN1cmVDb25uZWN0IC0gdGltaW5ncy5jb25uZWN0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGlmIChyZXF1ZXN0LnNvY2tldCkge1xuICAgICAgICBvblNvY2tldChyZXF1ZXN0LnNvY2tldCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXF1ZXN0LnByZXBlbmRPbmNlTGlzdGVuZXIoJ3NvY2tldCcsIG9uU29ja2V0KTtcbiAgICB9XG4gICAgY29uc3Qgb25VcGxvYWQgPSAoKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGltaW5ncy51cGxvYWQgPSBEYXRlLm5vdygpO1xuICAgICAgICB0aW1pbmdzLnBoYXNlcy5yZXF1ZXN0ID0gdGltaW5ncy51cGxvYWQgLSAoKF9hID0gdGltaW5ncy5zZWN1cmVDb25uZWN0KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aW1pbmdzLmNvbm5lY3QpO1xuICAgIH07XG4gICAgY29uc3Qgd3JpdGFibGVGaW5pc2hlZCA9ICgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiByZXF1ZXN0LndyaXRhYmxlRmluaXNoZWQgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3Qud3JpdGFibGVGaW5pc2hlZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBOb2RlLmpzIGRvZXNuJ3QgaGF2ZSBgcmVxdWVzdC53cml0YWJsZUZpbmlzaGVkYCBwcm9wZXJ0eVxuICAgICAgICByZXR1cm4gcmVxdWVzdC5maW5pc2hlZCAmJiByZXF1ZXN0Lm91dHB1dFNpemUgPT09IDAgJiYgKCFyZXF1ZXN0LnNvY2tldCB8fCByZXF1ZXN0LnNvY2tldC53cml0YWJsZUxlbmd0aCA9PT0gMCk7XG4gICAgfTtcbiAgICBpZiAod3JpdGFibGVGaW5pc2hlZCgpKSB7XG4gICAgICAgIG9uVXBsb2FkKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXF1ZXN0LnByZXBlbmRPbmNlTGlzdGVuZXIoJ2ZpbmlzaCcsIG9uVXBsb2FkKTtcbiAgICB9XG4gICAgcmVxdWVzdC5wcmVwZW5kT25jZUxpc3RlbmVyKCdyZXNwb25zZScsIChyZXNwb25zZSkgPT4ge1xuICAgICAgICB0aW1pbmdzLnJlc3BvbnNlID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdGltaW5ncy5waGFzZXMuZmlyc3RCeXRlID0gdGltaW5ncy5yZXNwb25zZSAtIHRpbWluZ3MudXBsb2FkO1xuICAgICAgICByZXNwb25zZS50aW1pbmdzID0gdGltaW5ncztcbiAgICAgICAgaGFuZGxlRXJyb3IocmVzcG9uc2UpO1xuICAgICAgICByZXNwb25zZS5wcmVwZW5kT25jZUxpc3RlbmVyKCdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aW1pbmdzLmVuZCA9IERhdGUubm93KCk7XG4gICAgICAgICAgICB0aW1pbmdzLnBoYXNlcy5kb3dubG9hZCA9IHRpbWluZ3MuZW5kIC0gdGltaW5ncy5yZXNwb25zZTtcbiAgICAgICAgICAgIHRpbWluZ3MucGhhc2VzLnRvdGFsID0gdGltaW5ncy5lbmQgLSB0aW1pbmdzLnN0YXJ0O1xuICAgICAgICB9KTtcbiAgICAgICAgcmVzcG9uc2UucHJlcGVuZE9uY2VMaXN0ZW5lcignYWJvcnRlZCcsIG9uQWJvcnQpO1xuICAgIH0pO1xuICAgIHJldHVybiB0aW1pbmdzO1xufTtcbmV4cG9ydHMuZGVmYXVsdCA9IHRpbWVyO1xuLy8gRm9yIENvbW1vbkpTIGRlZmF1bHQgZXhwb3J0IHN1cHBvcnRcbm1vZHVsZS5leHBvcnRzID0gdGltZXI7XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gdGltZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/@szmarczak/http-timer/dist/source/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/cacheable-lookup/source/index.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/cacheable-lookup/source/index.js ***!
  \*****************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\nconst {\n\tV4MAPPED,\n\tADDRCONFIG,\n\tALL,\n\tpromises: {\n\t\tResolver: AsyncResolver\n\t},\n\tlookup: dnsLookup\n} = __webpack_require__(/*! dns */ \"dns\");\nconst {promisify} = __webpack_require__(/*! util */ \"util\");\nconst os = __webpack_require__(/*! os */ \"os\");\n\nconst kCacheableLookupCreateConnection = Symbol('cacheableLookupCreateConnection');\nconst kCacheableLookupInstance = Symbol('cacheableLookupInstance');\nconst kExpires = Symbol('expires');\n\nconst supportsALL = typeof ALL === 'number';\n\nconst verifyAgent = agent => {\n\tif (!(agent && typeof agent.createConnection === 'function')) {\n\t\tthrow new Error('Expected an Agent instance as the first argument');\n\t}\n};\n\nconst map4to6 = entries => {\n\tfor (const entry of entries) {\n\t\tif (entry.family === 6) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tentry.address = `::ffff:${entry.address}`;\n\t\tentry.family = 6;\n\t}\n};\n\nconst getIfaceInfo = () => {\n\tlet has4 = false;\n\tlet has6 = false;\n\n\tfor (const device of Object.values(os.networkInterfaces())) {\n\t\tfor (const iface of device) {\n\t\t\tif (iface.internal) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (iface.family === 'IPv6') {\n\t\t\t\thas6 = true;\n\t\t\t} else {\n\t\t\t\thas4 = true;\n\t\t\t}\n\n\t\t\tif (has4 && has6) {\n\t\t\t\treturn {has4, has6};\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {has4, has6};\n};\n\nconst isIterable = map => {\n\treturn Symbol.iterator in map;\n};\n\nconst ttl = {ttl: true};\nconst all = {all: true};\n\nclass CacheableLookup {\n\tconstructor({\n\t\tcache = new Map(),\n\t\tmaxTtl = Infinity,\n\t\tfallbackDuration = 3600,\n\t\terrorTtl = 0.15,\n\t\tresolver = new AsyncResolver(),\n\t\tlookup = dnsLookup\n\t} = {}) {\n\t\tthis.maxTtl = maxTtl;\n\t\tthis.errorTtl = errorTtl;\n\n\t\tthis._cache = cache;\n\t\tthis._resolver = resolver;\n\t\tthis._dnsLookup = promisify(lookup);\n\n\t\tif (this._resolver instanceof AsyncResolver) {\n\t\t\tthis._resolve4 = this._resolver.resolve4.bind(this._resolver);\n\t\t\tthis._resolve6 = this._resolver.resolve6.bind(this._resolver);\n\t\t} else {\n\t\t\tthis._resolve4 = promisify(this._resolver.resolve4.bind(this._resolver));\n\t\t\tthis._resolve6 = promisify(this._resolver.resolve6.bind(this._resolver));\n\t\t}\n\n\t\tthis._iface = getIfaceInfo();\n\n\t\tthis._pending = {};\n\t\tthis._nextRemovalTime = false;\n\t\tthis._hostnamesToFallback = new Set();\n\n\t\tif (fallbackDuration < 1) {\n\t\t\tthis._fallback = false;\n\t\t} else {\n\t\t\tthis._fallback = true;\n\n\t\t\tconst interval = setInterval(() => {\n\t\t\t\tthis._hostnamesToFallback.clear();\n\t\t\t}, fallbackDuration * 1000);\n\n\t\t\t/* istanbul ignore next: There is no `interval.unref()` when running inside an Electron renderer */\n\t\t\tif (interval.unref) {\n\t\t\t\tinterval.unref();\n\t\t\t}\n\t\t}\n\n\t\tthis.lookup = this.lookup.bind(this);\n\t\tthis.lookupAsync = this.lookupAsync.bind(this);\n\t}\n\n\tset servers(servers) {\n\t\tthis.clear();\n\n\t\tthis._resolver.setServers(servers);\n\t}\n\n\tget servers() {\n\t\treturn this._resolver.getServers();\n\t}\n\n\tlookup(hostname, options, callback) {\n\t\tif (typeof options === 'function') {\n\t\t\tcallback = options;\n\t\t\toptions = {};\n\t\t} else if (typeof options === 'number') {\n\t\t\toptions = {\n\t\t\t\tfamily: options\n\t\t\t};\n\t\t}\n\n\t\tif (!callback) {\n\t\t\tthrow new Error('Callback must be a function.');\n\t\t}\n\n\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\tthis.lookupAsync(hostname, options).then(result => {\n\t\t\tif (options.all) {\n\t\t\t\tcallback(null, result);\n\t\t\t} else {\n\t\t\t\tcallback(null, result.address, result.family, result.expires, result.ttl);\n\t\t\t}\n\t\t}, callback);\n\t}\n\n\tasync lookupAsync(hostname, options = {}) {\n\t\tif (typeof options === 'number') {\n\t\t\toptions = {\n\t\t\t\tfamily: options\n\t\t\t};\n\t\t}\n\n\t\tlet cached = await this.query(hostname);\n\n\t\tif (options.family === 6) {\n\t\t\tconst filtered = cached.filter(entry => entry.family === 6);\n\n\t\t\tif (options.hints & V4MAPPED) {\n\t\t\t\tif ((supportsALL && options.hints & ALL) || filtered.length === 0) {\n\t\t\t\t\tmap4to6(cached);\n\t\t\t\t} else {\n\t\t\t\t\tcached = filtered;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcached = filtered;\n\t\t\t}\n\t\t} else if (options.family === 4) {\n\t\t\tcached = cached.filter(entry => entry.family === 4);\n\t\t}\n\n\t\tif (options.hints & ADDRCONFIG) {\n\t\t\tconst {_iface} = this;\n\t\t\tcached = cached.filter(entry => entry.family === 6 ? _iface.has6 : _iface.has4);\n\t\t}\n\n\t\tif (cached.length === 0) {\n\t\t\tconst error = new Error(`cacheableLookup ENOTFOUND ${hostname}`);\n\t\t\terror.code = 'ENOTFOUND';\n\t\t\terror.hostname = hostname;\n\n\t\t\tthrow error;\n\t\t}\n\n\t\tif (options.all) {\n\t\t\treturn cached;\n\t\t}\n\n\t\treturn cached[0];\n\t}\n\n\tasync query(hostname) {\n\t\tlet cached = await this._cache.get(hostname);\n\n\t\tif (!cached) {\n\t\t\tconst pending = this._pending[hostname];\n\n\t\t\tif (pending) {\n\t\t\t\tcached = await pending;\n\t\t\t} else {\n\t\t\t\tconst newPromise = this.queryAndCache(hostname);\n\t\t\t\tthis._pending[hostname] = newPromise;\n\n\t\t\t\ttry {\n\t\t\t\t\tcached = await newPromise;\n\t\t\t\t} finally {\n\t\t\t\t\tdelete this._pending[hostname];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcached = cached.map(entry => {\n\t\t\treturn {...entry};\n\t\t});\n\n\t\treturn cached;\n\t}\n\n\tasync _resolve(hostname) {\n\t\tconst wrap = async promise => {\n\t\t\ttry {\n\t\t\t\treturn await promise;\n\t\t\t} catch (error) {\n\t\t\t\tif (error.code === 'ENODATA' || error.code === 'ENOTFOUND') {\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t};\n\n\t\t// ANY is unsafe as it doesn't trigger new queries in the underlying server.\n\t\tconst [A, AAAA] = await Promise.all([\n\t\t\tthis._resolve4(hostname, ttl),\n\t\t\tthis._resolve6(hostname, ttl)\n\t\t].map(promise => wrap(promise)));\n\n\t\tlet aTtl = 0;\n\t\tlet aaaaTtl = 0;\n\t\tlet cacheTtl = 0;\n\n\t\tconst now = Date.now();\n\n\t\tfor (const entry of A) {\n\t\t\tentry.family = 4;\n\t\t\tentry.expires = now + (entry.ttl * 1000);\n\n\t\t\taTtl = Math.max(aTtl, entry.ttl);\n\t\t}\n\n\t\tfor (const entry of AAAA) {\n\t\t\tentry.family = 6;\n\t\t\tentry.expires = now + (entry.ttl * 1000);\n\n\t\t\taaaaTtl = Math.max(aaaaTtl, entry.ttl);\n\t\t}\n\n\t\tif (A.length > 0) {\n\t\t\tif (AAAA.length > 0) {\n\t\t\t\tcacheTtl = Math.min(aTtl, aaaaTtl);\n\t\t\t} else {\n\t\t\t\tcacheTtl = aTtl;\n\t\t\t}\n\t\t} else {\n\t\t\tcacheTtl = aaaaTtl;\n\t\t}\n\n\t\treturn {\n\t\t\tentries: [\n\t\t\t\t...A,\n\t\t\t\t...AAAA\n\t\t\t],\n\t\t\tcacheTtl\n\t\t};\n\t}\n\n\tasync _lookup(hostname) {\n\t\ttry {\n\t\t\tconst entries = await this._dnsLookup(hostname, {\n\t\t\t\tall: true\n\t\t\t});\n\n\t\t\treturn {\n\t\t\t\tentries,\n\t\t\t\tcacheTtl: 0\n\t\t\t};\n\t\t} catch (_) {\n\t\t\treturn {\n\t\t\t\tentries: [],\n\t\t\t\tcacheTtl: 0\n\t\t\t};\n\t\t}\n\t}\n\n\tasync _set(hostname, data, cacheTtl) {\n\t\tif (this.maxTtl > 0 && cacheTtl > 0) {\n\t\t\tcacheTtl = Math.min(cacheTtl, this.maxTtl) * 1000;\n\t\t\tdata[kExpires] = Date.now() + cacheTtl;\n\n\t\t\ttry {\n\t\t\t\tawait this._cache.set(hostname, data, cacheTtl);\n\t\t\t} catch (error) {\n\t\t\t\tthis.lookupAsync = async () => {\n\t\t\t\t\tconst cacheError = new Error('Cache Error. Please recreate the CacheableLookup instance.');\n\t\t\t\t\tcacheError.cause = error;\n\n\t\t\t\t\tthrow cacheError;\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (isIterable(this._cache)) {\n\t\t\t\tthis._tick(cacheTtl);\n\t\t\t}\n\t\t}\n\t}\n\n\tasync queryAndCache(hostname) {\n\t\tif (this._hostnamesToFallback.has(hostname)) {\n\t\t\treturn this._dnsLookup(hostname, all);\n\t\t}\n\n\t\tlet query = await this._resolve(hostname);\n\n\t\tif (query.entries.length === 0 && this._fallback) {\n\t\t\tquery = await this._lookup(hostname);\n\n\t\t\tif (query.entries.length !== 0) {\n\t\t\t\t// Use `dns.lookup(...)` for that particular hostname\n\t\t\t\tthis._hostnamesToFallback.add(hostname);\n\t\t\t}\n\t\t}\n\n\t\tconst cacheTtl = query.entries.length === 0 ? this.errorTtl : query.cacheTtl;\n\t\tawait this._set(hostname, query.entries, cacheTtl);\n\n\t\treturn query.entries;\n\t}\n\n\t_tick(ms) {\n\t\tconst nextRemovalTime = this._nextRemovalTime;\n\n\t\tif (!nextRemovalTime || ms < nextRemovalTime) {\n\t\t\tclearTimeout(this._removalTimeout);\n\n\t\t\tthis._nextRemovalTime = ms;\n\n\t\t\tthis._removalTimeout = setTimeout(() => {\n\t\t\t\tthis._nextRemovalTime = false;\n\n\t\t\t\tlet nextExpiry = Infinity;\n\n\t\t\t\tconst now = Date.now();\n\n\t\t\t\tfor (const [hostname, entries] of this._cache) {\n\t\t\t\t\tconst expires = entries[kExpires];\n\n\t\t\t\t\tif (now >= expires) {\n\t\t\t\t\t\tthis._cache.delete(hostname);\n\t\t\t\t\t} else if (expires < nextExpiry) {\n\t\t\t\t\t\tnextExpiry = expires;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (nextExpiry !== Infinity) {\n\t\t\t\t\tthis._tick(nextExpiry - now);\n\t\t\t\t}\n\t\t\t}, ms);\n\n\t\t\t/* istanbul ignore next: There is no `timeout.unref()` when running inside an Electron renderer */\n\t\t\tif (this._removalTimeout.unref) {\n\t\t\t\tthis._removalTimeout.unref();\n\t\t\t}\n\t\t}\n\t}\n\n\tinstall(agent) {\n\t\tverifyAgent(agent);\n\n\t\tif (kCacheableLookupCreateConnection in agent) {\n\t\t\tthrow new Error('CacheableLookup has been already installed');\n\t\t}\n\n\t\tagent[kCacheableLookupCreateConnection] = agent.createConnection;\n\t\tagent[kCacheableLookupInstance] = this;\n\n\t\tagent.createConnection = (options, callback) => {\n\t\t\tif (!('lookup' in options)) {\n\t\t\t\toptions.lookup = this.lookup;\n\t\t\t}\n\n\t\t\treturn agent[kCacheableLookupCreateConnection](options, callback);\n\t\t};\n\t}\n\n\tuninstall(agent) {\n\t\tverifyAgent(agent);\n\n\t\tif (agent[kCacheableLookupCreateConnection]) {\n\t\t\tif (agent[kCacheableLookupInstance] !== this) {\n\t\t\t\tthrow new Error('The agent is not owned by this CacheableLookup instance');\n\t\t\t}\n\n\t\t\tagent.createConnection = agent[kCacheableLookupCreateConnection];\n\n\t\t\tdelete agent[kCacheableLookupCreateConnection];\n\t\t\tdelete agent[kCacheableLookupInstance];\n\t\t}\n\t}\n\n\tupdateInterfaceInfo() {\n\t\tconst {_iface} = this;\n\n\t\tthis._iface = getIfaceInfo();\n\n\t\tif ((_iface.has4 && !this._iface.has4) || (_iface.has6 && !this._iface.has6)) {\n\t\t\tthis._cache.clear();\n\t\t}\n\t}\n\n\tclear(hostname) {\n\t\tif (hostname) {\n\t\t\tthis._cache.delete(hostname);\n\t\t\treturn;\n\t\t}\n\n\t\tthis._cache.clear();\n\t}\n}\n\nmodule.exports = CacheableLookup;\nmodule.exports[\"default\"] = CacheableLookup;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2NhY2hlYWJsZS1sb29rdXAvc291cmNlL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0EsRUFBRSxFQUFFLG1CQUFPLENBQUMsZ0JBQUs7QUFDakIsT0FBTyxXQUFXLEVBQUUsbUJBQU8sQ0FBQyxrQkFBTTtBQUNsQyxXQUFXLG1CQUFPLENBQUMsY0FBSTs7QUFFdkI7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw0QkFBNEIsY0FBYztBQUMxQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGFBQWE7QUFDYixhQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLElBQUk7QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUEseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQSxVQUFVLFFBQVE7QUFDbEI7QUFDQTs7QUFFQTtBQUNBLHdEQUF3RCxTQUFTO0FBQ2pFO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXO0FBQ1gsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTLFFBQVE7O0FBRWpCOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EseUJBQXNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBvcnRrZXkvbmV4dC1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL3N3YXJtLWpzL25vZGVfbW9kdWxlcy9jYWNoZWFibGUtbG9va3VwL3NvdXJjZS9pbmRleC5qcz85NThiIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbmNvbnN0IHtcblx0VjRNQVBQRUQsXG5cdEFERFJDT05GSUcsXG5cdEFMTCxcblx0cHJvbWlzZXM6IHtcblx0XHRSZXNvbHZlcjogQXN5bmNSZXNvbHZlclxuXHR9LFxuXHRsb29rdXA6IGRuc0xvb2t1cFxufSA9IHJlcXVpcmUoJ2RucycpO1xuY29uc3Qge3Byb21pc2lmeX0gPSByZXF1aXJlKCd1dGlsJyk7XG5jb25zdCBvcyA9IHJlcXVpcmUoJ29zJyk7XG5cbmNvbnN0IGtDYWNoZWFibGVMb29rdXBDcmVhdGVDb25uZWN0aW9uID0gU3ltYm9sKCdjYWNoZWFibGVMb29rdXBDcmVhdGVDb25uZWN0aW9uJyk7XG5jb25zdCBrQ2FjaGVhYmxlTG9va3VwSW5zdGFuY2UgPSBTeW1ib2woJ2NhY2hlYWJsZUxvb2t1cEluc3RhbmNlJyk7XG5jb25zdCBrRXhwaXJlcyA9IFN5bWJvbCgnZXhwaXJlcycpO1xuXG5jb25zdCBzdXBwb3J0c0FMTCA9IHR5cGVvZiBBTEwgPT09ICdudW1iZXInO1xuXG5jb25zdCB2ZXJpZnlBZ2VudCA9IGFnZW50ID0+IHtcblx0aWYgKCEoYWdlbnQgJiYgdHlwZW9mIGFnZW50LmNyZWF0ZUNvbm5lY3Rpb24gPT09ICdmdW5jdGlvbicpKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBhbiBBZ2VudCBpbnN0YW5jZSBhcyB0aGUgZmlyc3QgYXJndW1lbnQnKTtcblx0fVxufTtcblxuY29uc3QgbWFwNHRvNiA9IGVudHJpZXMgPT4ge1xuXHRmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpIHtcblx0XHRpZiAoZW50cnkuZmFtaWx5ID09PSA2KSB7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHRlbnRyeS5hZGRyZXNzID0gYDo6ZmZmZjoke2VudHJ5LmFkZHJlc3N9YDtcblx0XHRlbnRyeS5mYW1pbHkgPSA2O1xuXHR9XG59O1xuXG5jb25zdCBnZXRJZmFjZUluZm8gPSAoKSA9PiB7XG5cdGxldCBoYXM0ID0gZmFsc2U7XG5cdGxldCBoYXM2ID0gZmFsc2U7XG5cblx0Zm9yIChjb25zdCBkZXZpY2Ugb2YgT2JqZWN0LnZhbHVlcyhvcy5uZXR3b3JrSW50ZXJmYWNlcygpKSkge1xuXHRcdGZvciAoY29uc3QgaWZhY2Ugb2YgZGV2aWNlKSB7XG5cdFx0XHRpZiAoaWZhY2UuaW50ZXJuYWwpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpZmFjZS5mYW1pbHkgPT09ICdJUHY2Jykge1xuXHRcdFx0XHRoYXM2ID0gdHJ1ZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGhhczQgPSB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoaGFzNCAmJiBoYXM2KSB7XG5cdFx0XHRcdHJldHVybiB7aGFzNCwgaGFzNn07XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHtoYXM0LCBoYXM2fTtcbn07XG5cbmNvbnN0IGlzSXRlcmFibGUgPSBtYXAgPT4ge1xuXHRyZXR1cm4gU3ltYm9sLml0ZXJhdG9yIGluIG1hcDtcbn07XG5cbmNvbnN0IHR0bCA9IHt0dGw6IHRydWV9O1xuY29uc3QgYWxsID0ge2FsbDogdHJ1ZX07XG5cbmNsYXNzIENhY2hlYWJsZUxvb2t1cCB7XG5cdGNvbnN0cnVjdG9yKHtcblx0XHRjYWNoZSA9IG5ldyBNYXAoKSxcblx0XHRtYXhUdGwgPSBJbmZpbml0eSxcblx0XHRmYWxsYmFja0R1cmF0aW9uID0gMzYwMCxcblx0XHRlcnJvclR0bCA9IDAuMTUsXG5cdFx0cmVzb2x2ZXIgPSBuZXcgQXN5bmNSZXNvbHZlcigpLFxuXHRcdGxvb2t1cCA9IGRuc0xvb2t1cFxuXHR9ID0ge30pIHtcblx0XHR0aGlzLm1heFR0bCA9IG1heFR0bDtcblx0XHR0aGlzLmVycm9yVHRsID0gZXJyb3JUdGw7XG5cblx0XHR0aGlzLl9jYWNoZSA9IGNhY2hlO1xuXHRcdHRoaXMuX3Jlc29sdmVyID0gcmVzb2x2ZXI7XG5cdFx0dGhpcy5fZG5zTG9va3VwID0gcHJvbWlzaWZ5KGxvb2t1cCk7XG5cblx0XHRpZiAodGhpcy5fcmVzb2x2ZXIgaW5zdGFuY2VvZiBBc3luY1Jlc29sdmVyKSB7XG5cdFx0XHR0aGlzLl9yZXNvbHZlNCA9IHRoaXMuX3Jlc29sdmVyLnJlc29sdmU0LmJpbmQodGhpcy5fcmVzb2x2ZXIpO1xuXHRcdFx0dGhpcy5fcmVzb2x2ZTYgPSB0aGlzLl9yZXNvbHZlci5yZXNvbHZlNi5iaW5kKHRoaXMuX3Jlc29sdmVyKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5fcmVzb2x2ZTQgPSBwcm9taXNpZnkodGhpcy5fcmVzb2x2ZXIucmVzb2x2ZTQuYmluZCh0aGlzLl9yZXNvbHZlcikpO1xuXHRcdFx0dGhpcy5fcmVzb2x2ZTYgPSBwcm9taXNpZnkodGhpcy5fcmVzb2x2ZXIucmVzb2x2ZTYuYmluZCh0aGlzLl9yZXNvbHZlcikpO1xuXHRcdH1cblxuXHRcdHRoaXMuX2lmYWNlID0gZ2V0SWZhY2VJbmZvKCk7XG5cblx0XHR0aGlzLl9wZW5kaW5nID0ge307XG5cdFx0dGhpcy5fbmV4dFJlbW92YWxUaW1lID0gZmFsc2U7XG5cdFx0dGhpcy5faG9zdG5hbWVzVG9GYWxsYmFjayA9IG5ldyBTZXQoKTtcblxuXHRcdGlmIChmYWxsYmFja0R1cmF0aW9uIDwgMSkge1xuXHRcdFx0dGhpcy5fZmFsbGJhY2sgPSBmYWxzZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5fZmFsbGJhY2sgPSB0cnVlO1xuXG5cdFx0XHRjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcblx0XHRcdFx0dGhpcy5faG9zdG5hbWVzVG9GYWxsYmFjay5jbGVhcigpO1xuXHRcdFx0fSwgZmFsbGJhY2tEdXJhdGlvbiAqIDEwMDApO1xuXG5cdFx0XHQvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogVGhlcmUgaXMgbm8gYGludGVydmFsLnVucmVmKClgIHdoZW4gcnVubmluZyBpbnNpZGUgYW4gRWxlY3Ryb24gcmVuZGVyZXIgKi9cblx0XHRcdGlmIChpbnRlcnZhbC51bnJlZikge1xuXHRcdFx0XHRpbnRlcnZhbC51bnJlZigpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMubG9va3VwID0gdGhpcy5sb29rdXAuYmluZCh0aGlzKTtcblx0XHR0aGlzLmxvb2t1cEFzeW5jID0gdGhpcy5sb29rdXBBc3luYy5iaW5kKHRoaXMpO1xuXHR9XG5cblx0c2V0IHNlcnZlcnMoc2VydmVycykge1xuXHRcdHRoaXMuY2xlYXIoKTtcblxuXHRcdHRoaXMuX3Jlc29sdmVyLnNldFNlcnZlcnMoc2VydmVycyk7XG5cdH1cblxuXHRnZXQgc2VydmVycygpIHtcblx0XHRyZXR1cm4gdGhpcy5fcmVzb2x2ZXIuZ2V0U2VydmVycygpO1xuXHR9XG5cblx0bG9va3VwKGhvc3RuYW1lLCBvcHRpb25zLCBjYWxsYmFjaykge1xuXHRcdGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0Y2FsbGJhY2sgPSBvcHRpb25zO1xuXHRcdFx0b3B0aW9ucyA9IHt9O1xuXHRcdH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKSB7XG5cdFx0XHRvcHRpb25zID0ge1xuXHRcdFx0XHRmYW1pbHk6IG9wdGlvbnNcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKCFjYWxsYmFjaykge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdDYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb24uJyk7XG5cdFx0fVxuXG5cdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByb21pc2UvcHJlZmVyLWF3YWl0LXRvLXRoZW5cblx0XHR0aGlzLmxvb2t1cEFzeW5jKGhvc3RuYW1lLCBvcHRpb25zKS50aGVuKHJlc3VsdCA9PiB7XG5cdFx0XHRpZiAob3B0aW9ucy5hbGwpIHtcblx0XHRcdFx0Y2FsbGJhY2sobnVsbCwgcmVzdWx0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNhbGxiYWNrKG51bGwsIHJlc3VsdC5hZGRyZXNzLCByZXN1bHQuZmFtaWx5LCByZXN1bHQuZXhwaXJlcywgcmVzdWx0LnR0bCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGJhY2spO1xuXHR9XG5cblx0YXN5bmMgbG9va3VwQXN5bmMoaG9zdG5hbWUsIG9wdGlvbnMgPSB7fSkge1xuXHRcdGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpIHtcblx0XHRcdG9wdGlvbnMgPSB7XG5cdFx0XHRcdGZhbWlseTogb3B0aW9uc1xuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRsZXQgY2FjaGVkID0gYXdhaXQgdGhpcy5xdWVyeShob3N0bmFtZSk7XG5cblx0XHRpZiAob3B0aW9ucy5mYW1pbHkgPT09IDYpIHtcblx0XHRcdGNvbnN0IGZpbHRlcmVkID0gY2FjaGVkLmZpbHRlcihlbnRyeSA9PiBlbnRyeS5mYW1pbHkgPT09IDYpO1xuXG5cdFx0XHRpZiAob3B0aW9ucy5oaW50cyAmIFY0TUFQUEVEKSB7XG5cdFx0XHRcdGlmICgoc3VwcG9ydHNBTEwgJiYgb3B0aW9ucy5oaW50cyAmIEFMTCkgfHwgZmlsdGVyZWQubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdFx0bWFwNHRvNihjYWNoZWQpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNhY2hlZCA9IGZpbHRlcmVkO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjYWNoZWQgPSBmaWx0ZXJlZDtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKG9wdGlvbnMuZmFtaWx5ID09PSA0KSB7XG5cdFx0XHRjYWNoZWQgPSBjYWNoZWQuZmlsdGVyKGVudHJ5ID0+IGVudHJ5LmZhbWlseSA9PT0gNCk7XG5cdFx0fVxuXG5cdFx0aWYgKG9wdGlvbnMuaGludHMgJiBBRERSQ09ORklHKSB7XG5cdFx0XHRjb25zdCB7X2lmYWNlfSA9IHRoaXM7XG5cdFx0XHRjYWNoZWQgPSBjYWNoZWQuZmlsdGVyKGVudHJ5ID0+IGVudHJ5LmZhbWlseSA9PT0gNiA/IF9pZmFjZS5oYXM2IDogX2lmYWNlLmhhczQpO1xuXHRcdH1cblxuXHRcdGlmIChjYWNoZWQubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgY2FjaGVhYmxlTG9va3VwIEVOT1RGT1VORCAke2hvc3RuYW1lfWApO1xuXHRcdFx0ZXJyb3IuY29kZSA9ICdFTk9URk9VTkQnO1xuXHRcdFx0ZXJyb3IuaG9zdG5hbWUgPSBob3N0bmFtZTtcblxuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0aWYgKG9wdGlvbnMuYWxsKSB7XG5cdFx0XHRyZXR1cm4gY2FjaGVkO1xuXHRcdH1cblxuXHRcdHJldHVybiBjYWNoZWRbMF07XG5cdH1cblxuXHRhc3luYyBxdWVyeShob3N0bmFtZSkge1xuXHRcdGxldCBjYWNoZWQgPSBhd2FpdCB0aGlzLl9jYWNoZS5nZXQoaG9zdG5hbWUpO1xuXG5cdFx0aWYgKCFjYWNoZWQpIHtcblx0XHRcdGNvbnN0IHBlbmRpbmcgPSB0aGlzLl9wZW5kaW5nW2hvc3RuYW1lXTtcblxuXHRcdFx0aWYgKHBlbmRpbmcpIHtcblx0XHRcdFx0Y2FjaGVkID0gYXdhaXQgcGVuZGluZztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IG5ld1Byb21pc2UgPSB0aGlzLnF1ZXJ5QW5kQ2FjaGUoaG9zdG5hbWUpO1xuXHRcdFx0XHR0aGlzLl9wZW5kaW5nW2hvc3RuYW1lXSA9IG5ld1Byb21pc2U7XG5cblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRjYWNoZWQgPSBhd2FpdCBuZXdQcm9taXNlO1xuXHRcdFx0XHR9IGZpbmFsbHkge1xuXHRcdFx0XHRcdGRlbGV0ZSB0aGlzLl9wZW5kaW5nW2hvc3RuYW1lXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNhY2hlZCA9IGNhY2hlZC5tYXAoZW50cnkgPT4ge1xuXHRcdFx0cmV0dXJuIHsuLi5lbnRyeX07XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gY2FjaGVkO1xuXHR9XG5cblx0YXN5bmMgX3Jlc29sdmUoaG9zdG5hbWUpIHtcblx0XHRjb25zdCB3cmFwID0gYXN5bmMgcHJvbWlzZSA9PiB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRyZXR1cm4gYXdhaXQgcHJvbWlzZTtcblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdGlmIChlcnJvci5jb2RlID09PSAnRU5PREFUQScgfHwgZXJyb3IuY29kZSA9PT0gJ0VOT1RGT1VORCcpIHtcblx0XHRcdFx0XHRyZXR1cm4gW107XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aHJvdyBlcnJvcjtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0Ly8gQU5ZIGlzIHVuc2FmZSBhcyBpdCBkb2Vzbid0IHRyaWdnZXIgbmV3IHF1ZXJpZXMgaW4gdGhlIHVuZGVybHlpbmcgc2VydmVyLlxuXHRcdGNvbnN0IFtBLCBBQUFBXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcblx0XHRcdHRoaXMuX3Jlc29sdmU0KGhvc3RuYW1lLCB0dGwpLFxuXHRcdFx0dGhpcy5fcmVzb2x2ZTYoaG9zdG5hbWUsIHR0bClcblx0XHRdLm1hcChwcm9taXNlID0+IHdyYXAocHJvbWlzZSkpKTtcblxuXHRcdGxldCBhVHRsID0gMDtcblx0XHRsZXQgYWFhYVR0bCA9IDA7XG5cdFx0bGV0IGNhY2hlVHRsID0gMDtcblxuXHRcdGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG5cblx0XHRmb3IgKGNvbnN0IGVudHJ5IG9mIEEpIHtcblx0XHRcdGVudHJ5LmZhbWlseSA9IDQ7XG5cdFx0XHRlbnRyeS5leHBpcmVzID0gbm93ICsgKGVudHJ5LnR0bCAqIDEwMDApO1xuXG5cdFx0XHRhVHRsID0gTWF0aC5tYXgoYVR0bCwgZW50cnkudHRsKTtcblx0XHR9XG5cblx0XHRmb3IgKGNvbnN0IGVudHJ5IG9mIEFBQUEpIHtcblx0XHRcdGVudHJ5LmZhbWlseSA9IDY7XG5cdFx0XHRlbnRyeS5leHBpcmVzID0gbm93ICsgKGVudHJ5LnR0bCAqIDEwMDApO1xuXG5cdFx0XHRhYWFhVHRsID0gTWF0aC5tYXgoYWFhYVR0bCwgZW50cnkudHRsKTtcblx0XHR9XG5cblx0XHRpZiAoQS5sZW5ndGggPiAwKSB7XG5cdFx0XHRpZiAoQUFBQS5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdGNhY2hlVHRsID0gTWF0aC5taW4oYVR0bCwgYWFhYVR0bCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjYWNoZVR0bCA9IGFUdGw7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNhY2hlVHRsID0gYWFhYVR0bDtcblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0ZW50cmllczogW1xuXHRcdFx0XHQuLi5BLFxuXHRcdFx0XHQuLi5BQUFBXG5cdFx0XHRdLFxuXHRcdFx0Y2FjaGVUdGxcblx0XHR9O1xuXHR9XG5cblx0YXN5bmMgX2xvb2t1cChob3N0bmFtZSkge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBlbnRyaWVzID0gYXdhaXQgdGhpcy5fZG5zTG9va3VwKGhvc3RuYW1lLCB7XG5cdFx0XHRcdGFsbDogdHJ1ZVxuXHRcdFx0fSk7XG5cblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGVudHJpZXMsXG5cdFx0XHRcdGNhY2hlVHRsOiAwXG5cdFx0XHR9O1xuXHRcdH0gY2F0Y2ggKF8pIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGVudHJpZXM6IFtdLFxuXHRcdFx0XHRjYWNoZVR0bDogMFxuXHRcdFx0fTtcblx0XHR9XG5cdH1cblxuXHRhc3luYyBfc2V0KGhvc3RuYW1lLCBkYXRhLCBjYWNoZVR0bCkge1xuXHRcdGlmICh0aGlzLm1heFR0bCA+IDAgJiYgY2FjaGVUdGwgPiAwKSB7XG5cdFx0XHRjYWNoZVR0bCA9IE1hdGgubWluKGNhY2hlVHRsLCB0aGlzLm1heFR0bCkgKiAxMDAwO1xuXHRcdFx0ZGF0YVtrRXhwaXJlc10gPSBEYXRlLm5vdygpICsgY2FjaGVUdGw7XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdGF3YWl0IHRoaXMuX2NhY2hlLnNldChob3N0bmFtZSwgZGF0YSwgY2FjaGVUdGwpO1xuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0dGhpcy5sb29rdXBBc3luYyA9IGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRjb25zdCBjYWNoZUVycm9yID0gbmV3IEVycm9yKCdDYWNoZSBFcnJvci4gUGxlYXNlIHJlY3JlYXRlIHRoZSBDYWNoZWFibGVMb29rdXAgaW5zdGFuY2UuJyk7XG5cdFx0XHRcdFx0Y2FjaGVFcnJvci5jYXVzZSA9IGVycm9yO1xuXG5cdFx0XHRcdFx0dGhyb3cgY2FjaGVFcnJvcjtcblx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGlzSXRlcmFibGUodGhpcy5fY2FjaGUpKSB7XG5cdFx0XHRcdHRoaXMuX3RpY2soY2FjaGVUdGwpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGFzeW5jIHF1ZXJ5QW5kQ2FjaGUoaG9zdG5hbWUpIHtcblx0XHRpZiAodGhpcy5faG9zdG5hbWVzVG9GYWxsYmFjay5oYXMoaG9zdG5hbWUpKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fZG5zTG9va3VwKGhvc3RuYW1lLCBhbGwpO1xuXHRcdH1cblxuXHRcdGxldCBxdWVyeSA9IGF3YWl0IHRoaXMuX3Jlc29sdmUoaG9zdG5hbWUpO1xuXG5cdFx0aWYgKHF1ZXJ5LmVudHJpZXMubGVuZ3RoID09PSAwICYmIHRoaXMuX2ZhbGxiYWNrKSB7XG5cdFx0XHRxdWVyeSA9IGF3YWl0IHRoaXMuX2xvb2t1cChob3N0bmFtZSk7XG5cblx0XHRcdGlmIChxdWVyeS5lbnRyaWVzLmxlbmd0aCAhPT0gMCkge1xuXHRcdFx0XHQvLyBVc2UgYGRucy5sb29rdXAoLi4uKWAgZm9yIHRoYXQgcGFydGljdWxhciBob3N0bmFtZVxuXHRcdFx0XHR0aGlzLl9ob3N0bmFtZXNUb0ZhbGxiYWNrLmFkZChob3N0bmFtZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3QgY2FjaGVUdGwgPSBxdWVyeS5lbnRyaWVzLmxlbmd0aCA9PT0gMCA/IHRoaXMuZXJyb3JUdGwgOiBxdWVyeS5jYWNoZVR0bDtcblx0XHRhd2FpdCB0aGlzLl9zZXQoaG9zdG5hbWUsIHF1ZXJ5LmVudHJpZXMsIGNhY2hlVHRsKTtcblxuXHRcdHJldHVybiBxdWVyeS5lbnRyaWVzO1xuXHR9XG5cblx0X3RpY2sobXMpIHtcblx0XHRjb25zdCBuZXh0UmVtb3ZhbFRpbWUgPSB0aGlzLl9uZXh0UmVtb3ZhbFRpbWU7XG5cblx0XHRpZiAoIW5leHRSZW1vdmFsVGltZSB8fCBtcyA8IG5leHRSZW1vdmFsVGltZSkge1xuXHRcdFx0Y2xlYXJUaW1lb3V0KHRoaXMuX3JlbW92YWxUaW1lb3V0KTtcblxuXHRcdFx0dGhpcy5fbmV4dFJlbW92YWxUaW1lID0gbXM7XG5cblx0XHRcdHRoaXMuX3JlbW92YWxUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdHRoaXMuX25leHRSZW1vdmFsVGltZSA9IGZhbHNlO1xuXG5cdFx0XHRcdGxldCBuZXh0RXhwaXJ5ID0gSW5maW5pdHk7XG5cblx0XHRcdFx0Y29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcblxuXHRcdFx0XHRmb3IgKGNvbnN0IFtob3N0bmFtZSwgZW50cmllc10gb2YgdGhpcy5fY2FjaGUpIHtcblx0XHRcdFx0XHRjb25zdCBleHBpcmVzID0gZW50cmllc1trRXhwaXJlc107XG5cblx0XHRcdFx0XHRpZiAobm93ID49IGV4cGlyZXMpIHtcblx0XHRcdFx0XHRcdHRoaXMuX2NhY2hlLmRlbGV0ZShob3N0bmFtZSk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChleHBpcmVzIDwgbmV4dEV4cGlyeSkge1xuXHRcdFx0XHRcdFx0bmV4dEV4cGlyeSA9IGV4cGlyZXM7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKG5leHRFeHBpcnkgIT09IEluZmluaXR5KSB7XG5cdFx0XHRcdFx0dGhpcy5fdGljayhuZXh0RXhwaXJ5IC0gbm93KTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgbXMpO1xuXG5cdFx0XHQvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogVGhlcmUgaXMgbm8gYHRpbWVvdXQudW5yZWYoKWAgd2hlbiBydW5uaW5nIGluc2lkZSBhbiBFbGVjdHJvbiByZW5kZXJlciAqL1xuXHRcdFx0aWYgKHRoaXMuX3JlbW92YWxUaW1lb3V0LnVucmVmKSB7XG5cdFx0XHRcdHRoaXMuX3JlbW92YWxUaW1lb3V0LnVucmVmKCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0aW5zdGFsbChhZ2VudCkge1xuXHRcdHZlcmlmeUFnZW50KGFnZW50KTtcblxuXHRcdGlmIChrQ2FjaGVhYmxlTG9va3VwQ3JlYXRlQ29ubmVjdGlvbiBpbiBhZ2VudCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdDYWNoZWFibGVMb29rdXAgaGFzIGJlZW4gYWxyZWFkeSBpbnN0YWxsZWQnKTtcblx0XHR9XG5cblx0XHRhZ2VudFtrQ2FjaGVhYmxlTG9va3VwQ3JlYXRlQ29ubmVjdGlvbl0gPSBhZ2VudC5jcmVhdGVDb25uZWN0aW9uO1xuXHRcdGFnZW50W2tDYWNoZWFibGVMb29rdXBJbnN0YW5jZV0gPSB0aGlzO1xuXG5cdFx0YWdlbnQuY3JlYXRlQ29ubmVjdGlvbiA9IChvcHRpb25zLCBjYWxsYmFjaykgPT4ge1xuXHRcdFx0aWYgKCEoJ2xvb2t1cCcgaW4gb3B0aW9ucykpIHtcblx0XHRcdFx0b3B0aW9ucy5sb29rdXAgPSB0aGlzLmxvb2t1cDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGFnZW50W2tDYWNoZWFibGVMb29rdXBDcmVhdGVDb25uZWN0aW9uXShvcHRpb25zLCBjYWxsYmFjayk7XG5cdFx0fTtcblx0fVxuXG5cdHVuaW5zdGFsbChhZ2VudCkge1xuXHRcdHZlcmlmeUFnZW50KGFnZW50KTtcblxuXHRcdGlmIChhZ2VudFtrQ2FjaGVhYmxlTG9va3VwQ3JlYXRlQ29ubmVjdGlvbl0pIHtcblx0XHRcdGlmIChhZ2VudFtrQ2FjaGVhYmxlTG9va3VwSW5zdGFuY2VdICE9PSB0aGlzKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignVGhlIGFnZW50IGlzIG5vdCBvd25lZCBieSB0aGlzIENhY2hlYWJsZUxvb2t1cCBpbnN0YW5jZScpO1xuXHRcdFx0fVxuXG5cdFx0XHRhZ2VudC5jcmVhdGVDb25uZWN0aW9uID0gYWdlbnRba0NhY2hlYWJsZUxvb2t1cENyZWF0ZUNvbm5lY3Rpb25dO1xuXG5cdFx0XHRkZWxldGUgYWdlbnRba0NhY2hlYWJsZUxvb2t1cENyZWF0ZUNvbm5lY3Rpb25dO1xuXHRcdFx0ZGVsZXRlIGFnZW50W2tDYWNoZWFibGVMb29rdXBJbnN0YW5jZV07XG5cdFx0fVxuXHR9XG5cblx0dXBkYXRlSW50ZXJmYWNlSW5mbygpIHtcblx0XHRjb25zdCB7X2lmYWNlfSA9IHRoaXM7XG5cblx0XHR0aGlzLl9pZmFjZSA9IGdldElmYWNlSW5mbygpO1xuXG5cdFx0aWYgKChfaWZhY2UuaGFzNCAmJiAhdGhpcy5faWZhY2UuaGFzNCkgfHwgKF9pZmFjZS5oYXM2ICYmICF0aGlzLl9pZmFjZS5oYXM2KSkge1xuXHRcdFx0dGhpcy5fY2FjaGUuY2xlYXIoKTtcblx0XHR9XG5cdH1cblxuXHRjbGVhcihob3N0bmFtZSkge1xuXHRcdGlmIChob3N0bmFtZSkge1xuXHRcdFx0dGhpcy5fY2FjaGUuZGVsZXRlKGhvc3RuYW1lKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLl9jYWNoZS5jbGVhcigpO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ2FjaGVhYmxlTG9va3VwO1xubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IENhY2hlYWJsZUxvb2t1cDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/cacheable-lookup/source/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/eth-lib/lib/array.js":
/*!*****************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/eth-lib/lib/array.js ***!
  \*****************************************************************/
/***/ ((module) => {

eval("var generate = function generate(num, fn) {\n  var a = [];\n  for (var i = 0; i < num; ++i) {\n    a.push(fn(i));\n  }return a;\n};\n\nvar replicate = function replicate(num, val) {\n  return generate(num, function () {\n    return val;\n  });\n};\n\nvar concat = function concat(a, b) {\n  return a.concat(b);\n};\n\nvar flatten = function flatten(a) {\n  var r = [];\n  for (var j = 0, J = a.length; j < J; ++j) {\n    for (var i = 0, I = a[j].length; i < I; ++i) {\n      r.push(a[j][i]);\n    }\n  }return r;\n};\n\nvar chunksOf = function chunksOf(n, a) {\n  var b = [];\n  for (var i = 0, l = a.length; i < l; i += n) {\n    b.push(a.slice(i, i + n));\n  }return b;\n};\n\nmodule.exports = {\n  generate: generate,\n  replicate: replicate,\n  concat: concat,\n  flatten: flatten,\n  chunksOf: chunksOf\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2V0aC1saWIvbGliL2FycmF5LmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQSxrQkFBa0IsU0FBUztBQUMzQjtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxnQ0FBZ0MsT0FBTztBQUN2QyxxQ0FBcUMsT0FBTztBQUM1QztBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQSxnQ0FBZ0MsT0FBTztBQUN2QztBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0Bwb3J0a2V5L25leHQtZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9zd2FybS1qcy9ub2RlX21vZHVsZXMvZXRoLWxpYi9saWIvYXJyYXkuanM/MTEzMCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZ2VuZXJhdGUgPSBmdW5jdGlvbiBnZW5lcmF0ZShudW0sIGZuKSB7XG4gIHZhciBhID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtOyArK2kpIHtcbiAgICBhLnB1c2goZm4oaSkpO1xuICB9cmV0dXJuIGE7XG59O1xuXG52YXIgcmVwbGljYXRlID0gZnVuY3Rpb24gcmVwbGljYXRlKG51bSwgdmFsKSB7XG4gIHJldHVybiBnZW5lcmF0ZShudW0sIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdmFsO1xuICB9KTtcbn07XG5cbnZhciBjb25jYXQgPSBmdW5jdGlvbiBjb25jYXQoYSwgYikge1xuICByZXR1cm4gYS5jb25jYXQoYik7XG59O1xuXG52YXIgZmxhdHRlbiA9IGZ1bmN0aW9uIGZsYXR0ZW4oYSkge1xuICB2YXIgciA9IFtdO1xuICBmb3IgKHZhciBqID0gMCwgSiA9IGEubGVuZ3RoOyBqIDwgSjsgKytqKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIEkgPSBhW2pdLmxlbmd0aDsgaSA8IEk7ICsraSkge1xuICAgICAgci5wdXNoKGFbal1baV0pO1xuICAgIH1cbiAgfXJldHVybiByO1xufTtcblxudmFyIGNodW5rc09mID0gZnVuY3Rpb24gY2h1bmtzT2YobiwgYSkge1xuICB2YXIgYiA9IFtdO1xuICBmb3IgKHZhciBpID0gMCwgbCA9IGEubGVuZ3RoOyBpIDwgbDsgaSArPSBuKSB7XG4gICAgYi5wdXNoKGEuc2xpY2UoaSwgaSArIG4pKTtcbiAgfXJldHVybiBiO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGdlbmVyYXRlOiBnZW5lcmF0ZSxcbiAgcmVwbGljYXRlOiByZXBsaWNhdGUsXG4gIGNvbmNhdDogY29uY2F0LFxuICBmbGF0dGVuOiBmbGF0dGVuLFxuICBjaHVua3NPZjogY2h1bmtzT2Zcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/eth-lib/lib/array.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/eth-lib/lib/bytes.js":
/*!*****************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/eth-lib/lib/bytes.js ***!
  \*****************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var A = __webpack_require__(/*! ./array.js */ \"(ssr)/./node_modules/swarm-js/node_modules/eth-lib/lib/array.js\");\n\nvar at = function at(bytes, index) {\n  return parseInt(bytes.slice(index * 2 + 2, index * 2 + 4), 16);\n};\n\nvar random = function random(bytes) {\n  var rnd = void 0;\n  if (typeof window !== \"undefined\" && window.crypto && window.crypto.getRandomValues) rnd = window.crypto.getRandomValues(new Uint8Array(bytes));else if (true) rnd = (__webpack_require__(/*! crypto */ \"crypto\").randomBytes)(bytes);else {}\n  var hex = \"0x\";\n  for (var i = 0; i < bytes; ++i) {\n    hex += (\"00\" + rnd[i].toString(16)).slice(-2);\n  }return hex;\n};\n\nvar length = function length(a) {\n  return (a.length - 2) / 2;\n};\n\nvar flatten = function flatten(a) {\n  return \"0x\" + a.reduce(function (r, s) {\n    return r + s.slice(2);\n  }, \"\");\n};\n\nvar slice = function slice(i, j, bs) {\n  return \"0x\" + bs.slice(i * 2 + 2, j * 2 + 2);\n};\n\nvar reverse = function reverse(hex) {\n  var rev = \"0x\";\n  for (var i = 0, l = length(hex); i < l; ++i) {\n    rev += hex.slice((l - i) * 2, (l - i + 1) * 2);\n  }\n  return rev;\n};\n\nvar pad = function pad(l, hex) {\n  return hex.length === l * 2 + 2 ? hex : pad(l, \"0x\" + \"0\" + hex.slice(2));\n};\n\nvar padRight = function padRight(l, hex) {\n  return hex.length === l * 2 + 2 ? hex : padRight(l, hex + \"0\");\n};\n\nvar toArray = function toArray(hex) {\n  var arr = [];\n  for (var i = 2, l = hex.length; i < l; i += 2) {\n    arr.push(parseInt(hex.slice(i, i + 2), 16));\n  }return arr;\n};\n\nvar fromArray = function fromArray(arr) {\n  var hex = \"0x\";\n  for (var i = 0, l = arr.length; i < l; ++i) {\n    var b = arr[i];\n    hex += (b < 16 ? \"0\" : \"\") + b.toString(16);\n  }\n  return hex;\n};\n\nvar toUint8Array = function toUint8Array(hex) {\n  return new Uint8Array(toArray(hex));\n};\n\nvar fromUint8Array = function fromUint8Array(arr) {\n  return fromArray([].slice.call(arr, 0));\n};\n\nvar fromNumber = function fromNumber(num) {\n  var hex = num.toString(16);\n  return hex.length % 2 === 0 ? \"0x\" + hex : \"0x0\" + hex;\n};\n\nvar toNumber = function toNumber(hex) {\n  return parseInt(hex.slice(2), 16);\n};\n\nvar concat = function concat(a, b) {\n  return a.concat(b.slice(2));\n};\n\nvar fromNat = function fromNat(bn) {\n  return bn === \"0x0\" ? \"0x\" : bn.length % 2 === 0 ? bn : \"0x0\" + bn.slice(2);\n};\n\nvar toNat = function toNat(bn) {\n  return bn[2] === \"0\" ? \"0x\" + bn.slice(3) : bn;\n};\n\nvar fromAscii = function fromAscii(ascii) {\n  var hex = \"0x\";\n  for (var i = 0; i < ascii.length; ++i) {\n    hex += (\"00\" + ascii.charCodeAt(i).toString(16)).slice(-2);\n  }return hex;\n};\n\nvar toAscii = function toAscii(hex) {\n  var ascii = \"\";\n  for (var i = 2; i < hex.length; i += 2) {\n    ascii += String.fromCharCode(parseInt(hex.slice(i, i + 2), 16));\n  }return ascii;\n};\n\n// From https://gist.github.com/pascaldekloe/62546103a1576803dade9269ccf76330\nvar fromString = function fromString(s) {\n  var makeByte = function makeByte(uint8) {\n    var b = uint8.toString(16);\n    return b.length < 2 ? \"0\" + b : b;\n  };\n  var bytes = \"0x\";\n  for (var ci = 0; ci != s.length; ci++) {\n    var c = s.charCodeAt(ci);\n    if (c < 128) {\n      bytes += makeByte(c);\n      continue;\n    }\n    if (c < 2048) {\n      bytes += makeByte(c >> 6 | 192);\n    } else {\n      if (c > 0xd7ff && c < 0xdc00) {\n        if (++ci == s.length) return null;\n        var c2 = s.charCodeAt(ci);\n        if (c2 < 0xdc00 || c2 > 0xdfff) return null;\n        c = 0x10000 + ((c & 0x03ff) << 10) + (c2 & 0x03ff);\n        bytes += makeByte(c >> 18 | 240);\n        bytes += makeByte(c >> 12 & 63 | 128);\n      } else {\n        // c <= 0xffff\n        bytes += makeByte(c >> 12 | 224);\n      }\n      bytes += makeByte(c >> 6 & 63 | 128);\n    }\n    bytes += makeByte(c & 63 | 128);\n  }\n  return bytes;\n};\n\nvar toString = function toString(bytes) {\n  var s = '';\n  var i = 0;\n  var l = length(bytes);\n  while (i < l) {\n    var c = at(bytes, i++);\n    if (c > 127) {\n      if (c > 191 && c < 224) {\n        if (i >= l) return null;\n        c = (c & 31) << 6 | at(bytes, i) & 63;\n      } else if (c > 223 && c < 240) {\n        if (i + 1 >= l) return null;\n        c = (c & 15) << 12 | (at(bytes, i) & 63) << 6 | at(bytes, ++i) & 63;\n      } else if (c > 239 && c < 248) {\n        if (i + 2 >= l) return null;\n        c = (c & 7) << 18 | (at(bytes, i) & 63) << 12 | (at(bytes, ++i) & 63) << 6 | at(bytes, ++i) & 63;\n      } else return null;\n      ++i;\n    }\n    if (c <= 0xffff) s += String.fromCharCode(c);else if (c <= 0x10ffff) {\n      c -= 0x10000;\n      s += String.fromCharCode(c >> 10 | 0xd800);\n      s += String.fromCharCode(c & 0x3FF | 0xdc00);\n    } else return null;\n  }\n  return s;\n};\n\nmodule.exports = {\n  random: random,\n  length: length,\n  concat: concat,\n  flatten: flatten,\n  slice: slice,\n  reverse: reverse,\n  pad: pad,\n  padRight: padRight,\n  fromAscii: fromAscii,\n  toAscii: toAscii,\n  fromString: fromString,\n  toString: toString,\n  fromNumber: fromNumber,\n  toNumber: toNumber,\n  fromNat: fromNat,\n  toNat: toNat,\n  fromArray: fromArray,\n  toArray: toArray,\n  fromUint8Array: fromUint8Array,\n  toUint8Array: toUint8Array\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2V0aC1saWIvbGliL2J5dGVzLmpzIiwibWFwcGluZ3MiOiJBQUFBLFFBQVEsbUJBQU8sQ0FBQyxtRkFBWTs7QUFFNUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrSkFBa0osU0FBUyxJQUE4QixRQUFRLHlEQUFrQyxRQUFRLEtBQUssRUFBMkM7QUFDM1I7QUFDQSxrQkFBa0IsV0FBVztBQUM3QjtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsbUNBQW1DLE9BQU87QUFDMUM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0NBQWtDLE9BQU87QUFDekM7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBLGtDQUFrQyxPQUFPO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQixrQkFBa0I7QUFDcEM7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQixnQkFBZ0I7QUFDbEM7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsZ0JBQWdCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBvcnRrZXkvbmV4dC1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL3N3YXJtLWpzL25vZGVfbW9kdWxlcy9ldGgtbGliL2xpYi9ieXRlcy5qcz9jZTNlIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBBID0gcmVxdWlyZShcIi4vYXJyYXkuanNcIik7XG5cbnZhciBhdCA9IGZ1bmN0aW9uIGF0KGJ5dGVzLCBpbmRleCkge1xuICByZXR1cm4gcGFyc2VJbnQoYnl0ZXMuc2xpY2UoaW5kZXggKiAyICsgMiwgaW5kZXggKiAyICsgNCksIDE2KTtcbn07XG5cbnZhciByYW5kb20gPSBmdW5jdGlvbiByYW5kb20oYnl0ZXMpIHtcbiAgdmFyIHJuZCA9IHZvaWQgMDtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmNyeXB0byAmJiB3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcykgcm5kID0gd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoYnl0ZXMpKTtlbHNlIGlmICh0eXBlb2YgcmVxdWlyZSAhPT0gXCJ1bmRlZmluZWRcIikgcm5kID0gcmVxdWlyZShcImNcIiArIFwicnlwdG9cIikucmFuZG9tQnl0ZXMoYnl0ZXMpO2Vsc2UgdGhyb3cgXCJTYWZlIHJhbmRvbSBudW1iZXJzIG5vdCBhdmFpbGFibGUuXCI7XG4gIHZhciBoZXggPSBcIjB4XCI7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYnl0ZXM7ICsraSkge1xuICAgIGhleCArPSAoXCIwMFwiICsgcm5kW2ldLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpO1xuICB9cmV0dXJuIGhleDtcbn07XG5cbnZhciBsZW5ndGggPSBmdW5jdGlvbiBsZW5ndGgoYSkge1xuICByZXR1cm4gKGEubGVuZ3RoIC0gMikgLyAyO1xufTtcblxudmFyIGZsYXR0ZW4gPSBmdW5jdGlvbiBmbGF0dGVuKGEpIHtcbiAgcmV0dXJuIFwiMHhcIiArIGEucmVkdWNlKGZ1bmN0aW9uIChyLCBzKSB7XG4gICAgcmV0dXJuIHIgKyBzLnNsaWNlKDIpO1xuICB9LCBcIlwiKTtcbn07XG5cbnZhciBzbGljZSA9IGZ1bmN0aW9uIHNsaWNlKGksIGosIGJzKSB7XG4gIHJldHVybiBcIjB4XCIgKyBicy5zbGljZShpICogMiArIDIsIGogKiAyICsgMik7XG59O1xuXG52YXIgcmV2ZXJzZSA9IGZ1bmN0aW9uIHJldmVyc2UoaGV4KSB7XG4gIHZhciByZXYgPSBcIjB4XCI7XG4gIGZvciAodmFyIGkgPSAwLCBsID0gbGVuZ3RoKGhleCk7IGkgPCBsOyArK2kpIHtcbiAgICByZXYgKz0gaGV4LnNsaWNlKChsIC0gaSkgKiAyLCAobCAtIGkgKyAxKSAqIDIpO1xuICB9XG4gIHJldHVybiByZXY7XG59O1xuXG52YXIgcGFkID0gZnVuY3Rpb24gcGFkKGwsIGhleCkge1xuICByZXR1cm4gaGV4Lmxlbmd0aCA9PT0gbCAqIDIgKyAyID8gaGV4IDogcGFkKGwsIFwiMHhcIiArIFwiMFwiICsgaGV4LnNsaWNlKDIpKTtcbn07XG5cbnZhciBwYWRSaWdodCA9IGZ1bmN0aW9uIHBhZFJpZ2h0KGwsIGhleCkge1xuICByZXR1cm4gaGV4Lmxlbmd0aCA9PT0gbCAqIDIgKyAyID8gaGV4IDogcGFkUmlnaHQobCwgaGV4ICsgXCIwXCIpO1xufTtcblxudmFyIHRvQXJyYXkgPSBmdW5jdGlvbiB0b0FycmF5KGhleCkge1xuICB2YXIgYXJyID0gW107XG4gIGZvciAodmFyIGkgPSAyLCBsID0gaGV4Lmxlbmd0aDsgaSA8IGw7IGkgKz0gMikge1xuICAgIGFyci5wdXNoKHBhcnNlSW50KGhleC5zbGljZShpLCBpICsgMiksIDE2KSk7XG4gIH1yZXR1cm4gYXJyO1xufTtcblxudmFyIGZyb21BcnJheSA9IGZ1bmN0aW9uIGZyb21BcnJheShhcnIpIHtcbiAgdmFyIGhleCA9IFwiMHhcIjtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBhcnIubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgdmFyIGIgPSBhcnJbaV07XG4gICAgaGV4ICs9IChiIDwgMTYgPyBcIjBcIiA6IFwiXCIpICsgYi50b1N0cmluZygxNik7XG4gIH1cbiAgcmV0dXJuIGhleDtcbn07XG5cbnZhciB0b1VpbnQ4QXJyYXkgPSBmdW5jdGlvbiB0b1VpbnQ4QXJyYXkoaGV4KSB7XG4gIHJldHVybiBuZXcgVWludDhBcnJheSh0b0FycmF5KGhleCkpO1xufTtcblxudmFyIGZyb21VaW50OEFycmF5ID0gZnVuY3Rpb24gZnJvbVVpbnQ4QXJyYXkoYXJyKSB7XG4gIHJldHVybiBmcm9tQXJyYXkoW10uc2xpY2UuY2FsbChhcnIsIDApKTtcbn07XG5cbnZhciBmcm9tTnVtYmVyID0gZnVuY3Rpb24gZnJvbU51bWJlcihudW0pIHtcbiAgdmFyIGhleCA9IG51bS50b1N0cmluZygxNik7XG4gIHJldHVybiBoZXgubGVuZ3RoICUgMiA9PT0gMCA/IFwiMHhcIiArIGhleCA6IFwiMHgwXCIgKyBoZXg7XG59O1xuXG52YXIgdG9OdW1iZXIgPSBmdW5jdGlvbiB0b051bWJlcihoZXgpIHtcbiAgcmV0dXJuIHBhcnNlSW50KGhleC5zbGljZSgyKSwgMTYpO1xufTtcblxudmFyIGNvbmNhdCA9IGZ1bmN0aW9uIGNvbmNhdChhLCBiKSB7XG4gIHJldHVybiBhLmNvbmNhdChiLnNsaWNlKDIpKTtcbn07XG5cbnZhciBmcm9tTmF0ID0gZnVuY3Rpb24gZnJvbU5hdChibikge1xuICByZXR1cm4gYm4gPT09IFwiMHgwXCIgPyBcIjB4XCIgOiBibi5sZW5ndGggJSAyID09PSAwID8gYm4gOiBcIjB4MFwiICsgYm4uc2xpY2UoMik7XG59O1xuXG52YXIgdG9OYXQgPSBmdW5jdGlvbiB0b05hdChibikge1xuICByZXR1cm4gYm5bMl0gPT09IFwiMFwiID8gXCIweFwiICsgYm4uc2xpY2UoMykgOiBibjtcbn07XG5cbnZhciBmcm9tQXNjaWkgPSBmdW5jdGlvbiBmcm9tQXNjaWkoYXNjaWkpIHtcbiAgdmFyIGhleCA9IFwiMHhcIjtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhc2NpaS5sZW5ndGg7ICsraSkge1xuICAgIGhleCArPSAoXCIwMFwiICsgYXNjaWkuY2hhckNvZGVBdChpKS50b1N0cmluZygxNikpLnNsaWNlKC0yKTtcbiAgfXJldHVybiBoZXg7XG59O1xuXG52YXIgdG9Bc2NpaSA9IGZ1bmN0aW9uIHRvQXNjaWkoaGV4KSB7XG4gIHZhciBhc2NpaSA9IFwiXCI7XG4gIGZvciAodmFyIGkgPSAyOyBpIDwgaGV4Lmxlbmd0aDsgaSArPSAyKSB7XG4gICAgYXNjaWkgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChoZXguc2xpY2UoaSwgaSArIDIpLCAxNikpO1xuICB9cmV0dXJuIGFzY2lpO1xufTtcblxuLy8gRnJvbSBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9wYXNjYWxkZWtsb2UvNjI1NDYxMDNhMTU3NjgwM2RhZGU5MjY5Y2NmNzYzMzBcbnZhciBmcm9tU3RyaW5nID0gZnVuY3Rpb24gZnJvbVN0cmluZyhzKSB7XG4gIHZhciBtYWtlQnl0ZSA9IGZ1bmN0aW9uIG1ha2VCeXRlKHVpbnQ4KSB7XG4gICAgdmFyIGIgPSB1aW50OC50b1N0cmluZygxNik7XG4gICAgcmV0dXJuIGIubGVuZ3RoIDwgMiA/IFwiMFwiICsgYiA6IGI7XG4gIH07XG4gIHZhciBieXRlcyA9IFwiMHhcIjtcbiAgZm9yICh2YXIgY2kgPSAwOyBjaSAhPSBzLmxlbmd0aDsgY2krKykge1xuICAgIHZhciBjID0gcy5jaGFyQ29kZUF0KGNpKTtcbiAgICBpZiAoYyA8IDEyOCkge1xuICAgICAgYnl0ZXMgKz0gbWFrZUJ5dGUoYyk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKGMgPCAyMDQ4KSB7XG4gICAgICBieXRlcyArPSBtYWtlQnl0ZShjID4+IDYgfCAxOTIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoYyA+IDB4ZDdmZiAmJiBjIDwgMHhkYzAwKSB7XG4gICAgICAgIGlmICgrK2NpID09IHMubGVuZ3RoKSByZXR1cm4gbnVsbDtcbiAgICAgICAgdmFyIGMyID0gcy5jaGFyQ29kZUF0KGNpKTtcbiAgICAgICAgaWYgKGMyIDwgMHhkYzAwIHx8IGMyID4gMHhkZmZmKSByZXR1cm4gbnVsbDtcbiAgICAgICAgYyA9IDB4MTAwMDAgKyAoKGMgJiAweDAzZmYpIDw8IDEwKSArIChjMiAmIDB4MDNmZik7XG4gICAgICAgIGJ5dGVzICs9IG1ha2VCeXRlKGMgPj4gMTggfCAyNDApO1xuICAgICAgICBieXRlcyArPSBtYWtlQnl0ZShjID4+IDEyICYgNjMgfCAxMjgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gYyA8PSAweGZmZmZcbiAgICAgICAgYnl0ZXMgKz0gbWFrZUJ5dGUoYyA+PiAxMiB8IDIyNCk7XG4gICAgICB9XG4gICAgICBieXRlcyArPSBtYWtlQnl0ZShjID4+IDYgJiA2MyB8IDEyOCk7XG4gICAgfVxuICAgIGJ5dGVzICs9IG1ha2VCeXRlKGMgJiA2MyB8IDEyOCk7XG4gIH1cbiAgcmV0dXJuIGJ5dGVzO1xufTtcblxudmFyIHRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoYnl0ZXMpIHtcbiAgdmFyIHMgPSAnJztcbiAgdmFyIGkgPSAwO1xuICB2YXIgbCA9IGxlbmd0aChieXRlcyk7XG4gIHdoaWxlIChpIDwgbCkge1xuICAgIHZhciBjID0gYXQoYnl0ZXMsIGkrKyk7XG4gICAgaWYgKGMgPiAxMjcpIHtcbiAgICAgIGlmIChjID4gMTkxICYmIGMgPCAyMjQpIHtcbiAgICAgICAgaWYgKGkgPj0gbCkgcmV0dXJuIG51bGw7XG4gICAgICAgIGMgPSAoYyAmIDMxKSA8PCA2IHwgYXQoYnl0ZXMsIGkpICYgNjM7XG4gICAgICB9IGVsc2UgaWYgKGMgPiAyMjMgJiYgYyA8IDI0MCkge1xuICAgICAgICBpZiAoaSArIDEgPj0gbCkgcmV0dXJuIG51bGw7XG4gICAgICAgIGMgPSAoYyAmIDE1KSA8PCAxMiB8IChhdChieXRlcywgaSkgJiA2MykgPDwgNiB8IGF0KGJ5dGVzLCArK2kpICYgNjM7XG4gICAgICB9IGVsc2UgaWYgKGMgPiAyMzkgJiYgYyA8IDI0OCkge1xuICAgICAgICBpZiAoaSArIDIgPj0gbCkgcmV0dXJuIG51bGw7XG4gICAgICAgIGMgPSAoYyAmIDcpIDw8IDE4IHwgKGF0KGJ5dGVzLCBpKSAmIDYzKSA8PCAxMiB8IChhdChieXRlcywgKytpKSAmIDYzKSA8PCA2IHwgYXQoYnl0ZXMsICsraSkgJiA2MztcbiAgICAgIH0gZWxzZSByZXR1cm4gbnVsbDtcbiAgICAgICsraTtcbiAgICB9XG4gICAgaWYgKGMgPD0gMHhmZmZmKSBzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYyk7ZWxzZSBpZiAoYyA8PSAweDEwZmZmZikge1xuICAgICAgYyAtPSAweDEwMDAwO1xuICAgICAgcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGMgPj4gMTAgfCAweGQ4MDApO1xuICAgICAgcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGMgJiAweDNGRiB8IDB4ZGMwMCk7XG4gICAgfSBlbHNlIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBzO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHJhbmRvbTogcmFuZG9tLFxuICBsZW5ndGg6IGxlbmd0aCxcbiAgY29uY2F0OiBjb25jYXQsXG4gIGZsYXR0ZW46IGZsYXR0ZW4sXG4gIHNsaWNlOiBzbGljZSxcbiAgcmV2ZXJzZTogcmV2ZXJzZSxcbiAgcGFkOiBwYWQsXG4gIHBhZFJpZ2h0OiBwYWRSaWdodCxcbiAgZnJvbUFzY2lpOiBmcm9tQXNjaWksXG4gIHRvQXNjaWk6IHRvQXNjaWksXG4gIGZyb21TdHJpbmc6IGZyb21TdHJpbmcsXG4gIHRvU3RyaW5nOiB0b1N0cmluZyxcbiAgZnJvbU51bWJlcjogZnJvbU51bWJlcixcbiAgdG9OdW1iZXI6IHRvTnVtYmVyLFxuICBmcm9tTmF0OiBmcm9tTmF0LFxuICB0b05hdDogdG9OYXQsXG4gIGZyb21BcnJheTogZnJvbUFycmF5LFxuICB0b0FycmF5OiB0b0FycmF5LFxuICBmcm9tVWludDhBcnJheTogZnJvbVVpbnQ4QXJyYXksXG4gIHRvVWludDhBcnJheTogdG9VaW50OEFycmF5XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/eth-lib/lib/bytes.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/eth-lib/lib/hash.js":
/*!****************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/eth-lib/lib/hash.js ***!
  \****************************************************************/
/***/ ((module) => {

eval("// This was ported from https://github.com/emn178/js-sha3, with some minor\n// modifications and pruning. It is licensed under MIT:\n//\n// Copyright 2015-2016 Chen, Yi-Cyuan\n//  \n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n// \n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n// \n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar HEX_CHARS = '0123456789abcdef'.split('');\nvar KECCAK_PADDING = [1, 256, 65536, 16777216];\nvar SHIFT = [0, 8, 16, 24];\nvar RC = [1, 0, 32898, 0, 32906, 2147483648, 2147516416, 2147483648, 32907, 0, 2147483649, 0, 2147516545, 2147483648, 32777, 2147483648, 138, 0, 136, 0, 2147516425, 0, 2147483658, 0, 2147516555, 0, 139, 2147483648, 32905, 2147483648, 32771, 2147483648, 32770, 2147483648, 128, 2147483648, 32778, 0, 2147483658, 2147483648, 2147516545, 2147483648, 32896, 2147483648, 2147483649, 0, 2147516424, 2147483648];\n\nvar Keccak = function Keccak(bits) {\n  return {\n    blocks: [],\n    reset: true,\n    block: 0,\n    start: 0,\n    blockCount: 1600 - (bits << 1) >> 5,\n    outputBlocks: bits >> 5,\n    s: function (s) {\n      return [].concat(s, s, s, s, s);\n    }([0, 0, 0, 0, 0, 0, 0, 0, 0, 0])\n  };\n};\n\nvar update = function update(state, message) {\n  var length = message.length,\n      blocks = state.blocks,\n      byteCount = state.blockCount << 2,\n      blockCount = state.blockCount,\n      outputBlocks = state.outputBlocks,\n      s = state.s,\n      index = 0,\n      i,\n      code;\n\n  // update\n  while (index < length) {\n    if (state.reset) {\n      state.reset = false;\n      blocks[0] = state.block;\n      for (i = 1; i < blockCount + 1; ++i) {\n        blocks[i] = 0;\n      }\n    }\n    if (typeof message !== \"string\") {\n      for (i = state.start; index < length && i < byteCount; ++index) {\n        blocks[i >> 2] |= message[index] << SHIFT[i++ & 3];\n      }\n    } else {\n      for (i = state.start; index < length && i < byteCount; ++index) {\n        code = message.charCodeAt(index);\n        if (code < 0x80) {\n          blocks[i >> 2] |= code << SHIFT[i++ & 3];\n        } else if (code < 0x800) {\n          blocks[i >> 2] |= (0xc0 | code >> 6) << SHIFT[i++ & 3];\n          blocks[i >> 2] |= (0x80 | code & 0x3f) << SHIFT[i++ & 3];\n        } else if (code < 0xd800 || code >= 0xe000) {\n          blocks[i >> 2] |= (0xe0 | code >> 12) << SHIFT[i++ & 3];\n          blocks[i >> 2] |= (0x80 | code >> 6 & 0x3f) << SHIFT[i++ & 3];\n          blocks[i >> 2] |= (0x80 | code & 0x3f) << SHIFT[i++ & 3];\n        } else {\n          code = 0x10000 + ((code & 0x3ff) << 10 | message.charCodeAt(++index) & 0x3ff);\n          blocks[i >> 2] |= (0xf0 | code >> 18) << SHIFT[i++ & 3];\n          blocks[i >> 2] |= (0x80 | code >> 12 & 0x3f) << SHIFT[i++ & 3];\n          blocks[i >> 2] |= (0x80 | code >> 6 & 0x3f) << SHIFT[i++ & 3];\n          blocks[i >> 2] |= (0x80 | code & 0x3f) << SHIFT[i++ & 3];\n        }\n      }\n    }\n    state.lastByteIndex = i;\n    if (i >= byteCount) {\n      state.start = i - byteCount;\n      state.block = blocks[blockCount];\n      for (i = 0; i < blockCount; ++i) {\n        s[i] ^= blocks[i];\n      }\n      f(s);\n      state.reset = true;\n    } else {\n      state.start = i;\n    }\n  }\n\n  // finalize\n  i = state.lastByteIndex;\n  blocks[i >> 2] |= KECCAK_PADDING[i & 3];\n  if (state.lastByteIndex === byteCount) {\n    blocks[0] = blocks[blockCount];\n    for (i = 1; i < blockCount + 1; ++i) {\n      blocks[i] = 0;\n    }\n  }\n  blocks[blockCount - 1] |= 0x80000000;\n  for (i = 0; i < blockCount; ++i) {\n    s[i] ^= blocks[i];\n  }\n  f(s);\n\n  // toString\n  var hex = '',\n      i = 0,\n      j = 0,\n      block;\n  while (j < outputBlocks) {\n    for (i = 0; i < blockCount && j < outputBlocks; ++i, ++j) {\n      block = s[i];\n      hex += HEX_CHARS[block >> 4 & 0x0F] + HEX_CHARS[block & 0x0F] + HEX_CHARS[block >> 12 & 0x0F] + HEX_CHARS[block >> 8 & 0x0F] + HEX_CHARS[block >> 20 & 0x0F] + HEX_CHARS[block >> 16 & 0x0F] + HEX_CHARS[block >> 28 & 0x0F] + HEX_CHARS[block >> 24 & 0x0F];\n    }\n    if (j % blockCount === 0) {\n      f(s);\n      i = 0;\n    }\n  }\n  return \"0x\" + hex;\n};\n\nvar f = function f(s) {\n  var h, l, n, c0, c1, c2, c3, c4, c5, c6, c7, c8, c9, b0, b1, b2, b3, b4, b5, b6, b7, b8, b9, b10, b11, b12, b13, b14, b15, b16, b17, b18, b19, b20, b21, b22, b23, b24, b25, b26, b27, b28, b29, b30, b31, b32, b33, b34, b35, b36, b37, b38, b39, b40, b41, b42, b43, b44, b45, b46, b47, b48, b49;\n\n  for (n = 0; n < 48; n += 2) {\n    c0 = s[0] ^ s[10] ^ s[20] ^ s[30] ^ s[40];\n    c1 = s[1] ^ s[11] ^ s[21] ^ s[31] ^ s[41];\n    c2 = s[2] ^ s[12] ^ s[22] ^ s[32] ^ s[42];\n    c3 = s[3] ^ s[13] ^ s[23] ^ s[33] ^ s[43];\n    c4 = s[4] ^ s[14] ^ s[24] ^ s[34] ^ s[44];\n    c5 = s[5] ^ s[15] ^ s[25] ^ s[35] ^ s[45];\n    c6 = s[6] ^ s[16] ^ s[26] ^ s[36] ^ s[46];\n    c7 = s[7] ^ s[17] ^ s[27] ^ s[37] ^ s[47];\n    c8 = s[8] ^ s[18] ^ s[28] ^ s[38] ^ s[48];\n    c9 = s[9] ^ s[19] ^ s[29] ^ s[39] ^ s[49];\n\n    h = c8 ^ (c2 << 1 | c3 >>> 31);\n    l = c9 ^ (c3 << 1 | c2 >>> 31);\n    s[0] ^= h;\n    s[1] ^= l;\n    s[10] ^= h;\n    s[11] ^= l;\n    s[20] ^= h;\n    s[21] ^= l;\n    s[30] ^= h;\n    s[31] ^= l;\n    s[40] ^= h;\n    s[41] ^= l;\n    h = c0 ^ (c4 << 1 | c5 >>> 31);\n    l = c1 ^ (c5 << 1 | c4 >>> 31);\n    s[2] ^= h;\n    s[3] ^= l;\n    s[12] ^= h;\n    s[13] ^= l;\n    s[22] ^= h;\n    s[23] ^= l;\n    s[32] ^= h;\n    s[33] ^= l;\n    s[42] ^= h;\n    s[43] ^= l;\n    h = c2 ^ (c6 << 1 | c7 >>> 31);\n    l = c3 ^ (c7 << 1 | c6 >>> 31);\n    s[4] ^= h;\n    s[5] ^= l;\n    s[14] ^= h;\n    s[15] ^= l;\n    s[24] ^= h;\n    s[25] ^= l;\n    s[34] ^= h;\n    s[35] ^= l;\n    s[44] ^= h;\n    s[45] ^= l;\n    h = c4 ^ (c8 << 1 | c9 >>> 31);\n    l = c5 ^ (c9 << 1 | c8 >>> 31);\n    s[6] ^= h;\n    s[7] ^= l;\n    s[16] ^= h;\n    s[17] ^= l;\n    s[26] ^= h;\n    s[27] ^= l;\n    s[36] ^= h;\n    s[37] ^= l;\n    s[46] ^= h;\n    s[47] ^= l;\n    h = c6 ^ (c0 << 1 | c1 >>> 31);\n    l = c7 ^ (c1 << 1 | c0 >>> 31);\n    s[8] ^= h;\n    s[9] ^= l;\n    s[18] ^= h;\n    s[19] ^= l;\n    s[28] ^= h;\n    s[29] ^= l;\n    s[38] ^= h;\n    s[39] ^= l;\n    s[48] ^= h;\n    s[49] ^= l;\n\n    b0 = s[0];\n    b1 = s[1];\n    b32 = s[11] << 4 | s[10] >>> 28;\n    b33 = s[10] << 4 | s[11] >>> 28;\n    b14 = s[20] << 3 | s[21] >>> 29;\n    b15 = s[21] << 3 | s[20] >>> 29;\n    b46 = s[31] << 9 | s[30] >>> 23;\n    b47 = s[30] << 9 | s[31] >>> 23;\n    b28 = s[40] << 18 | s[41] >>> 14;\n    b29 = s[41] << 18 | s[40] >>> 14;\n    b20 = s[2] << 1 | s[3] >>> 31;\n    b21 = s[3] << 1 | s[2] >>> 31;\n    b2 = s[13] << 12 | s[12] >>> 20;\n    b3 = s[12] << 12 | s[13] >>> 20;\n    b34 = s[22] << 10 | s[23] >>> 22;\n    b35 = s[23] << 10 | s[22] >>> 22;\n    b16 = s[33] << 13 | s[32] >>> 19;\n    b17 = s[32] << 13 | s[33] >>> 19;\n    b48 = s[42] << 2 | s[43] >>> 30;\n    b49 = s[43] << 2 | s[42] >>> 30;\n    b40 = s[5] << 30 | s[4] >>> 2;\n    b41 = s[4] << 30 | s[5] >>> 2;\n    b22 = s[14] << 6 | s[15] >>> 26;\n    b23 = s[15] << 6 | s[14] >>> 26;\n    b4 = s[25] << 11 | s[24] >>> 21;\n    b5 = s[24] << 11 | s[25] >>> 21;\n    b36 = s[34] << 15 | s[35] >>> 17;\n    b37 = s[35] << 15 | s[34] >>> 17;\n    b18 = s[45] << 29 | s[44] >>> 3;\n    b19 = s[44] << 29 | s[45] >>> 3;\n    b10 = s[6] << 28 | s[7] >>> 4;\n    b11 = s[7] << 28 | s[6] >>> 4;\n    b42 = s[17] << 23 | s[16] >>> 9;\n    b43 = s[16] << 23 | s[17] >>> 9;\n    b24 = s[26] << 25 | s[27] >>> 7;\n    b25 = s[27] << 25 | s[26] >>> 7;\n    b6 = s[36] << 21 | s[37] >>> 11;\n    b7 = s[37] << 21 | s[36] >>> 11;\n    b38 = s[47] << 24 | s[46] >>> 8;\n    b39 = s[46] << 24 | s[47] >>> 8;\n    b30 = s[8] << 27 | s[9] >>> 5;\n    b31 = s[9] << 27 | s[8] >>> 5;\n    b12 = s[18] << 20 | s[19] >>> 12;\n    b13 = s[19] << 20 | s[18] >>> 12;\n    b44 = s[29] << 7 | s[28] >>> 25;\n    b45 = s[28] << 7 | s[29] >>> 25;\n    b26 = s[38] << 8 | s[39] >>> 24;\n    b27 = s[39] << 8 | s[38] >>> 24;\n    b8 = s[48] << 14 | s[49] >>> 18;\n    b9 = s[49] << 14 | s[48] >>> 18;\n\n    s[0] = b0 ^ ~b2 & b4;\n    s[1] = b1 ^ ~b3 & b5;\n    s[10] = b10 ^ ~b12 & b14;\n    s[11] = b11 ^ ~b13 & b15;\n    s[20] = b20 ^ ~b22 & b24;\n    s[21] = b21 ^ ~b23 & b25;\n    s[30] = b30 ^ ~b32 & b34;\n    s[31] = b31 ^ ~b33 & b35;\n    s[40] = b40 ^ ~b42 & b44;\n    s[41] = b41 ^ ~b43 & b45;\n    s[2] = b2 ^ ~b4 & b6;\n    s[3] = b3 ^ ~b5 & b7;\n    s[12] = b12 ^ ~b14 & b16;\n    s[13] = b13 ^ ~b15 & b17;\n    s[22] = b22 ^ ~b24 & b26;\n    s[23] = b23 ^ ~b25 & b27;\n    s[32] = b32 ^ ~b34 & b36;\n    s[33] = b33 ^ ~b35 & b37;\n    s[42] = b42 ^ ~b44 & b46;\n    s[43] = b43 ^ ~b45 & b47;\n    s[4] = b4 ^ ~b6 & b8;\n    s[5] = b5 ^ ~b7 & b9;\n    s[14] = b14 ^ ~b16 & b18;\n    s[15] = b15 ^ ~b17 & b19;\n    s[24] = b24 ^ ~b26 & b28;\n    s[25] = b25 ^ ~b27 & b29;\n    s[34] = b34 ^ ~b36 & b38;\n    s[35] = b35 ^ ~b37 & b39;\n    s[44] = b44 ^ ~b46 & b48;\n    s[45] = b45 ^ ~b47 & b49;\n    s[6] = b6 ^ ~b8 & b0;\n    s[7] = b7 ^ ~b9 & b1;\n    s[16] = b16 ^ ~b18 & b10;\n    s[17] = b17 ^ ~b19 & b11;\n    s[26] = b26 ^ ~b28 & b20;\n    s[27] = b27 ^ ~b29 & b21;\n    s[36] = b36 ^ ~b38 & b30;\n    s[37] = b37 ^ ~b39 & b31;\n    s[46] = b46 ^ ~b48 & b40;\n    s[47] = b47 ^ ~b49 & b41;\n    s[8] = b8 ^ ~b0 & b2;\n    s[9] = b9 ^ ~b1 & b3;\n    s[18] = b18 ^ ~b10 & b12;\n    s[19] = b19 ^ ~b11 & b13;\n    s[28] = b28 ^ ~b20 & b22;\n    s[29] = b29 ^ ~b21 & b23;\n    s[38] = b38 ^ ~b30 & b32;\n    s[39] = b39 ^ ~b31 & b33;\n    s[48] = b48 ^ ~b40 & b42;\n    s[49] = b49 ^ ~b41 & b43;\n\n    s[0] ^= RC[n];\n    s[1] ^= RC[n + 1];\n  }\n};\n\nvar keccak = function keccak(bits) {\n  return function (str) {\n    var msg;\n    if (str.slice(0, 2) === \"0x\") {\n      msg = [];\n      for (var i = 2, l = str.length; i < l; i += 2) {\n        msg.push(parseInt(str.slice(i, i + 2), 16));\n      }\n    } else {\n      msg = str;\n    }\n    return update(Keccak(bits, bits), msg);\n  };\n};\n\nmodule.exports = {\n  keccak256: keccak(256),\n  keccak512: keccak(512),\n  keccak256s: keccak(256),\n  keccak512s: keccak(512)\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2V0aC1saWIvbGliL2hhc2guanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isb0JBQW9CO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGlDQUFpQztBQUM3RDtBQUNBO0FBQ0EsTUFBTTtBQUNOLDRCQUE0QixpQ0FBaUM7QUFDN0Q7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixnQkFBZ0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isb0JBQW9CO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxnQkFBZ0I7QUFDOUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixvQ0FBb0M7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLE9BQU87QUFDN0M7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0Bwb3J0a2V5L25leHQtZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9zd2FybS1qcy9ub2RlX21vZHVsZXMvZXRoLWxpYi9saWIvaGFzaC5qcz8yZGNjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoaXMgd2FzIHBvcnRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9lbW4xNzgvanMtc2hhMywgd2l0aCBzb21lIG1pbm9yXG4vLyBtb2RpZmljYXRpb25zIGFuZCBwcnVuaW5nLiBJdCBpcyBsaWNlbnNlZCB1bmRlciBNSVQ6XG4vL1xuLy8gQ29weXJpZ2h0IDIwMTUtMjAxNiBDaGVuLCBZaS1DeXVhblxuLy8gIFxuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nXG4vLyBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvXG4vLyBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG9cbi8vIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vIFxuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmVcbi8vIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy8gXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELFxuLy8gRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORFxuLy8gTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRVxuLy8gTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTlxuLy8gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OXG4vLyBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxudmFyIEhFWF9DSEFSUyA9ICcwMTIzNDU2Nzg5YWJjZGVmJy5zcGxpdCgnJyk7XG52YXIgS0VDQ0FLX1BBRERJTkcgPSBbMSwgMjU2LCA2NTUzNiwgMTY3NzcyMTZdO1xudmFyIFNISUZUID0gWzAsIDgsIDE2LCAyNF07XG52YXIgUkMgPSBbMSwgMCwgMzI4OTgsIDAsIDMyOTA2LCAyMTQ3NDgzNjQ4LCAyMTQ3NTE2NDE2LCAyMTQ3NDgzNjQ4LCAzMjkwNywgMCwgMjE0NzQ4MzY0OSwgMCwgMjE0NzUxNjU0NSwgMjE0NzQ4MzY0OCwgMzI3NzcsIDIxNDc0ODM2NDgsIDEzOCwgMCwgMTM2LCAwLCAyMTQ3NTE2NDI1LCAwLCAyMTQ3NDgzNjU4LCAwLCAyMTQ3NTE2NTU1LCAwLCAxMzksIDIxNDc0ODM2NDgsIDMyOTA1LCAyMTQ3NDgzNjQ4LCAzMjc3MSwgMjE0NzQ4MzY0OCwgMzI3NzAsIDIxNDc0ODM2NDgsIDEyOCwgMjE0NzQ4MzY0OCwgMzI3NzgsIDAsIDIxNDc0ODM2NTgsIDIxNDc0ODM2NDgsIDIxNDc1MTY1NDUsIDIxNDc0ODM2NDgsIDMyODk2LCAyMTQ3NDgzNjQ4LCAyMTQ3NDgzNjQ5LCAwLCAyMTQ3NTE2NDI0LCAyMTQ3NDgzNjQ4XTtcblxudmFyIEtlY2NhayA9IGZ1bmN0aW9uIEtlY2NhayhiaXRzKSB7XG4gIHJldHVybiB7XG4gICAgYmxvY2tzOiBbXSxcbiAgICByZXNldDogdHJ1ZSxcbiAgICBibG9jazogMCxcbiAgICBzdGFydDogMCxcbiAgICBibG9ja0NvdW50OiAxNjAwIC0gKGJpdHMgPDwgMSkgPj4gNSxcbiAgICBvdXRwdXRCbG9ja3M6IGJpdHMgPj4gNSxcbiAgICBzOiBmdW5jdGlvbiAocykge1xuICAgICAgcmV0dXJuIFtdLmNvbmNhdChzLCBzLCBzLCBzLCBzKTtcbiAgICB9KFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSlcbiAgfTtcbn07XG5cbnZhciB1cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoc3RhdGUsIG1lc3NhZ2UpIHtcbiAgdmFyIGxlbmd0aCA9IG1lc3NhZ2UubGVuZ3RoLFxuICAgICAgYmxvY2tzID0gc3RhdGUuYmxvY2tzLFxuICAgICAgYnl0ZUNvdW50ID0gc3RhdGUuYmxvY2tDb3VudCA8PCAyLFxuICAgICAgYmxvY2tDb3VudCA9IHN0YXRlLmJsb2NrQ291bnQsXG4gICAgICBvdXRwdXRCbG9ja3MgPSBzdGF0ZS5vdXRwdXRCbG9ja3MsXG4gICAgICBzID0gc3RhdGUucyxcbiAgICAgIGluZGV4ID0gMCxcbiAgICAgIGksXG4gICAgICBjb2RlO1xuXG4gIC8vIHVwZGF0ZVxuICB3aGlsZSAoaW5kZXggPCBsZW5ndGgpIHtcbiAgICBpZiAoc3RhdGUucmVzZXQpIHtcbiAgICAgIHN0YXRlLnJlc2V0ID0gZmFsc2U7XG4gICAgICBibG9ja3NbMF0gPSBzdGF0ZS5ibG9jaztcbiAgICAgIGZvciAoaSA9IDE7IGkgPCBibG9ja0NvdW50ICsgMTsgKytpKSB7XG4gICAgICAgIGJsb2Nrc1tpXSA9IDA7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2YgbWVzc2FnZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgZm9yIChpID0gc3RhdGUuc3RhcnQ7IGluZGV4IDwgbGVuZ3RoICYmIGkgPCBieXRlQ291bnQ7ICsraW5kZXgpIHtcbiAgICAgICAgYmxvY2tzW2kgPj4gMl0gfD0gbWVzc2FnZVtpbmRleF0gPDwgU0hJRlRbaSsrICYgM107XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAoaSA9IHN0YXRlLnN0YXJ0OyBpbmRleCA8IGxlbmd0aCAmJiBpIDwgYnl0ZUNvdW50OyArK2luZGV4KSB7XG4gICAgICAgIGNvZGUgPSBtZXNzYWdlLmNoYXJDb2RlQXQoaW5kZXgpO1xuICAgICAgICBpZiAoY29kZSA8IDB4ODApIHtcbiAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSBjb2RlIDw8IFNISUZUW2krKyAmIDNdO1xuICAgICAgICB9IGVsc2UgaWYgKGNvZGUgPCAweDgwMCkge1xuICAgICAgICAgIGJsb2Nrc1tpID4+IDJdIHw9ICgweGMwIHwgY29kZSA+PiA2KSA8PCBTSElGVFtpKysgJiAzXTtcbiAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSAoMHg4MCB8IGNvZGUgJiAweDNmKSA8PCBTSElGVFtpKysgJiAzXTtcbiAgICAgICAgfSBlbHNlIGlmIChjb2RlIDwgMHhkODAwIHx8IGNvZGUgPj0gMHhlMDAwKSB7XG4gICAgICAgICAgYmxvY2tzW2kgPj4gMl0gfD0gKDB4ZTAgfCBjb2RlID4+IDEyKSA8PCBTSElGVFtpKysgJiAzXTtcbiAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSAoMHg4MCB8IGNvZGUgPj4gNiAmIDB4M2YpIDw8IFNISUZUW2krKyAmIDNdO1xuICAgICAgICAgIGJsb2Nrc1tpID4+IDJdIHw9ICgweDgwIHwgY29kZSAmIDB4M2YpIDw8IFNISUZUW2krKyAmIDNdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvZGUgPSAweDEwMDAwICsgKChjb2RlICYgMHgzZmYpIDw8IDEwIHwgbWVzc2FnZS5jaGFyQ29kZUF0KCsraW5kZXgpICYgMHgzZmYpO1xuICAgICAgICAgIGJsb2Nrc1tpID4+IDJdIHw9ICgweGYwIHwgY29kZSA+PiAxOCkgPDwgU0hJRlRbaSsrICYgM107XG4gICAgICAgICAgYmxvY2tzW2kgPj4gMl0gfD0gKDB4ODAgfCBjb2RlID4+IDEyICYgMHgzZikgPDwgU0hJRlRbaSsrICYgM107XG4gICAgICAgICAgYmxvY2tzW2kgPj4gMl0gfD0gKDB4ODAgfCBjb2RlID4+IDYgJiAweDNmKSA8PCBTSElGVFtpKysgJiAzXTtcbiAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSAoMHg4MCB8IGNvZGUgJiAweDNmKSA8PCBTSElGVFtpKysgJiAzXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBzdGF0ZS5sYXN0Qnl0ZUluZGV4ID0gaTtcbiAgICBpZiAoaSA+PSBieXRlQ291bnQpIHtcbiAgICAgIHN0YXRlLnN0YXJ0ID0gaSAtIGJ5dGVDb3VudDtcbiAgICAgIHN0YXRlLmJsb2NrID0gYmxvY2tzW2Jsb2NrQ291bnRdO1xuICAgICAgZm9yIChpID0gMDsgaSA8IGJsb2NrQ291bnQ7ICsraSkge1xuICAgICAgICBzW2ldIF49IGJsb2Nrc1tpXTtcbiAgICAgIH1cbiAgICAgIGYocyk7XG4gICAgICBzdGF0ZS5yZXNldCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlLnN0YXJ0ID0gaTtcbiAgICB9XG4gIH1cblxuICAvLyBmaW5hbGl6ZVxuICBpID0gc3RhdGUubGFzdEJ5dGVJbmRleDtcbiAgYmxvY2tzW2kgPj4gMl0gfD0gS0VDQ0FLX1BBRERJTkdbaSAmIDNdO1xuICBpZiAoc3RhdGUubGFzdEJ5dGVJbmRleCA9PT0gYnl0ZUNvdW50KSB7XG4gICAgYmxvY2tzWzBdID0gYmxvY2tzW2Jsb2NrQ291bnRdO1xuICAgIGZvciAoaSA9IDE7IGkgPCBibG9ja0NvdW50ICsgMTsgKytpKSB7XG4gICAgICBibG9ja3NbaV0gPSAwO1xuICAgIH1cbiAgfVxuICBibG9ja3NbYmxvY2tDb3VudCAtIDFdIHw9IDB4ODAwMDAwMDA7XG4gIGZvciAoaSA9IDA7IGkgPCBibG9ja0NvdW50OyArK2kpIHtcbiAgICBzW2ldIF49IGJsb2Nrc1tpXTtcbiAgfVxuICBmKHMpO1xuXG4gIC8vIHRvU3RyaW5nXG4gIHZhciBoZXggPSAnJyxcbiAgICAgIGkgPSAwLFxuICAgICAgaiA9IDAsXG4gICAgICBibG9jaztcbiAgd2hpbGUgKGogPCBvdXRwdXRCbG9ja3MpIHtcbiAgICBmb3IgKGkgPSAwOyBpIDwgYmxvY2tDb3VudCAmJiBqIDwgb3V0cHV0QmxvY2tzOyArK2ksICsraikge1xuICAgICAgYmxvY2sgPSBzW2ldO1xuICAgICAgaGV4ICs9IEhFWF9DSEFSU1tibG9jayA+PiA0ICYgMHgwRl0gKyBIRVhfQ0hBUlNbYmxvY2sgJiAweDBGXSArIEhFWF9DSEFSU1tibG9jayA+PiAxMiAmIDB4MEZdICsgSEVYX0NIQVJTW2Jsb2NrID4+IDggJiAweDBGXSArIEhFWF9DSEFSU1tibG9jayA+PiAyMCAmIDB4MEZdICsgSEVYX0NIQVJTW2Jsb2NrID4+IDE2ICYgMHgwRl0gKyBIRVhfQ0hBUlNbYmxvY2sgPj4gMjggJiAweDBGXSArIEhFWF9DSEFSU1tibG9jayA+PiAyNCAmIDB4MEZdO1xuICAgIH1cbiAgICBpZiAoaiAlIGJsb2NrQ291bnQgPT09IDApIHtcbiAgICAgIGYocyk7XG4gICAgICBpID0gMDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFwiMHhcIiArIGhleDtcbn07XG5cbnZhciBmID0gZnVuY3Rpb24gZihzKSB7XG4gIHZhciBoLCBsLCBuLCBjMCwgYzEsIGMyLCBjMywgYzQsIGM1LCBjNiwgYzcsIGM4LCBjOSwgYjAsIGIxLCBiMiwgYjMsIGI0LCBiNSwgYjYsIGI3LCBiOCwgYjksIGIxMCwgYjExLCBiMTIsIGIxMywgYjE0LCBiMTUsIGIxNiwgYjE3LCBiMTgsIGIxOSwgYjIwLCBiMjEsIGIyMiwgYjIzLCBiMjQsIGIyNSwgYjI2LCBiMjcsIGIyOCwgYjI5LCBiMzAsIGIzMSwgYjMyLCBiMzMsIGIzNCwgYjM1LCBiMzYsIGIzNywgYjM4LCBiMzksIGI0MCwgYjQxLCBiNDIsIGI0MywgYjQ0LCBiNDUsIGI0NiwgYjQ3LCBiNDgsIGI0OTtcblxuICBmb3IgKG4gPSAwOyBuIDwgNDg7IG4gKz0gMikge1xuICAgIGMwID0gc1swXSBeIHNbMTBdIF4gc1syMF0gXiBzWzMwXSBeIHNbNDBdO1xuICAgIGMxID0gc1sxXSBeIHNbMTFdIF4gc1syMV0gXiBzWzMxXSBeIHNbNDFdO1xuICAgIGMyID0gc1syXSBeIHNbMTJdIF4gc1syMl0gXiBzWzMyXSBeIHNbNDJdO1xuICAgIGMzID0gc1szXSBeIHNbMTNdIF4gc1syM10gXiBzWzMzXSBeIHNbNDNdO1xuICAgIGM0ID0gc1s0XSBeIHNbMTRdIF4gc1syNF0gXiBzWzM0XSBeIHNbNDRdO1xuICAgIGM1ID0gc1s1XSBeIHNbMTVdIF4gc1syNV0gXiBzWzM1XSBeIHNbNDVdO1xuICAgIGM2ID0gc1s2XSBeIHNbMTZdIF4gc1syNl0gXiBzWzM2XSBeIHNbNDZdO1xuICAgIGM3ID0gc1s3XSBeIHNbMTddIF4gc1syN10gXiBzWzM3XSBeIHNbNDddO1xuICAgIGM4ID0gc1s4XSBeIHNbMThdIF4gc1syOF0gXiBzWzM4XSBeIHNbNDhdO1xuICAgIGM5ID0gc1s5XSBeIHNbMTldIF4gc1syOV0gXiBzWzM5XSBeIHNbNDldO1xuXG4gICAgaCA9IGM4IF4gKGMyIDw8IDEgfCBjMyA+Pj4gMzEpO1xuICAgIGwgPSBjOSBeIChjMyA8PCAxIHwgYzIgPj4+IDMxKTtcbiAgICBzWzBdIF49IGg7XG4gICAgc1sxXSBePSBsO1xuICAgIHNbMTBdIF49IGg7XG4gICAgc1sxMV0gXj0gbDtcbiAgICBzWzIwXSBePSBoO1xuICAgIHNbMjFdIF49IGw7XG4gICAgc1szMF0gXj0gaDtcbiAgICBzWzMxXSBePSBsO1xuICAgIHNbNDBdIF49IGg7XG4gICAgc1s0MV0gXj0gbDtcbiAgICBoID0gYzAgXiAoYzQgPDwgMSB8IGM1ID4+PiAzMSk7XG4gICAgbCA9IGMxIF4gKGM1IDw8IDEgfCBjNCA+Pj4gMzEpO1xuICAgIHNbMl0gXj0gaDtcbiAgICBzWzNdIF49IGw7XG4gICAgc1sxMl0gXj0gaDtcbiAgICBzWzEzXSBePSBsO1xuICAgIHNbMjJdIF49IGg7XG4gICAgc1syM10gXj0gbDtcbiAgICBzWzMyXSBePSBoO1xuICAgIHNbMzNdIF49IGw7XG4gICAgc1s0Ml0gXj0gaDtcbiAgICBzWzQzXSBePSBsO1xuICAgIGggPSBjMiBeIChjNiA8PCAxIHwgYzcgPj4+IDMxKTtcbiAgICBsID0gYzMgXiAoYzcgPDwgMSB8IGM2ID4+PiAzMSk7XG4gICAgc1s0XSBePSBoO1xuICAgIHNbNV0gXj0gbDtcbiAgICBzWzE0XSBePSBoO1xuICAgIHNbMTVdIF49IGw7XG4gICAgc1syNF0gXj0gaDtcbiAgICBzWzI1XSBePSBsO1xuICAgIHNbMzRdIF49IGg7XG4gICAgc1szNV0gXj0gbDtcbiAgICBzWzQ0XSBePSBoO1xuICAgIHNbNDVdIF49IGw7XG4gICAgaCA9IGM0IF4gKGM4IDw8IDEgfCBjOSA+Pj4gMzEpO1xuICAgIGwgPSBjNSBeIChjOSA8PCAxIHwgYzggPj4+IDMxKTtcbiAgICBzWzZdIF49IGg7XG4gICAgc1s3XSBePSBsO1xuICAgIHNbMTZdIF49IGg7XG4gICAgc1sxN10gXj0gbDtcbiAgICBzWzI2XSBePSBoO1xuICAgIHNbMjddIF49IGw7XG4gICAgc1szNl0gXj0gaDtcbiAgICBzWzM3XSBePSBsO1xuICAgIHNbNDZdIF49IGg7XG4gICAgc1s0N10gXj0gbDtcbiAgICBoID0gYzYgXiAoYzAgPDwgMSB8IGMxID4+PiAzMSk7XG4gICAgbCA9IGM3IF4gKGMxIDw8IDEgfCBjMCA+Pj4gMzEpO1xuICAgIHNbOF0gXj0gaDtcbiAgICBzWzldIF49IGw7XG4gICAgc1sxOF0gXj0gaDtcbiAgICBzWzE5XSBePSBsO1xuICAgIHNbMjhdIF49IGg7XG4gICAgc1syOV0gXj0gbDtcbiAgICBzWzM4XSBePSBoO1xuICAgIHNbMzldIF49IGw7XG4gICAgc1s0OF0gXj0gaDtcbiAgICBzWzQ5XSBePSBsO1xuXG4gICAgYjAgPSBzWzBdO1xuICAgIGIxID0gc1sxXTtcbiAgICBiMzIgPSBzWzExXSA8PCA0IHwgc1sxMF0gPj4+IDI4O1xuICAgIGIzMyA9IHNbMTBdIDw8IDQgfCBzWzExXSA+Pj4gMjg7XG4gICAgYjE0ID0gc1syMF0gPDwgMyB8IHNbMjFdID4+PiAyOTtcbiAgICBiMTUgPSBzWzIxXSA8PCAzIHwgc1syMF0gPj4+IDI5O1xuICAgIGI0NiA9IHNbMzFdIDw8IDkgfCBzWzMwXSA+Pj4gMjM7XG4gICAgYjQ3ID0gc1szMF0gPDwgOSB8IHNbMzFdID4+PiAyMztcbiAgICBiMjggPSBzWzQwXSA8PCAxOCB8IHNbNDFdID4+PiAxNDtcbiAgICBiMjkgPSBzWzQxXSA8PCAxOCB8IHNbNDBdID4+PiAxNDtcbiAgICBiMjAgPSBzWzJdIDw8IDEgfCBzWzNdID4+PiAzMTtcbiAgICBiMjEgPSBzWzNdIDw8IDEgfCBzWzJdID4+PiAzMTtcbiAgICBiMiA9IHNbMTNdIDw8IDEyIHwgc1sxMl0gPj4+IDIwO1xuICAgIGIzID0gc1sxMl0gPDwgMTIgfCBzWzEzXSA+Pj4gMjA7XG4gICAgYjM0ID0gc1syMl0gPDwgMTAgfCBzWzIzXSA+Pj4gMjI7XG4gICAgYjM1ID0gc1syM10gPDwgMTAgfCBzWzIyXSA+Pj4gMjI7XG4gICAgYjE2ID0gc1szM10gPDwgMTMgfCBzWzMyXSA+Pj4gMTk7XG4gICAgYjE3ID0gc1szMl0gPDwgMTMgfCBzWzMzXSA+Pj4gMTk7XG4gICAgYjQ4ID0gc1s0Ml0gPDwgMiB8IHNbNDNdID4+PiAzMDtcbiAgICBiNDkgPSBzWzQzXSA8PCAyIHwgc1s0Ml0gPj4+IDMwO1xuICAgIGI0MCA9IHNbNV0gPDwgMzAgfCBzWzRdID4+PiAyO1xuICAgIGI0MSA9IHNbNF0gPDwgMzAgfCBzWzVdID4+PiAyO1xuICAgIGIyMiA9IHNbMTRdIDw8IDYgfCBzWzE1XSA+Pj4gMjY7XG4gICAgYjIzID0gc1sxNV0gPDwgNiB8IHNbMTRdID4+PiAyNjtcbiAgICBiNCA9IHNbMjVdIDw8IDExIHwgc1syNF0gPj4+IDIxO1xuICAgIGI1ID0gc1syNF0gPDwgMTEgfCBzWzI1XSA+Pj4gMjE7XG4gICAgYjM2ID0gc1szNF0gPDwgMTUgfCBzWzM1XSA+Pj4gMTc7XG4gICAgYjM3ID0gc1szNV0gPDwgMTUgfCBzWzM0XSA+Pj4gMTc7XG4gICAgYjE4ID0gc1s0NV0gPDwgMjkgfCBzWzQ0XSA+Pj4gMztcbiAgICBiMTkgPSBzWzQ0XSA8PCAyOSB8IHNbNDVdID4+PiAzO1xuICAgIGIxMCA9IHNbNl0gPDwgMjggfCBzWzddID4+PiA0O1xuICAgIGIxMSA9IHNbN10gPDwgMjggfCBzWzZdID4+PiA0O1xuICAgIGI0MiA9IHNbMTddIDw8IDIzIHwgc1sxNl0gPj4+IDk7XG4gICAgYjQzID0gc1sxNl0gPDwgMjMgfCBzWzE3XSA+Pj4gOTtcbiAgICBiMjQgPSBzWzI2XSA8PCAyNSB8IHNbMjddID4+PiA3O1xuICAgIGIyNSA9IHNbMjddIDw8IDI1IHwgc1syNl0gPj4+IDc7XG4gICAgYjYgPSBzWzM2XSA8PCAyMSB8IHNbMzddID4+PiAxMTtcbiAgICBiNyA9IHNbMzddIDw8IDIxIHwgc1szNl0gPj4+IDExO1xuICAgIGIzOCA9IHNbNDddIDw8IDI0IHwgc1s0Nl0gPj4+IDg7XG4gICAgYjM5ID0gc1s0Nl0gPDwgMjQgfCBzWzQ3XSA+Pj4gODtcbiAgICBiMzAgPSBzWzhdIDw8IDI3IHwgc1s5XSA+Pj4gNTtcbiAgICBiMzEgPSBzWzldIDw8IDI3IHwgc1s4XSA+Pj4gNTtcbiAgICBiMTIgPSBzWzE4XSA8PCAyMCB8IHNbMTldID4+PiAxMjtcbiAgICBiMTMgPSBzWzE5XSA8PCAyMCB8IHNbMThdID4+PiAxMjtcbiAgICBiNDQgPSBzWzI5XSA8PCA3IHwgc1syOF0gPj4+IDI1O1xuICAgIGI0NSA9IHNbMjhdIDw8IDcgfCBzWzI5XSA+Pj4gMjU7XG4gICAgYjI2ID0gc1szOF0gPDwgOCB8IHNbMzldID4+PiAyNDtcbiAgICBiMjcgPSBzWzM5XSA8PCA4IHwgc1szOF0gPj4+IDI0O1xuICAgIGI4ID0gc1s0OF0gPDwgMTQgfCBzWzQ5XSA+Pj4gMTg7XG4gICAgYjkgPSBzWzQ5XSA8PCAxNCB8IHNbNDhdID4+PiAxODtcblxuICAgIHNbMF0gPSBiMCBeIH5iMiAmIGI0O1xuICAgIHNbMV0gPSBiMSBeIH5iMyAmIGI1O1xuICAgIHNbMTBdID0gYjEwIF4gfmIxMiAmIGIxNDtcbiAgICBzWzExXSA9IGIxMSBeIH5iMTMgJiBiMTU7XG4gICAgc1syMF0gPSBiMjAgXiB+YjIyICYgYjI0O1xuICAgIHNbMjFdID0gYjIxIF4gfmIyMyAmIGIyNTtcbiAgICBzWzMwXSA9IGIzMCBeIH5iMzIgJiBiMzQ7XG4gICAgc1szMV0gPSBiMzEgXiB+YjMzICYgYjM1O1xuICAgIHNbNDBdID0gYjQwIF4gfmI0MiAmIGI0NDtcbiAgICBzWzQxXSA9IGI0MSBeIH5iNDMgJiBiNDU7XG4gICAgc1syXSA9IGIyIF4gfmI0ICYgYjY7XG4gICAgc1szXSA9IGIzIF4gfmI1ICYgYjc7XG4gICAgc1sxMl0gPSBiMTIgXiB+YjE0ICYgYjE2O1xuICAgIHNbMTNdID0gYjEzIF4gfmIxNSAmIGIxNztcbiAgICBzWzIyXSA9IGIyMiBeIH5iMjQgJiBiMjY7XG4gICAgc1syM10gPSBiMjMgXiB+YjI1ICYgYjI3O1xuICAgIHNbMzJdID0gYjMyIF4gfmIzNCAmIGIzNjtcbiAgICBzWzMzXSA9IGIzMyBeIH5iMzUgJiBiMzc7XG4gICAgc1s0Ml0gPSBiNDIgXiB+YjQ0ICYgYjQ2O1xuICAgIHNbNDNdID0gYjQzIF4gfmI0NSAmIGI0NztcbiAgICBzWzRdID0gYjQgXiB+YjYgJiBiODtcbiAgICBzWzVdID0gYjUgXiB+YjcgJiBiOTtcbiAgICBzWzE0XSA9IGIxNCBeIH5iMTYgJiBiMTg7XG4gICAgc1sxNV0gPSBiMTUgXiB+YjE3ICYgYjE5O1xuICAgIHNbMjRdID0gYjI0IF4gfmIyNiAmIGIyODtcbiAgICBzWzI1XSA9IGIyNSBeIH5iMjcgJiBiMjk7XG4gICAgc1szNF0gPSBiMzQgXiB+YjM2ICYgYjM4O1xuICAgIHNbMzVdID0gYjM1IF4gfmIzNyAmIGIzOTtcbiAgICBzWzQ0XSA9IGI0NCBeIH5iNDYgJiBiNDg7XG4gICAgc1s0NV0gPSBiNDUgXiB+YjQ3ICYgYjQ5O1xuICAgIHNbNl0gPSBiNiBeIH5iOCAmIGIwO1xuICAgIHNbN10gPSBiNyBeIH5iOSAmIGIxO1xuICAgIHNbMTZdID0gYjE2IF4gfmIxOCAmIGIxMDtcbiAgICBzWzE3XSA9IGIxNyBeIH5iMTkgJiBiMTE7XG4gICAgc1syNl0gPSBiMjYgXiB+YjI4ICYgYjIwO1xuICAgIHNbMjddID0gYjI3IF4gfmIyOSAmIGIyMTtcbiAgICBzWzM2XSA9IGIzNiBeIH5iMzggJiBiMzA7XG4gICAgc1szN10gPSBiMzcgXiB+YjM5ICYgYjMxO1xuICAgIHNbNDZdID0gYjQ2IF4gfmI0OCAmIGI0MDtcbiAgICBzWzQ3XSA9IGI0NyBeIH5iNDkgJiBiNDE7XG4gICAgc1s4XSA9IGI4IF4gfmIwICYgYjI7XG4gICAgc1s5XSA9IGI5IF4gfmIxICYgYjM7XG4gICAgc1sxOF0gPSBiMTggXiB+YjEwICYgYjEyO1xuICAgIHNbMTldID0gYjE5IF4gfmIxMSAmIGIxMztcbiAgICBzWzI4XSA9IGIyOCBeIH5iMjAgJiBiMjI7XG4gICAgc1syOV0gPSBiMjkgXiB+YjIxICYgYjIzO1xuICAgIHNbMzhdID0gYjM4IF4gfmIzMCAmIGIzMjtcbiAgICBzWzM5XSA9IGIzOSBeIH5iMzEgJiBiMzM7XG4gICAgc1s0OF0gPSBiNDggXiB+YjQwICYgYjQyO1xuICAgIHNbNDldID0gYjQ5IF4gfmI0MSAmIGI0MztcblxuICAgIHNbMF0gXj0gUkNbbl07XG4gICAgc1sxXSBePSBSQ1tuICsgMV07XG4gIH1cbn07XG5cbnZhciBrZWNjYWsgPSBmdW5jdGlvbiBrZWNjYWsoYml0cykge1xuICByZXR1cm4gZnVuY3Rpb24gKHN0cikge1xuICAgIHZhciBtc2c7XG4gICAgaWYgKHN0ci5zbGljZSgwLCAyKSA9PT0gXCIweFwiKSB7XG4gICAgICBtc2cgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAyLCBsID0gc3RyLmxlbmd0aDsgaSA8IGw7IGkgKz0gMikge1xuICAgICAgICBtc2cucHVzaChwYXJzZUludChzdHIuc2xpY2UoaSwgaSArIDIpLCAxNikpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBtc2cgPSBzdHI7XG4gICAgfVxuICAgIHJldHVybiB1cGRhdGUoS2VjY2FrKGJpdHMsIGJpdHMpLCBtc2cpO1xuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGtlY2NhazI1Njoga2VjY2FrKDI1NiksXG4gIGtlY2NhazUxMjoga2VjY2FrKDUxMiksXG4gIGtlY2NhazI1NnM6IGtlY2NhaygyNTYpLFxuICBrZWNjYWs1MTJzOiBrZWNjYWsoNTEyKVxufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/eth-lib/lib/hash.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/as-promise/create-rejection.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/got/dist/source/as-promise/create-rejection.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst types_1 = __webpack_require__(/*! ./types */ \"(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/as-promise/types.js\");\nfunction createRejection(error, ...beforeErrorGroups) {\n    const promise = (async () => {\n        if (error instanceof types_1.RequestError) {\n            try {\n                for (const hooks of beforeErrorGroups) {\n                    if (hooks) {\n                        for (const hook of hooks) {\n                            // eslint-disable-next-line no-await-in-loop\n                            error = await hook(error);\n                        }\n                    }\n                }\n            }\n            catch (error_) {\n                error = error_;\n            }\n        }\n        throw error;\n    })();\n    const returnPromise = () => promise;\n    promise.json = returnPromise;\n    promise.text = returnPromise;\n    promise.buffer = returnPromise;\n    promise.on = returnPromise;\n    return promise;\n}\nexports[\"default\"] = createRejection;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2dvdC9kaXN0L3NvdXJjZS9hcy1wcm9taXNlL2NyZWF0ZS1yZWplY3Rpb24uanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZ0JBQWdCLG1CQUFPLENBQUMsK0ZBQVM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AcG9ydGtleS9uZXh0LWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2dvdC9kaXN0L3NvdXJjZS9hcy1wcm9taXNlL2NyZWF0ZS1yZWplY3Rpb24uanM/NDk1MyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHR5cGVzXzEgPSByZXF1aXJlKFwiLi90eXBlc1wiKTtcbmZ1bmN0aW9uIGNyZWF0ZVJlamVjdGlvbihlcnJvciwgLi4uYmVmb3JlRXJyb3JHcm91cHMpIHtcbiAgICBjb25zdCBwcm9taXNlID0gKGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgdHlwZXNfMS5SZXF1ZXN0RXJyb3IpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBob29rcyBvZiBiZWZvcmVFcnJvckdyb3Vwcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaG9va3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaG9vayBvZiBob29rcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1hd2FpdC1pbi1sb29wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSBhd2FpdCBob29rKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcl8pIHtcbiAgICAgICAgICAgICAgICBlcnJvciA9IGVycm9yXztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9KSgpO1xuICAgIGNvbnN0IHJldHVyblByb21pc2UgPSAoKSA9PiBwcm9taXNlO1xuICAgIHByb21pc2UuanNvbiA9IHJldHVyblByb21pc2U7XG4gICAgcHJvbWlzZS50ZXh0ID0gcmV0dXJuUHJvbWlzZTtcbiAgICBwcm9taXNlLmJ1ZmZlciA9IHJldHVyblByb21pc2U7XG4gICAgcHJvbWlzZS5vbiA9IHJldHVyblByb21pc2U7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVSZWplY3Rpb247XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/as-promise/create-rejection.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/as-promise/index.js":
/*!********************************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/got/dist/source/as-promise/index.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst events_1 = __webpack_require__(/*! events */ \"events\");\nconst is_1 = __webpack_require__(/*! @sindresorhus/is */ \"(ssr)/./node_modules/@sindresorhus/is/dist/index.js\");\nconst PCancelable = __webpack_require__(/*! p-cancelable */ \"(ssr)/./node_modules/swarm-js/node_modules/p-cancelable/index.js\");\nconst types_1 = __webpack_require__(/*! ./types */ \"(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/as-promise/types.js\");\nconst parse_body_1 = __webpack_require__(/*! ./parse-body */ \"(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/as-promise/parse-body.js\");\nconst core_1 = __webpack_require__(/*! ../core */ \"(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/index.js\");\nconst proxy_events_1 = __webpack_require__(/*! ../core/utils/proxy-events */ \"(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/proxy-events.js\");\nconst get_buffer_1 = __webpack_require__(/*! ../core/utils/get-buffer */ \"(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/get-buffer.js\");\nconst is_response_ok_1 = __webpack_require__(/*! ../core/utils/is-response-ok */ \"(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/is-response-ok.js\");\nconst proxiedRequestEvents = [\n    'request',\n    'response',\n    'redirect',\n    'uploadProgress',\n    'downloadProgress'\n];\nfunction asPromise(normalizedOptions) {\n    let globalRequest;\n    let globalResponse;\n    const emitter = new events_1.EventEmitter();\n    const promise = new PCancelable((resolve, reject, onCancel) => {\n        const makeRequest = (retryCount) => {\n            const request = new core_1.default(undefined, normalizedOptions);\n            request.retryCount = retryCount;\n            request._noPipe = true;\n            onCancel(() => request.destroy());\n            onCancel.shouldReject = false;\n            onCancel(() => reject(new types_1.CancelError(request)));\n            globalRequest = request;\n            request.once('response', async (response) => {\n                var _a;\n                response.retryCount = retryCount;\n                if (response.request.aborted) {\n                    // Canceled while downloading - will throw a `CancelError` or `TimeoutError` error\n                    return;\n                }\n                // Download body\n                let rawBody;\n                try {\n                    rawBody = await get_buffer_1.default(request);\n                    response.rawBody = rawBody;\n                }\n                catch (_b) {\n                    // The same error is caught below.\n                    // See request.once('error')\n                    return;\n                }\n                if (request._isAboutToError) {\n                    return;\n                }\n                // Parse body\n                const contentEncoding = ((_a = response.headers['content-encoding']) !== null && _a !== void 0 ? _a : '').toLowerCase();\n                const isCompressed = ['gzip', 'deflate', 'br'].includes(contentEncoding);\n                const { options } = request;\n                if (isCompressed && !options.decompress) {\n                    response.body = rawBody;\n                }\n                else {\n                    try {\n                        response.body = parse_body_1.default(response, options.responseType, options.parseJson, options.encoding);\n                    }\n                    catch (error) {\n                        // Fallback to `utf8`\n                        response.body = rawBody.toString();\n                        if (is_response_ok_1.isResponseOk(response)) {\n                            request._beforeError(error);\n                            return;\n                        }\n                    }\n                }\n                try {\n                    for (const [index, hook] of options.hooks.afterResponse.entries()) {\n                        // @ts-expect-error TS doesn't notice that CancelableRequest is a Promise\n                        // eslint-disable-next-line no-await-in-loop\n                        response = await hook(response, async (updatedOptions) => {\n                            const typedOptions = core_1.default.normalizeArguments(undefined, {\n                                ...updatedOptions,\n                                retry: {\n                                    calculateDelay: () => 0\n                                },\n                                throwHttpErrors: false,\n                                resolveBodyOnly: false\n                            }, options);\n                            // Remove any further hooks for that request, because we'll call them anyway.\n                            // The loop continues. We don't want duplicates (asPromise recursion).\n                            typedOptions.hooks.afterResponse = typedOptions.hooks.afterResponse.slice(0, index);\n                            for (const hook of typedOptions.hooks.beforeRetry) {\n                                // eslint-disable-next-line no-await-in-loop\n                                await hook(typedOptions);\n                            }\n                            const promise = asPromise(typedOptions);\n                            onCancel(() => {\n                                promise.catch(() => { });\n                                promise.cancel();\n                            });\n                            return promise;\n                        });\n                    }\n                }\n                catch (error) {\n                    request._beforeError(new types_1.RequestError(error.message, error, request));\n                    return;\n                }\n                globalResponse = response;\n                if (!is_response_ok_1.isResponseOk(response)) {\n                    request._beforeError(new types_1.HTTPError(response));\n                    return;\n                }\n                request.destroy();\n                resolve(request.options.resolveBodyOnly ? response.body : response);\n            });\n            const onError = (error) => {\n                if (promise.isCanceled) {\n                    return;\n                }\n                const { options } = request;\n                if (error instanceof types_1.HTTPError && !options.throwHttpErrors) {\n                    const { response } = error;\n                    resolve(request.options.resolveBodyOnly ? response.body : response);\n                    return;\n                }\n                reject(error);\n            };\n            request.once('error', onError);\n            const previousBody = request.options.body;\n            request.once('retry', (newRetryCount, error) => {\n                var _a, _b;\n                if (previousBody === ((_a = error.request) === null || _a === void 0 ? void 0 : _a.options.body) && is_1.default.nodeStream((_b = error.request) === null || _b === void 0 ? void 0 : _b.options.body)) {\n                    onError(error);\n                    return;\n                }\n                makeRequest(newRetryCount);\n            });\n            proxy_events_1.default(request, emitter, proxiedRequestEvents);\n        };\n        makeRequest(0);\n    });\n    promise.on = (event, fn) => {\n        emitter.on(event, fn);\n        return promise;\n    };\n    const shortcut = (responseType) => {\n        const newPromise = (async () => {\n            // Wait until downloading has ended\n            await promise;\n            const { options } = globalResponse.request;\n            return parse_body_1.default(globalResponse, responseType, options.parseJson, options.encoding);\n        })();\n        Object.defineProperties(newPromise, Object.getOwnPropertyDescriptors(promise));\n        return newPromise;\n    };\n    promise.json = () => {\n        const { headers } = globalRequest.options;\n        if (!globalRequest.writableFinished && headers.accept === undefined) {\n            headers.accept = 'application/json';\n        }\n        return shortcut('json');\n    };\n    promise.buffer = () => shortcut('buffer');\n    promise.text = () => shortcut('text');\n    return promise;\n}\nexports[\"default\"] = asPromise;\n__exportStar(__webpack_require__(/*! ./types */ \"(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/as-promise/types.js\"), exports);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2dvdC9kaXN0L3NvdXJjZS9hcy1wcm9taXNlL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBLG1DQUFtQyxvQ0FBb0MsZ0JBQWdCO0FBQ3ZGLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxpQkFBaUIsbUJBQU8sQ0FBQyxzQkFBUTtBQUNqQyxhQUFhLG1CQUFPLENBQUMsNkVBQWtCO0FBQ3ZDLG9CQUFvQixtQkFBTyxDQUFDLHNGQUFjO0FBQzFDLGdCQUFnQixtQkFBTyxDQUFDLCtGQUFTO0FBQ2pDLHFCQUFxQixtQkFBTyxDQUFDLHlHQUFjO0FBQzNDLGVBQWUsbUJBQU8sQ0FBQyx5RkFBUztBQUNoQyx1QkFBdUIsbUJBQU8sQ0FBQyx5SEFBNEI7QUFDM0QscUJBQXFCLG1CQUFPLENBQUMscUhBQTBCO0FBQ3ZELHlCQUF5QixtQkFBTyxDQUFDLDZIQUE4QjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFVBQVU7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQ7QUFDdkQ7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsVUFBVTtBQUNsQztBQUNBLDRCQUE0QixXQUFXO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsVUFBVTtBQUM5QjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixVQUFVO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFlO0FBQ2YsYUFBYSxtQkFBTyxDQUFDLCtGQUFTIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBvcnRrZXkvbmV4dC1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL3N3YXJtLWpzL25vZGVfbW9kdWxlcy9nb3QvZGlzdC9zb3VyY2UvYXMtcHJvbWlzZS9pbmRleC5qcz80NTdhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH0pO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBldmVudHNfMSA9IHJlcXVpcmUoXCJldmVudHNcIik7XG5jb25zdCBpc18xID0gcmVxdWlyZShcIkBzaW5kcmVzb3JodXMvaXNcIik7XG5jb25zdCBQQ2FuY2VsYWJsZSA9IHJlcXVpcmUoXCJwLWNhbmNlbGFibGVcIik7XG5jb25zdCB0eXBlc18xID0gcmVxdWlyZShcIi4vdHlwZXNcIik7XG5jb25zdCBwYXJzZV9ib2R5XzEgPSByZXF1aXJlKFwiLi9wYXJzZS1ib2R5XCIpO1xuY29uc3QgY29yZV8xID0gcmVxdWlyZShcIi4uL2NvcmVcIik7XG5jb25zdCBwcm94eV9ldmVudHNfMSA9IHJlcXVpcmUoXCIuLi9jb3JlL3V0aWxzL3Byb3h5LWV2ZW50c1wiKTtcbmNvbnN0IGdldF9idWZmZXJfMSA9IHJlcXVpcmUoXCIuLi9jb3JlL3V0aWxzL2dldC1idWZmZXJcIik7XG5jb25zdCBpc19yZXNwb25zZV9va18xID0gcmVxdWlyZShcIi4uL2NvcmUvdXRpbHMvaXMtcmVzcG9uc2Utb2tcIik7XG5jb25zdCBwcm94aWVkUmVxdWVzdEV2ZW50cyA9IFtcbiAgICAncmVxdWVzdCcsXG4gICAgJ3Jlc3BvbnNlJyxcbiAgICAncmVkaXJlY3QnLFxuICAgICd1cGxvYWRQcm9ncmVzcycsXG4gICAgJ2Rvd25sb2FkUHJvZ3Jlc3MnXG5dO1xuZnVuY3Rpb24gYXNQcm9taXNlKG5vcm1hbGl6ZWRPcHRpb25zKSB7XG4gICAgbGV0IGdsb2JhbFJlcXVlc3Q7XG4gICAgbGV0IGdsb2JhbFJlc3BvbnNlO1xuICAgIGNvbnN0IGVtaXR0ZXIgPSBuZXcgZXZlbnRzXzEuRXZlbnRFbWl0dGVyKCk7XG4gICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQQ2FuY2VsYWJsZSgocmVzb2x2ZSwgcmVqZWN0LCBvbkNhbmNlbCkgPT4ge1xuICAgICAgICBjb25zdCBtYWtlUmVxdWVzdCA9IChyZXRyeUNvdW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IGNvcmVfMS5kZWZhdWx0KHVuZGVmaW5lZCwgbm9ybWFsaXplZE9wdGlvbnMpO1xuICAgICAgICAgICAgcmVxdWVzdC5yZXRyeUNvdW50ID0gcmV0cnlDb3VudDtcbiAgICAgICAgICAgIHJlcXVlc3QuX25vUGlwZSA9IHRydWU7XG4gICAgICAgICAgICBvbkNhbmNlbCgoKSA9PiByZXF1ZXN0LmRlc3Ryb3koKSk7XG4gICAgICAgICAgICBvbkNhbmNlbC5zaG91bGRSZWplY3QgPSBmYWxzZTtcbiAgICAgICAgICAgIG9uQ2FuY2VsKCgpID0+IHJlamVjdChuZXcgdHlwZXNfMS5DYW5jZWxFcnJvcihyZXF1ZXN0KSkpO1xuICAgICAgICAgICAgZ2xvYmFsUmVxdWVzdCA9IHJlcXVlc3Q7XG4gICAgICAgICAgICByZXF1ZXN0Lm9uY2UoJ3Jlc3BvbnNlJywgYXN5bmMgKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnJldHJ5Q291bnQgPSByZXRyeUNvdW50O1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5yZXF1ZXN0LmFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2FuY2VsZWQgd2hpbGUgZG93bmxvYWRpbmcgLSB3aWxsIHRocm93IGEgYENhbmNlbEVycm9yYCBvciBgVGltZW91dEVycm9yYCBlcnJvclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIERvd25sb2FkIGJvZHlcbiAgICAgICAgICAgICAgICBsZXQgcmF3Qm9keTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByYXdCb2R5ID0gYXdhaXQgZ2V0X2J1ZmZlcl8xLmRlZmF1bHQocmVxdWVzdCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLnJhd0JvZHkgPSByYXdCb2R5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoX2IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHNhbWUgZXJyb3IgaXMgY2F1Z2h0IGJlbG93LlxuICAgICAgICAgICAgICAgICAgICAvLyBTZWUgcmVxdWVzdC5vbmNlKCdlcnJvcicpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJlcXVlc3QuX2lzQWJvdXRUb0Vycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gUGFyc2UgYm9keVxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRFbmNvZGluZyA9ICgoX2EgPSByZXNwb25zZS5oZWFkZXJzWydjb250ZW50LWVuY29kaW5nJ10pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzQ29tcHJlc3NlZCA9IFsnZ3ppcCcsICdkZWZsYXRlJywgJ2JyJ10uaW5jbHVkZXMoY29udGVudEVuY29kaW5nKTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IG9wdGlvbnMgfSA9IHJlcXVlc3Q7XG4gICAgICAgICAgICAgICAgaWYgKGlzQ29tcHJlc3NlZCAmJiAhb3B0aW9ucy5kZWNvbXByZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkgPSByYXdCb2R5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkgPSBwYXJzZV9ib2R5XzEuZGVmYXVsdChyZXNwb25zZSwgb3B0aW9ucy5yZXNwb25zZVR5cGUsIG9wdGlvbnMucGFyc2VKc29uLCBvcHRpb25zLmVuY29kaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIGB1dGY4YFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keSA9IHJhd0JvZHkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc19yZXNwb25zZV9va18xLmlzUmVzcG9uc2VPayhyZXNwb25zZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0Ll9iZWZvcmVFcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2luZGV4LCBob29rXSBvZiBvcHRpb25zLmhvb2tzLmFmdGVyUmVzcG9uc2UuZW50cmllcygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFRTIGRvZXNuJ3Qgbm90aWNlIHRoYXQgQ2FuY2VsYWJsZVJlcXVlc3QgaXMgYSBQcm9taXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYXdhaXQtaW4tbG9vcFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCBob29rKHJlc3BvbnNlLCBhc3luYyAodXBkYXRlZE9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0eXBlZE9wdGlvbnMgPSBjb3JlXzEuZGVmYXVsdC5ub3JtYWxpemVBcmd1bWVudHModW5kZWZpbmVkLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnVwZGF0ZWRPcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRyeToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsY3VsYXRlRGVsYXk6ICgpID0+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3dIdHRwRXJyb3JzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUJvZHlPbmx5OiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBhbnkgZnVydGhlciBob29rcyBmb3IgdGhhdCByZXF1ZXN0LCBiZWNhdXNlIHdlJ2xsIGNhbGwgdGhlbSBhbnl3YXkuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGxvb3AgY29udGludWVzLiBXZSBkb24ndCB3YW50IGR1cGxpY2F0ZXMgKGFzUHJvbWlzZSByZWN1cnNpb24pLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVkT3B0aW9ucy5ob29rcy5hZnRlclJlc3BvbnNlID0gdHlwZWRPcHRpb25zLmhvb2tzLmFmdGVyUmVzcG9uc2Uuc2xpY2UoMCwgaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaG9vayBvZiB0eXBlZE9wdGlvbnMuaG9va3MuYmVmb3JlUmV0cnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWF3YWl0LWluLWxvb3BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgaG9vayh0eXBlZE9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9taXNlID0gYXNQcm9taXNlKHR5cGVkT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DYW5jZWwoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlLmNhdGNoKCgpID0+IHsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2UuY2FuY2VsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5fYmVmb3JlRXJyb3IobmV3IHR5cGVzXzEuUmVxdWVzdEVycm9yKGVycm9yLm1lc3NhZ2UsIGVycm9yLCByZXF1ZXN0KSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ2xvYmFsUmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzX3Jlc3BvbnNlX29rXzEuaXNSZXNwb25zZU9rKHJlc3BvbnNlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0Ll9iZWZvcmVFcnJvcihuZXcgdHlwZXNfMS5IVFRQRXJyb3IocmVzcG9uc2UpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXF1ZXN0LmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlcXVlc3Qub3B0aW9ucy5yZXNvbHZlQm9keU9ubHkgPyByZXNwb25zZS5ib2R5IDogcmVzcG9uc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBvbkVycm9yID0gKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHByb21pc2UuaXNDYW5jZWxlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHsgb3B0aW9ucyB9ID0gcmVxdWVzdDtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiB0eXBlc18xLkhUVFBFcnJvciAmJiAhb3B0aW9ucy50aHJvd0h0dHBFcnJvcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyByZXNwb25zZSB9ID0gZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVxdWVzdC5vcHRpb25zLnJlc29sdmVCb2R5T25seSA/IHJlc3BvbnNlLmJvZHkgOiByZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXF1ZXN0Lm9uY2UoJ2Vycm9yJywgb25FcnJvcik7XG4gICAgICAgICAgICBjb25zdCBwcmV2aW91c0JvZHkgPSByZXF1ZXN0Lm9wdGlvbnMuYm9keTtcbiAgICAgICAgICAgIHJlcXVlc3Qub25jZSgncmV0cnknLCAobmV3UmV0cnlDb3VudCwgZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c0JvZHkgPT09ICgoX2EgPSBlcnJvci5yZXF1ZXN0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub3B0aW9ucy5ib2R5KSAmJiBpc18xLmRlZmF1bHQubm9kZVN0cmVhbSgoX2IgPSBlcnJvci5yZXF1ZXN0KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iub3B0aW9ucy5ib2R5KSkge1xuICAgICAgICAgICAgICAgICAgICBvbkVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtYWtlUmVxdWVzdChuZXdSZXRyeUNvdW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcHJveHlfZXZlbnRzXzEuZGVmYXVsdChyZXF1ZXN0LCBlbWl0dGVyLCBwcm94aWVkUmVxdWVzdEV2ZW50cyk7XG4gICAgICAgIH07XG4gICAgICAgIG1ha2VSZXF1ZXN0KDApO1xuICAgIH0pO1xuICAgIHByb21pc2Uub24gPSAoZXZlbnQsIGZuKSA9PiB7XG4gICAgICAgIGVtaXR0ZXIub24oZXZlbnQsIGZuKTtcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfTtcbiAgICBjb25zdCBzaG9ydGN1dCA9IChyZXNwb25zZVR5cGUpID0+IHtcbiAgICAgICAgY29uc3QgbmV3UHJvbWlzZSA9IChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAvLyBXYWl0IHVudGlsIGRvd25sb2FkaW5nIGhhcyBlbmRlZFxuICAgICAgICAgICAgYXdhaXQgcHJvbWlzZTtcbiAgICAgICAgICAgIGNvbnN0IHsgb3B0aW9ucyB9ID0gZ2xvYmFsUmVzcG9uc2UucmVxdWVzdDtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZV9ib2R5XzEuZGVmYXVsdChnbG9iYWxSZXNwb25zZSwgcmVzcG9uc2VUeXBlLCBvcHRpb25zLnBhcnNlSnNvbiwgb3B0aW9ucy5lbmNvZGluZyk7XG4gICAgICAgIH0pKCk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG5ld1Byb21pc2UsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHByb21pc2UpKTtcbiAgICAgICAgcmV0dXJuIG5ld1Byb21pc2U7XG4gICAgfTtcbiAgICBwcm9taXNlLmpzb24gPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgaGVhZGVycyB9ID0gZ2xvYmFsUmVxdWVzdC5vcHRpb25zO1xuICAgICAgICBpZiAoIWdsb2JhbFJlcXVlc3Qud3JpdGFibGVGaW5pc2hlZCAmJiBoZWFkZXJzLmFjY2VwdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBoZWFkZXJzLmFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2hvcnRjdXQoJ2pzb24nKTtcbiAgICB9O1xuICAgIHByb21pc2UuYnVmZmVyID0gKCkgPT4gc2hvcnRjdXQoJ2J1ZmZlcicpO1xuICAgIHByb21pc2UudGV4dCA9ICgpID0+IHNob3J0Y3V0KCd0ZXh0Jyk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5leHBvcnRzLmRlZmF1bHQgPSBhc1Byb21pc2U7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vdHlwZXNcIiksIGV4cG9ydHMpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/as-promise/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/as-promise/normalize-arguments.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/got/dist/source/as-promise/normalize-arguments.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst is_1 = __webpack_require__(/*! @sindresorhus/is */ \"(ssr)/./node_modules/@sindresorhus/is/dist/index.js\");\nconst normalizeArguments = (options, defaults) => {\n    if (is_1.default.null_(options.encoding)) {\n        throw new TypeError('To get a Buffer, set `options.responseType` to `buffer` instead');\n    }\n    is_1.assert.any([is_1.default.string, is_1.default.undefined], options.encoding);\n    is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.resolveBodyOnly);\n    is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.methodRewriting);\n    is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.isStream);\n    is_1.assert.any([is_1.default.string, is_1.default.undefined], options.responseType);\n    // `options.responseType`\n    if (options.responseType === undefined) {\n        options.responseType = 'text';\n    }\n    // `options.retry`\n    const { retry } = options;\n    if (defaults) {\n        options.retry = { ...defaults.retry };\n    }\n    else {\n        options.retry = {\n            calculateDelay: retryObject => retryObject.computedValue,\n            limit: 0,\n            methods: [],\n            statusCodes: [],\n            errorCodes: [],\n            maxRetryAfter: undefined\n        };\n    }\n    if (is_1.default.object(retry)) {\n        options.retry = {\n            ...options.retry,\n            ...retry\n        };\n        options.retry.methods = [...new Set(options.retry.methods.map(method => method.toUpperCase()))];\n        options.retry.statusCodes = [...new Set(options.retry.statusCodes)];\n        options.retry.errorCodes = [...new Set(options.retry.errorCodes)];\n    }\n    else if (is_1.default.number(retry)) {\n        options.retry.limit = retry;\n    }\n    if (is_1.default.undefined(options.retry.maxRetryAfter)) {\n        options.retry.maxRetryAfter = Math.min(\n        // TypeScript is not smart enough to handle `.filter(x => is.number(x))`.\n        // eslint-disable-next-line unicorn/no-fn-reference-in-iterator\n        ...[options.timeout.request, options.timeout.connect].filter(is_1.default.number));\n    }\n    // `options.pagination`\n    if (is_1.default.object(options.pagination)) {\n        if (defaults) {\n            options.pagination = {\n                ...defaults.pagination,\n                ...options.pagination\n            };\n        }\n        const { pagination } = options;\n        if (!is_1.default.function_(pagination.transform)) {\n            throw new Error('`options.pagination.transform` must be implemented');\n        }\n        if (!is_1.default.function_(pagination.shouldContinue)) {\n            throw new Error('`options.pagination.shouldContinue` must be implemented');\n        }\n        if (!is_1.default.function_(pagination.filter)) {\n            throw new TypeError('`options.pagination.filter` must be implemented');\n        }\n        if (!is_1.default.function_(pagination.paginate)) {\n            throw new Error('`options.pagination.paginate` must be implemented');\n        }\n    }\n    // JSON mode\n    if (options.responseType === 'json' && options.headers.accept === undefined) {\n        options.headers.accept = 'application/json';\n    }\n    return options;\n};\nexports[\"default\"] = normalizeArguments;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2dvdC9kaXN0L3NvdXJjZS9hcy1wcm9taXNlL25vcm1hbGl6ZS1hcmd1bWVudHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsYUFBYSxtQkFBTyxDQUFDLDZFQUFrQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGFBQWE7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL0Bwb3J0a2V5L25leHQtZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9zd2FybS1qcy9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL2FzLXByb21pc2Uvbm9ybWFsaXplLWFyZ3VtZW50cy5qcz9iY2QwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgaXNfMSA9IHJlcXVpcmUoXCJAc2luZHJlc29yaHVzL2lzXCIpO1xuY29uc3Qgbm9ybWFsaXplQXJndW1lbnRzID0gKG9wdGlvbnMsIGRlZmF1bHRzKSA9PiB7XG4gICAgaWYgKGlzXzEuZGVmYXVsdC5udWxsXyhvcHRpb25zLmVuY29kaW5nKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUbyBnZXQgYSBCdWZmZXIsIHNldCBgb3B0aW9ucy5yZXNwb25zZVR5cGVgIHRvIGBidWZmZXJgIGluc3RlYWQnKTtcbiAgICB9XG4gICAgaXNfMS5hc3NlcnQuYW55KFtpc18xLmRlZmF1bHQuc3RyaW5nLCBpc18xLmRlZmF1bHQudW5kZWZpbmVkXSwgb3B0aW9ucy5lbmNvZGluZyk7XG4gICAgaXNfMS5hc3NlcnQuYW55KFtpc18xLmRlZmF1bHQuYm9vbGVhbiwgaXNfMS5kZWZhdWx0LnVuZGVmaW5lZF0sIG9wdGlvbnMucmVzb2x2ZUJvZHlPbmx5KTtcbiAgICBpc18xLmFzc2VydC5hbnkoW2lzXzEuZGVmYXVsdC5ib29sZWFuLCBpc18xLmRlZmF1bHQudW5kZWZpbmVkXSwgb3B0aW9ucy5tZXRob2RSZXdyaXRpbmcpO1xuICAgIGlzXzEuYXNzZXJ0LmFueShbaXNfMS5kZWZhdWx0LmJvb2xlYW4sIGlzXzEuZGVmYXVsdC51bmRlZmluZWRdLCBvcHRpb25zLmlzU3RyZWFtKTtcbiAgICBpc18xLmFzc2VydC5hbnkoW2lzXzEuZGVmYXVsdC5zdHJpbmcsIGlzXzEuZGVmYXVsdC51bmRlZmluZWRdLCBvcHRpb25zLnJlc3BvbnNlVHlwZSk7XG4gICAgLy8gYG9wdGlvbnMucmVzcG9uc2VUeXBlYFxuICAgIGlmIChvcHRpb25zLnJlc3BvbnNlVHlwZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG9wdGlvbnMucmVzcG9uc2VUeXBlID0gJ3RleHQnO1xuICAgIH1cbiAgICAvLyBgb3B0aW9ucy5yZXRyeWBcbiAgICBjb25zdCB7IHJldHJ5IH0gPSBvcHRpb25zO1xuICAgIGlmIChkZWZhdWx0cykge1xuICAgICAgICBvcHRpb25zLnJldHJ5ID0geyAuLi5kZWZhdWx0cy5yZXRyeSB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgb3B0aW9ucy5yZXRyeSA9IHtcbiAgICAgICAgICAgIGNhbGN1bGF0ZURlbGF5OiByZXRyeU9iamVjdCA9PiByZXRyeU9iamVjdC5jb21wdXRlZFZhbHVlLFxuICAgICAgICAgICAgbGltaXQ6IDAsXG4gICAgICAgICAgICBtZXRob2RzOiBbXSxcbiAgICAgICAgICAgIHN0YXR1c0NvZGVzOiBbXSxcbiAgICAgICAgICAgIGVycm9yQ29kZXM6IFtdLFxuICAgICAgICAgICAgbWF4UmV0cnlBZnRlcjogdW5kZWZpbmVkXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChpc18xLmRlZmF1bHQub2JqZWN0KHJldHJ5KSkge1xuICAgICAgICBvcHRpb25zLnJldHJ5ID0ge1xuICAgICAgICAgICAgLi4ub3B0aW9ucy5yZXRyeSxcbiAgICAgICAgICAgIC4uLnJldHJ5XG4gICAgICAgIH07XG4gICAgICAgIG9wdGlvbnMucmV0cnkubWV0aG9kcyA9IFsuLi5uZXcgU2V0KG9wdGlvbnMucmV0cnkubWV0aG9kcy5tYXAobWV0aG9kID0+IG1ldGhvZC50b1VwcGVyQ2FzZSgpKSldO1xuICAgICAgICBvcHRpb25zLnJldHJ5LnN0YXR1c0NvZGVzID0gWy4uLm5ldyBTZXQob3B0aW9ucy5yZXRyeS5zdGF0dXNDb2RlcyldO1xuICAgICAgICBvcHRpb25zLnJldHJ5LmVycm9yQ29kZXMgPSBbLi4ubmV3IFNldChvcHRpb25zLnJldHJ5LmVycm9yQ29kZXMpXTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNfMS5kZWZhdWx0Lm51bWJlcihyZXRyeSkpIHtcbiAgICAgICAgb3B0aW9ucy5yZXRyeS5saW1pdCA9IHJldHJ5O1xuICAgIH1cbiAgICBpZiAoaXNfMS5kZWZhdWx0LnVuZGVmaW5lZChvcHRpb25zLnJldHJ5Lm1heFJldHJ5QWZ0ZXIpKSB7XG4gICAgICAgIG9wdGlvbnMucmV0cnkubWF4UmV0cnlBZnRlciA9IE1hdGgubWluKFxuICAgICAgICAvLyBUeXBlU2NyaXB0IGlzIG5vdCBzbWFydCBlbm91Z2ggdG8gaGFuZGxlIGAuZmlsdGVyKHggPT4gaXMubnVtYmVyKHgpKWAuXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB1bmljb3JuL25vLWZuLXJlZmVyZW5jZS1pbi1pdGVyYXRvclxuICAgICAgICAuLi5bb3B0aW9ucy50aW1lb3V0LnJlcXVlc3QsIG9wdGlvbnMudGltZW91dC5jb25uZWN0XS5maWx0ZXIoaXNfMS5kZWZhdWx0Lm51bWJlcikpO1xuICAgIH1cbiAgICAvLyBgb3B0aW9ucy5wYWdpbmF0aW9uYFxuICAgIGlmIChpc18xLmRlZmF1bHQub2JqZWN0KG9wdGlvbnMucGFnaW5hdGlvbikpIHtcbiAgICAgICAgaWYgKGRlZmF1bHRzKSB7XG4gICAgICAgICAgICBvcHRpb25zLnBhZ2luYXRpb24gPSB7XG4gICAgICAgICAgICAgICAgLi4uZGVmYXVsdHMucGFnaW5hdGlvbixcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLnBhZ2luYXRpb25cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBwYWdpbmF0aW9uIH0gPSBvcHRpb25zO1xuICAgICAgICBpZiAoIWlzXzEuZGVmYXVsdC5mdW5jdGlvbl8ocGFnaW5hdGlvbi50cmFuc2Zvcm0pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2BvcHRpb25zLnBhZ2luYXRpb24udHJhbnNmb3JtYCBtdXN0IGJlIGltcGxlbWVudGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc18xLmRlZmF1bHQuZnVuY3Rpb25fKHBhZ2luYXRpb24uc2hvdWxkQ29udGludWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2BvcHRpb25zLnBhZ2luYXRpb24uc2hvdWxkQ29udGludWVgIG11c3QgYmUgaW1wbGVtZW50ZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzXzEuZGVmYXVsdC5mdW5jdGlvbl8ocGFnaW5hdGlvbi5maWx0ZXIpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdgb3B0aW9ucy5wYWdpbmF0aW9uLmZpbHRlcmAgbXVzdCBiZSBpbXBsZW1lbnRlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNfMS5kZWZhdWx0LmZ1bmN0aW9uXyhwYWdpbmF0aW9uLnBhZ2luYXRlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdgb3B0aW9ucy5wYWdpbmF0aW9uLnBhZ2luYXRlYCBtdXN0IGJlIGltcGxlbWVudGVkJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gSlNPTiBtb2RlXG4gICAgaWYgKG9wdGlvbnMucmVzcG9uc2VUeXBlID09PSAnanNvbicgJiYgb3B0aW9ucy5oZWFkZXJzLmFjY2VwdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG9wdGlvbnMuaGVhZGVycy5hY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25zO1xufTtcbmV4cG9ydHMuZGVmYXVsdCA9IG5vcm1hbGl6ZUFyZ3VtZW50cztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/as-promise/normalize-arguments.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/as-promise/parse-body.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/got/dist/source/as-promise/parse-body.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst types_1 = __webpack_require__(/*! ./types */ \"(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/as-promise/types.js\");\nconst parseBody = (response, responseType, parseJson, encoding) => {\n    const { rawBody } = response;\n    try {\n        if (responseType === 'text') {\n            return rawBody.toString(encoding);\n        }\n        if (responseType === 'json') {\n            return rawBody.length === 0 ? '' : parseJson(rawBody.toString());\n        }\n        if (responseType === 'buffer') {\n            return rawBody;\n        }\n        throw new types_1.ParseError({\n            message: `Unknown body type '${responseType}'`,\n            name: 'Error'\n        }, response);\n    }\n    catch (error) {\n        throw new types_1.ParseError(error, response);\n    }\n};\nexports[\"default\"] = parseBody;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2dvdC9kaXN0L3NvdXJjZS9hcy1wcm9taXNlL3BhcnNlLWJvZHkuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZ0JBQWdCLG1CQUFPLENBQUMsK0ZBQVM7QUFDakM7QUFDQSxZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxhQUFhO0FBQ3hEO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL0Bwb3J0a2V5L25leHQtZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9zd2FybS1qcy9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL2FzLXByb21pc2UvcGFyc2UtYm9keS5qcz81NTg5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgdHlwZXNfMSA9IHJlcXVpcmUoXCIuL3R5cGVzXCIpO1xuY29uc3QgcGFyc2VCb2R5ID0gKHJlc3BvbnNlLCByZXNwb25zZVR5cGUsIHBhcnNlSnNvbiwgZW5jb2RpbmcpID0+IHtcbiAgICBjb25zdCB7IHJhd0JvZHkgfSA9IHJlc3BvbnNlO1xuICAgIHRyeSB7XG4gICAgICAgIGlmIChyZXNwb25zZVR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgcmV0dXJuIHJhd0JvZHkudG9TdHJpbmcoZW5jb2RpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXNwb25zZVR5cGUgPT09ICdqc29uJykge1xuICAgICAgICAgICAgcmV0dXJuIHJhd0JvZHkubGVuZ3RoID09PSAwID8gJycgOiBwYXJzZUpzb24ocmF3Qm9keS50b1N0cmluZygpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzcG9uc2VUeXBlID09PSAnYnVmZmVyJykge1xuICAgICAgICAgICAgcmV0dXJuIHJhd0JvZHk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IHR5cGVzXzEuUGFyc2VFcnJvcih7XG4gICAgICAgICAgICBtZXNzYWdlOiBgVW5rbm93biBib2R5IHR5cGUgJyR7cmVzcG9uc2VUeXBlfSdgLFxuICAgICAgICAgICAgbmFtZTogJ0Vycm9yJ1xuICAgICAgICB9LCByZXNwb25zZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgdHlwZXNfMS5QYXJzZUVycm9yKGVycm9yLCByZXNwb25zZSk7XG4gICAgfVxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IHBhcnNlQm9keTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/as-promise/parse-body.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/as-promise/types.js":
/*!********************************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/got/dist/source/as-promise/types.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CancelError = exports.ParseError = void 0;\nconst core_1 = __webpack_require__(/*! ../core */ \"(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/index.js\");\n/**\nAn error to be thrown when server response code is 2xx, and parsing body fails.\nIncludes a `response` property.\n*/\nclass ParseError extends core_1.RequestError {\n    constructor(error, response) {\n        const { options } = response.request;\n        super(`${error.message} in \"${options.url.toString()}\"`, error, response.request);\n        this.name = 'ParseError';\n        this.code = this.code === 'ERR_GOT_REQUEST_ERROR' ? 'ERR_BODY_PARSE_FAILURE' : this.code;\n    }\n}\nexports.ParseError = ParseError;\n/**\nAn error to be thrown when the request is aborted with `.cancel()`.\n*/\nclass CancelError extends core_1.RequestError {\n    constructor(request) {\n        super('Promise was canceled', {}, request);\n        this.name = 'CancelError';\n        this.code = 'ERR_CANCELED';\n    }\n    get isCanceled() {\n        return true;\n    }\n}\nexports.CancelError = CancelError;\n__exportStar(__webpack_require__(/*! ../core */ \"(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/index.js\"), exports);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2dvdC9kaXN0L3NvdXJjZS9hcy1wcm9taXNlL3R5cGVzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBLG1DQUFtQyxvQ0FBb0MsZ0JBQWdCO0FBQ3ZGLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxtQkFBbUIsR0FBRyxrQkFBa0I7QUFDeEMsZUFBZSxtQkFBTyxDQUFDLHlGQUFTO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixVQUFVO0FBQzFCLGlCQUFpQixlQUFlLE1BQU0sdUJBQXVCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkIsYUFBYSxtQkFBTyxDQUFDLHlGQUFTIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBvcnRrZXkvbmV4dC1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL3N3YXJtLWpzL25vZGVfbW9kdWxlcy9nb3QvZGlzdC9zb3VyY2UvYXMtcHJvbWlzZS90eXBlcy5qcz8xYThiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH0pO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNhbmNlbEVycm9yID0gZXhwb3J0cy5QYXJzZUVycm9yID0gdm9pZCAwO1xuY29uc3QgY29yZV8xID0gcmVxdWlyZShcIi4uL2NvcmVcIik7XG4vKipcbkFuIGVycm9yIHRvIGJlIHRocm93biB3aGVuIHNlcnZlciByZXNwb25zZSBjb2RlIGlzIDJ4eCwgYW5kIHBhcnNpbmcgYm9keSBmYWlscy5cbkluY2x1ZGVzIGEgYHJlc3BvbnNlYCBwcm9wZXJ0eS5cbiovXG5jbGFzcyBQYXJzZUVycm9yIGV4dGVuZHMgY29yZV8xLlJlcXVlc3RFcnJvciB7XG4gICAgY29uc3RydWN0b3IoZXJyb3IsIHJlc3BvbnNlKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucyB9ID0gcmVzcG9uc2UucmVxdWVzdDtcbiAgICAgICAgc3VwZXIoYCR7ZXJyb3IubWVzc2FnZX0gaW4gXCIke29wdGlvbnMudXJsLnRvU3RyaW5nKCl9XCJgLCBlcnJvciwgcmVzcG9uc2UucmVxdWVzdCk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdQYXJzZUVycm9yJztcbiAgICAgICAgdGhpcy5jb2RlID0gdGhpcy5jb2RlID09PSAnRVJSX0dPVF9SRVFVRVNUX0VSUk9SJyA/ICdFUlJfQk9EWV9QQVJTRV9GQUlMVVJFJyA6IHRoaXMuY29kZTtcbiAgICB9XG59XG5leHBvcnRzLlBhcnNlRXJyb3IgPSBQYXJzZUVycm9yO1xuLyoqXG5BbiBlcnJvciB0byBiZSB0aHJvd24gd2hlbiB0aGUgcmVxdWVzdCBpcyBhYm9ydGVkIHdpdGggYC5jYW5jZWwoKWAuXG4qL1xuY2xhc3MgQ2FuY2VsRXJyb3IgZXh0ZW5kcyBjb3JlXzEuUmVxdWVzdEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihyZXF1ZXN0KSB7XG4gICAgICAgIHN1cGVyKCdQcm9taXNlIHdhcyBjYW5jZWxlZCcsIHt9LCByZXF1ZXN0KTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ0NhbmNlbEVycm9yJztcbiAgICAgICAgdGhpcy5jb2RlID0gJ0VSUl9DQU5DRUxFRCc7XG4gICAgfVxuICAgIGdldCBpc0NhbmNlbGVkKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5leHBvcnRzLkNhbmNlbEVycm9yID0gQ2FuY2VsRXJyb3I7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4uL2NvcmVcIiksIGV4cG9ydHMpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/as-promise/types.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/calculate-retry-delay.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/got/dist/source/core/calculate-retry-delay.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.retryAfterStatusCodes = void 0;\nexports.retryAfterStatusCodes = new Set([413, 429, 503]);\nconst calculateRetryDelay = ({ attemptCount, retryOptions, error, retryAfter }) => {\n    if (attemptCount > retryOptions.limit) {\n        return 0;\n    }\n    const hasMethod = retryOptions.methods.includes(error.options.method);\n    const hasErrorCode = retryOptions.errorCodes.includes(error.code);\n    const hasStatusCode = error.response && retryOptions.statusCodes.includes(error.response.statusCode);\n    if (!hasMethod || (!hasErrorCode && !hasStatusCode)) {\n        return 0;\n    }\n    if (error.response) {\n        if (retryAfter) {\n            if (retryOptions.maxRetryAfter === undefined || retryAfter > retryOptions.maxRetryAfter) {\n                return 0;\n            }\n            return retryAfter;\n        }\n        if (error.response.statusCode === 413) {\n            return 0;\n        }\n    }\n    const noise = Math.random() * 100;\n    return ((2 ** (attemptCount - 1)) * 1000) + noise;\n};\nexports[\"default\"] = calculateRetryDelay;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2dvdC9kaXN0L3NvdXJjZS9jb3JlL2NhbGN1bGF0ZS1yZXRyeS1kZWxheS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCw2QkFBNkI7QUFDN0IsNkJBQTZCO0FBQzdCLCtCQUErQiwrQ0FBK0M7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBvcnRrZXkvbmV4dC1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL3N3YXJtLWpzL25vZGVfbW9kdWxlcy9nb3QvZGlzdC9zb3VyY2UvY29yZS9jYWxjdWxhdGUtcmV0cnktZGVsYXkuanM/YjUxMCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmV0cnlBZnRlclN0YXR1c0NvZGVzID0gdm9pZCAwO1xuZXhwb3J0cy5yZXRyeUFmdGVyU3RhdHVzQ29kZXMgPSBuZXcgU2V0KFs0MTMsIDQyOSwgNTAzXSk7XG5jb25zdCBjYWxjdWxhdGVSZXRyeURlbGF5ID0gKHsgYXR0ZW1wdENvdW50LCByZXRyeU9wdGlvbnMsIGVycm9yLCByZXRyeUFmdGVyIH0pID0+IHtcbiAgICBpZiAoYXR0ZW1wdENvdW50ID4gcmV0cnlPcHRpb25zLmxpbWl0KSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBjb25zdCBoYXNNZXRob2QgPSByZXRyeU9wdGlvbnMubWV0aG9kcy5pbmNsdWRlcyhlcnJvci5vcHRpb25zLm1ldGhvZCk7XG4gICAgY29uc3QgaGFzRXJyb3JDb2RlID0gcmV0cnlPcHRpb25zLmVycm9yQ29kZXMuaW5jbHVkZXMoZXJyb3IuY29kZSk7XG4gICAgY29uc3QgaGFzU3RhdHVzQ29kZSA9IGVycm9yLnJlc3BvbnNlICYmIHJldHJ5T3B0aW9ucy5zdGF0dXNDb2Rlcy5pbmNsdWRlcyhlcnJvci5yZXNwb25zZS5zdGF0dXNDb2RlKTtcbiAgICBpZiAoIWhhc01ldGhvZCB8fCAoIWhhc0Vycm9yQ29kZSAmJiAhaGFzU3RhdHVzQ29kZSkpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGlmIChlcnJvci5yZXNwb25zZSkge1xuICAgICAgICBpZiAocmV0cnlBZnRlcikge1xuICAgICAgICAgICAgaWYgKHJldHJ5T3B0aW9ucy5tYXhSZXRyeUFmdGVyID09PSB1bmRlZmluZWQgfHwgcmV0cnlBZnRlciA+IHJldHJ5T3B0aW9ucy5tYXhSZXRyeUFmdGVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmV0cnlBZnRlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzQ29kZSA9PT0gNDEzKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBub2lzZSA9IE1hdGgucmFuZG9tKCkgKiAxMDA7XG4gICAgcmV0dXJuICgoMiAqKiAoYXR0ZW1wdENvdW50IC0gMSkpICogMTAwMCkgKyBub2lzZTtcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBjYWxjdWxhdGVSZXRyeURlbGF5O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/calculate-retry-delay.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/index.js":
/*!**************************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/got/dist/source/core/index.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.UnsupportedProtocolError = exports.ReadError = exports.TimeoutError = exports.UploadError = exports.CacheError = exports.HTTPError = exports.MaxRedirectsError = exports.RequestError = exports.setNonEnumerableProperties = exports.knownHookEvents = exports.withoutBody = exports.kIsNormalizedAlready = void 0;\nconst util_1 = __webpack_require__(/*! util */ \"util\");\nconst stream_1 = __webpack_require__(/*! stream */ \"stream\");\nconst fs_1 = __webpack_require__(/*! fs */ \"fs\");\nconst url_1 = __webpack_require__(/*! url */ \"url\");\nconst http = __webpack_require__(/*! http */ \"http\");\nconst http_1 = __webpack_require__(/*! http */ \"http\");\nconst https = __webpack_require__(/*! https */ \"https\");\nconst http_timer_1 = __webpack_require__(/*! @szmarczak/http-timer */ \"(ssr)/./node_modules/swarm-js/node_modules/@szmarczak/http-timer/dist/source/index.js\");\nconst cacheable_lookup_1 = __webpack_require__(/*! cacheable-lookup */ \"(ssr)/./node_modules/swarm-js/node_modules/cacheable-lookup/source/index.js\");\nconst CacheableRequest = __webpack_require__(/*! cacheable-request */ \"(ssr)/./node_modules/cacheable-request/src/index.js\");\nconst decompressResponse = __webpack_require__(/*! decompress-response */ \"(ssr)/./node_modules/decompress-response/index.js\");\n// @ts-expect-error Missing types\nconst http2wrapper = __webpack_require__(/*! http2-wrapper */ \"(ssr)/./node_modules/swarm-js/node_modules/http2-wrapper/source/index.js\");\nconst lowercaseKeys = __webpack_require__(/*! lowercase-keys */ \"(ssr)/./node_modules/lowercase-keys/index.js\");\nconst is_1 = __webpack_require__(/*! @sindresorhus/is */ \"(ssr)/./node_modules/@sindresorhus/is/dist/index.js\");\nconst get_body_size_1 = __webpack_require__(/*! ./utils/get-body-size */ \"(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/get-body-size.js\");\nconst is_form_data_1 = __webpack_require__(/*! ./utils/is-form-data */ \"(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/is-form-data.js\");\nconst proxy_events_1 = __webpack_require__(/*! ./utils/proxy-events */ \"(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/proxy-events.js\");\nconst timed_out_1 = __webpack_require__(/*! ./utils/timed-out */ \"(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/timed-out.js\");\nconst url_to_options_1 = __webpack_require__(/*! ./utils/url-to-options */ \"(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/url-to-options.js\");\nconst options_to_url_1 = __webpack_require__(/*! ./utils/options-to-url */ \"(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/options-to-url.js\");\nconst weakable_map_1 = __webpack_require__(/*! ./utils/weakable-map */ \"(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/weakable-map.js\");\nconst get_buffer_1 = __webpack_require__(/*! ./utils/get-buffer */ \"(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/get-buffer.js\");\nconst dns_ip_version_1 = __webpack_require__(/*! ./utils/dns-ip-version */ \"(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/dns-ip-version.js\");\nconst is_response_ok_1 = __webpack_require__(/*! ./utils/is-response-ok */ \"(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/is-response-ok.js\");\nconst deprecation_warning_1 = __webpack_require__(/*! ../utils/deprecation-warning */ \"(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/utils/deprecation-warning.js\");\nconst normalize_arguments_1 = __webpack_require__(/*! ../as-promise/normalize-arguments */ \"(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/as-promise/normalize-arguments.js\");\nconst calculate_retry_delay_1 = __webpack_require__(/*! ./calculate-retry-delay */ \"(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/calculate-retry-delay.js\");\nlet globalDnsCache;\nconst kRequest = Symbol('request');\nconst kResponse = Symbol('response');\nconst kResponseSize = Symbol('responseSize');\nconst kDownloadedSize = Symbol('downloadedSize');\nconst kBodySize = Symbol('bodySize');\nconst kUploadedSize = Symbol('uploadedSize');\nconst kServerResponsesPiped = Symbol('serverResponsesPiped');\nconst kUnproxyEvents = Symbol('unproxyEvents');\nconst kIsFromCache = Symbol('isFromCache');\nconst kCancelTimeouts = Symbol('cancelTimeouts');\nconst kStartedReading = Symbol('startedReading');\nconst kStopReading = Symbol('stopReading');\nconst kTriggerRead = Symbol('triggerRead');\nconst kBody = Symbol('body');\nconst kJobs = Symbol('jobs');\nconst kOriginalResponse = Symbol('originalResponse');\nconst kRetryTimeout = Symbol('retryTimeout');\nexports.kIsNormalizedAlready = Symbol('isNormalizedAlready');\nconst supportsBrotli = is_1.default.string(process.versions.brotli);\nexports.withoutBody = new Set(['GET', 'HEAD']);\nexports.knownHookEvents = [\n    'init',\n    'beforeRequest',\n    'beforeRedirect',\n    'beforeError',\n    'beforeRetry',\n    // Promise-Only\n    'afterResponse'\n];\nfunction validateSearchParameters(searchParameters) {\n    // eslint-disable-next-line guard-for-in\n    for (const key in searchParameters) {\n        const value = searchParameters[key];\n        if (!is_1.default.string(value) && !is_1.default.number(value) && !is_1.default.boolean(value) && !is_1.default.null_(value) && !is_1.default.undefined(value)) {\n            throw new TypeError(`The \\`searchParams\\` value '${String(value)}' must be a string, number, boolean or null`);\n        }\n    }\n}\nfunction isClientRequest(clientRequest) {\n    return is_1.default.object(clientRequest) && !('statusCode' in clientRequest);\n}\nconst cacheableStore = new weakable_map_1.default();\nconst waitForOpenFile = async (file) => new Promise((resolve, reject) => {\n    const onError = (error) => {\n        reject(error);\n    };\n    // Node.js 12 has incomplete types\n    if (!file.pending) {\n        resolve();\n    }\n    file.once('error', onError);\n    file.once('ready', () => {\n        file.off('error', onError);\n        resolve();\n    });\n});\nconst redirectCodes = new Set([300, 301, 302, 303, 304, 307, 308]);\nconst nonEnumerableProperties = [\n    'context',\n    'body',\n    'json',\n    'form'\n];\nexports.setNonEnumerableProperties = (sources, to) => {\n    // Non enumerable properties shall not be merged\n    const properties = {};\n    for (const source of sources) {\n        if (!source) {\n            continue;\n        }\n        for (const name of nonEnumerableProperties) {\n            if (!(name in source)) {\n                continue;\n            }\n            properties[name] = {\n                writable: true,\n                configurable: true,\n                enumerable: false,\n                // @ts-expect-error TS doesn't see the check above\n                value: source[name]\n            };\n        }\n    }\n    Object.defineProperties(to, properties);\n};\n/**\nAn error to be thrown when a request fails.\nContains a `code` property with error class code, like `ECONNREFUSED`.\n*/\nclass RequestError extends Error {\n    constructor(message, error, self) {\n        var _a, _b;\n        super(message);\n        Error.captureStackTrace(this, this.constructor);\n        this.name = 'RequestError';\n        this.code = (_a = error.code) !== null && _a !== void 0 ? _a : 'ERR_GOT_REQUEST_ERROR';\n        if (self instanceof Request) {\n            Object.defineProperty(this, 'request', {\n                enumerable: false,\n                value: self\n            });\n            Object.defineProperty(this, 'response', {\n                enumerable: false,\n                value: self[kResponse]\n            });\n            Object.defineProperty(this, 'options', {\n                // This fails because of TS 3.7.2 useDefineForClassFields\n                // Ref: https://github.com/microsoft/TypeScript/issues/34972\n                enumerable: false,\n                value: self.options\n            });\n        }\n        else {\n            Object.defineProperty(this, 'options', {\n                // This fails because of TS 3.7.2 useDefineForClassFields\n                // Ref: https://github.com/microsoft/TypeScript/issues/34972\n                enumerable: false,\n                value: self\n            });\n        }\n        this.timings = (_b = this.request) === null || _b === void 0 ? void 0 : _b.timings;\n        // Recover the original stacktrace\n        if (is_1.default.string(error.stack) && is_1.default.string(this.stack)) {\n            const indexOfMessage = this.stack.indexOf(this.message) + this.message.length;\n            const thisStackTrace = this.stack.slice(indexOfMessage).split('\\n').reverse();\n            const errorStackTrace = error.stack.slice(error.stack.indexOf(error.message) + error.message.length).split('\\n').reverse();\n            // Remove duplicated traces\n            while (errorStackTrace.length !== 0 && errorStackTrace[0] === thisStackTrace[0]) {\n                thisStackTrace.shift();\n            }\n            this.stack = `${this.stack.slice(0, indexOfMessage)}${thisStackTrace.reverse().join('\\n')}${errorStackTrace.reverse().join('\\n')}`;\n        }\n    }\n}\nexports.RequestError = RequestError;\n/**\nAn error to be thrown when the server redirects you more than ten times.\nIncludes a `response` property.\n*/\nclass MaxRedirectsError extends RequestError {\n    constructor(request) {\n        super(`Redirected ${request.options.maxRedirects} times. Aborting.`, {}, request);\n        this.name = 'MaxRedirectsError';\n        this.code = 'ERR_TOO_MANY_REDIRECTS';\n    }\n}\nexports.MaxRedirectsError = MaxRedirectsError;\n/**\nAn error to be thrown when the server response code is not 2xx nor 3xx if `options.followRedirect` is `true`, but always except for 304.\nIncludes a `response` property.\n*/\nclass HTTPError extends RequestError {\n    constructor(response) {\n        super(`Response code ${response.statusCode} (${response.statusMessage})`, {}, response.request);\n        this.name = 'HTTPError';\n        this.code = 'ERR_NON_2XX_3XX_RESPONSE';\n    }\n}\nexports.HTTPError = HTTPError;\n/**\nAn error to be thrown when a cache method fails.\nFor example, if the database goes down or there's a filesystem error.\n*/\nclass CacheError extends RequestError {\n    constructor(error, request) {\n        super(error.message, error, request);\n        this.name = 'CacheError';\n        this.code = this.code === 'ERR_GOT_REQUEST_ERROR' ? 'ERR_CACHE_ACCESS' : this.code;\n    }\n}\nexports.CacheError = CacheError;\n/**\nAn error to be thrown when the request body is a stream and an error occurs while reading from that stream.\n*/\nclass UploadError extends RequestError {\n    constructor(error, request) {\n        super(error.message, error, request);\n        this.name = 'UploadError';\n        this.code = this.code === 'ERR_GOT_REQUEST_ERROR' ? 'ERR_UPLOAD' : this.code;\n    }\n}\nexports.UploadError = UploadError;\n/**\nAn error to be thrown when the request is aborted due to a timeout.\nIncludes an `event` and `timings` property.\n*/\nclass TimeoutError extends RequestError {\n    constructor(error, timings, request) {\n        super(error.message, error, request);\n        this.name = 'TimeoutError';\n        this.event = error.event;\n        this.timings = timings;\n    }\n}\nexports.TimeoutError = TimeoutError;\n/**\nAn error to be thrown when reading from response stream fails.\n*/\nclass ReadError extends RequestError {\n    constructor(error, request) {\n        super(error.message, error, request);\n        this.name = 'ReadError';\n        this.code = this.code === 'ERR_GOT_REQUEST_ERROR' ? 'ERR_READING_RESPONSE_STREAM' : this.code;\n    }\n}\nexports.ReadError = ReadError;\n/**\nAn error to be thrown when given an unsupported protocol.\n*/\nclass UnsupportedProtocolError extends RequestError {\n    constructor(options) {\n        super(`Unsupported protocol \"${options.url.protocol}\"`, {}, options);\n        this.name = 'UnsupportedProtocolError';\n        this.code = 'ERR_UNSUPPORTED_PROTOCOL';\n    }\n}\nexports.UnsupportedProtocolError = UnsupportedProtocolError;\nconst proxiedRequestEvents = [\n    'socket',\n    'connect',\n    'continue',\n    'information',\n    'upgrade',\n    'timeout'\n];\nclass Request extends stream_1.Duplex {\n    constructor(url, options = {}, defaults) {\n        super({\n            // This must be false, to enable throwing after destroy\n            // It is used for retry logic in Promise API\n            autoDestroy: false,\n            // It needs to be zero because we're just proxying the data to another stream\n            highWaterMark: 0\n        });\n        this[kDownloadedSize] = 0;\n        this[kUploadedSize] = 0;\n        this.requestInitialized = false;\n        this[kServerResponsesPiped] = new Set();\n        this.redirects = [];\n        this[kStopReading] = false;\n        this[kTriggerRead] = false;\n        this[kJobs] = [];\n        this.retryCount = 0;\n        // TODO: Remove this when targeting Node.js >= 12\n        this._progressCallbacks = [];\n        const unlockWrite = () => this._unlockWrite();\n        const lockWrite = () => this._lockWrite();\n        this.on('pipe', (source) => {\n            source.prependListener('data', unlockWrite);\n            source.on('data', lockWrite);\n            source.prependListener('end', unlockWrite);\n            source.on('end', lockWrite);\n        });\n        this.on('unpipe', (source) => {\n            source.off('data', unlockWrite);\n            source.off('data', lockWrite);\n            source.off('end', unlockWrite);\n            source.off('end', lockWrite);\n        });\n        this.on('pipe', source => {\n            if (source instanceof http_1.IncomingMessage) {\n                this.options.headers = {\n                    ...source.headers,\n                    ...this.options.headers\n                };\n            }\n        });\n        const { json, body, form } = options;\n        if (json || body || form) {\n            this._lockWrite();\n        }\n        if (exports.kIsNormalizedAlready in options) {\n            this.options = options;\n        }\n        else {\n            try {\n                // @ts-expect-error Common TypeScript bug saying that `this.constructor` is not accessible\n                this.options = this.constructor.normalizeArguments(url, options, defaults);\n            }\n            catch (error) {\n                // TODO: Move this to `_destroy()`\n                if (is_1.default.nodeStream(options.body)) {\n                    options.body.destroy();\n                }\n                this.destroy(error);\n                return;\n            }\n        }\n        (async () => {\n            var _a;\n            try {\n                if (this.options.body instanceof fs_1.ReadStream) {\n                    await waitForOpenFile(this.options.body);\n                }\n                const { url: normalizedURL } = this.options;\n                if (!normalizedURL) {\n                    throw new TypeError('Missing `url` property');\n                }\n                this.requestUrl = normalizedURL.toString();\n                decodeURI(this.requestUrl);\n                await this._finalizeBody();\n                await this._makeRequest();\n                if (this.destroyed) {\n                    (_a = this[kRequest]) === null || _a === void 0 ? void 0 : _a.destroy();\n                    return;\n                }\n                // Queued writes etc.\n                for (const job of this[kJobs]) {\n                    job();\n                }\n                // Prevent memory leak\n                this[kJobs].length = 0;\n                this.requestInitialized = true;\n            }\n            catch (error) {\n                if (error instanceof RequestError) {\n                    this._beforeError(error);\n                    return;\n                }\n                // This is a workaround for https://github.com/nodejs/node/issues/33335\n                if (!this.destroyed) {\n                    this.destroy(error);\n                }\n            }\n        })();\n    }\n    static normalizeArguments(url, options, defaults) {\n        var _a, _b, _c, _d, _e;\n        const rawOptions = options;\n        if (is_1.default.object(url) && !is_1.default.urlInstance(url)) {\n            options = { ...defaults, ...url, ...options };\n        }\n        else {\n            if (url && options && options.url !== undefined) {\n                throw new TypeError('The `url` option is mutually exclusive with the `input` argument');\n            }\n            options = { ...defaults, ...options };\n            if (url !== undefined) {\n                options.url = url;\n            }\n            if (is_1.default.urlInstance(options.url)) {\n                options.url = new url_1.URL(options.url.toString());\n            }\n        }\n        // TODO: Deprecate URL options in Got 12.\n        // Support extend-specific options\n        if (options.cache === false) {\n            options.cache = undefined;\n        }\n        if (options.dnsCache === false) {\n            options.dnsCache = undefined;\n        }\n        // Nice type assertions\n        is_1.assert.any([is_1.default.string, is_1.default.undefined], options.method);\n        is_1.assert.any([is_1.default.object, is_1.default.undefined], options.headers);\n        is_1.assert.any([is_1.default.string, is_1.default.urlInstance, is_1.default.undefined], options.prefixUrl);\n        is_1.assert.any([is_1.default.object, is_1.default.undefined], options.cookieJar);\n        is_1.assert.any([is_1.default.object, is_1.default.string, is_1.default.undefined], options.searchParams);\n        is_1.assert.any([is_1.default.object, is_1.default.string, is_1.default.undefined], options.cache);\n        is_1.assert.any([is_1.default.object, is_1.default.number, is_1.default.undefined], options.timeout);\n        is_1.assert.any([is_1.default.object, is_1.default.undefined], options.context);\n        is_1.assert.any([is_1.default.object, is_1.default.undefined], options.hooks);\n        is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.decompress);\n        is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.ignoreInvalidCookies);\n        is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.followRedirect);\n        is_1.assert.any([is_1.default.number, is_1.default.undefined], options.maxRedirects);\n        is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.throwHttpErrors);\n        is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.http2);\n        is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.allowGetBody);\n        is_1.assert.any([is_1.default.string, is_1.default.undefined], options.localAddress);\n        is_1.assert.any([dns_ip_version_1.isDnsLookupIpVersion, is_1.default.undefined], options.dnsLookupIpVersion);\n        is_1.assert.any([is_1.default.object, is_1.default.undefined], options.https);\n        is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.rejectUnauthorized);\n        if (options.https) {\n            is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.https.rejectUnauthorized);\n            is_1.assert.any([is_1.default.function_, is_1.default.undefined], options.https.checkServerIdentity);\n            is_1.assert.any([is_1.default.string, is_1.default.object, is_1.default.array, is_1.default.undefined], options.https.certificateAuthority);\n            is_1.assert.any([is_1.default.string, is_1.default.object, is_1.default.array, is_1.default.undefined], options.https.key);\n            is_1.assert.any([is_1.default.string, is_1.default.object, is_1.default.array, is_1.default.undefined], options.https.certificate);\n            is_1.assert.any([is_1.default.string, is_1.default.undefined], options.https.passphrase);\n            is_1.assert.any([is_1.default.string, is_1.default.buffer, is_1.default.array, is_1.default.undefined], options.https.pfx);\n        }\n        is_1.assert.any([is_1.default.object, is_1.default.undefined], options.cacheOptions);\n        // `options.method`\n        if (is_1.default.string(options.method)) {\n            options.method = options.method.toUpperCase();\n        }\n        else {\n            options.method = 'GET';\n        }\n        // `options.headers`\n        if (options.headers === (defaults === null || defaults === void 0 ? void 0 : defaults.headers)) {\n            options.headers = { ...options.headers };\n        }\n        else {\n            options.headers = lowercaseKeys({ ...(defaults === null || defaults === void 0 ? void 0 : defaults.headers), ...options.headers });\n        }\n        // Disallow legacy `url.Url`\n        if ('slashes' in options) {\n            throw new TypeError('The legacy `url.Url` has been deprecated. Use `URL` instead.');\n        }\n        // `options.auth`\n        if ('auth' in options) {\n            throw new TypeError('Parameter `auth` is deprecated. Use `username` / `password` instead.');\n        }\n        // `options.searchParams`\n        if ('searchParams' in options) {\n            if (options.searchParams && options.searchParams !== (defaults === null || defaults === void 0 ? void 0 : defaults.searchParams)) {\n                let searchParameters;\n                if (is_1.default.string(options.searchParams) || (options.searchParams instanceof url_1.URLSearchParams)) {\n                    searchParameters = new url_1.URLSearchParams(options.searchParams);\n                }\n                else {\n                    validateSearchParameters(options.searchParams);\n                    searchParameters = new url_1.URLSearchParams();\n                    // eslint-disable-next-line guard-for-in\n                    for (const key in options.searchParams) {\n                        const value = options.searchParams[key];\n                        if (value === null) {\n                            searchParameters.append(key, '');\n                        }\n                        else if (value !== undefined) {\n                            searchParameters.append(key, value);\n                        }\n                    }\n                }\n                // `normalizeArguments()` is also used to merge options\n                (_a = defaults === null || defaults === void 0 ? void 0 : defaults.searchParams) === null || _a === void 0 ? void 0 : _a.forEach((value, key) => {\n                    // Only use default if one isn't already defined\n                    if (!searchParameters.has(key)) {\n                        searchParameters.append(key, value);\n                    }\n                });\n                options.searchParams = searchParameters;\n            }\n        }\n        // `options.username` & `options.password`\n        options.username = (_b = options.username) !== null && _b !== void 0 ? _b : '';\n        options.password = (_c = options.password) !== null && _c !== void 0 ? _c : '';\n        // `options.prefixUrl` & `options.url`\n        if (is_1.default.undefined(options.prefixUrl)) {\n            options.prefixUrl = (_d = defaults === null || defaults === void 0 ? void 0 : defaults.prefixUrl) !== null && _d !== void 0 ? _d : '';\n        }\n        else {\n            options.prefixUrl = options.prefixUrl.toString();\n            if (options.prefixUrl !== '' && !options.prefixUrl.endsWith('/')) {\n                options.prefixUrl += '/';\n            }\n        }\n        if (is_1.default.string(options.url)) {\n            if (options.url.startsWith('/')) {\n                throw new Error('`input` must not start with a slash when using `prefixUrl`');\n            }\n            options.url = options_to_url_1.default(options.prefixUrl + options.url, options);\n        }\n        else if ((is_1.default.undefined(options.url) && options.prefixUrl !== '') || options.protocol) {\n            options.url = options_to_url_1.default(options.prefixUrl, options);\n        }\n        if (options.url) {\n            if ('port' in options) {\n                delete options.port;\n            }\n            // Make it possible to change `options.prefixUrl`\n            let { prefixUrl } = options;\n            Object.defineProperty(options, 'prefixUrl', {\n                set: (value) => {\n                    const url = options.url;\n                    if (!url.href.startsWith(value)) {\n                        throw new Error(`Cannot change \\`prefixUrl\\` from ${prefixUrl} to ${value}: ${url.href}`);\n                    }\n                    options.url = new url_1.URL(value + url.href.slice(prefixUrl.length));\n                    prefixUrl = value;\n                },\n                get: () => prefixUrl\n            });\n            // Support UNIX sockets\n            let { protocol } = options.url;\n            if (protocol === 'unix:') {\n                protocol = 'http:';\n                options.url = new url_1.URL(`http://unix${options.url.pathname}${options.url.search}`);\n            }\n            // Set search params\n            if (options.searchParams) {\n                // eslint-disable-next-line @typescript-eslint/no-base-to-string\n                options.url.search = options.searchParams.toString();\n            }\n            // Protocol check\n            if (protocol !== 'http:' && protocol !== 'https:') {\n                throw new UnsupportedProtocolError(options);\n            }\n            // Update `username`\n            if (options.username === '') {\n                options.username = options.url.username;\n            }\n            else {\n                options.url.username = options.username;\n            }\n            // Update `password`\n            if (options.password === '') {\n                options.password = options.url.password;\n            }\n            else {\n                options.url.password = options.password;\n            }\n        }\n        // `options.cookieJar`\n        const { cookieJar } = options;\n        if (cookieJar) {\n            let { setCookie, getCookieString } = cookieJar;\n            is_1.assert.function_(setCookie);\n            is_1.assert.function_(getCookieString);\n            /* istanbul ignore next: Horrible `tough-cookie` v3 check */\n            if (setCookie.length === 4 && getCookieString.length === 0) {\n                setCookie = util_1.promisify(setCookie.bind(options.cookieJar));\n                getCookieString = util_1.promisify(getCookieString.bind(options.cookieJar));\n                options.cookieJar = {\n                    setCookie,\n                    getCookieString: getCookieString\n                };\n            }\n        }\n        // `options.cache`\n        const { cache } = options;\n        if (cache) {\n            if (!cacheableStore.has(cache)) {\n                cacheableStore.set(cache, new CacheableRequest(((requestOptions, handler) => {\n                    const result = requestOptions[kRequest](requestOptions, handler);\n                    // TODO: remove this when `cacheable-request` supports async request functions.\n                    if (is_1.default.promise(result)) {\n                        // @ts-expect-error\n                        // We only need to implement the error handler in order to support HTTP2 caching.\n                        // The result will be a promise anyway.\n                        result.once = (event, handler) => {\n                            if (event === 'error') {\n                                result.catch(handler);\n                            }\n                            else if (event === 'abort') {\n                                // The empty catch is needed here in case when\n                                // it rejects before it's `await`ed in `_makeRequest`.\n                                (async () => {\n                                    try {\n                                        const request = (await result);\n                                        request.once('abort', handler);\n                                    }\n                                    catch (_a) { }\n                                })();\n                            }\n                            else {\n                                /* istanbul ignore next: safety check */\n                                throw new Error(`Unknown HTTP2 promise event: ${event}`);\n                            }\n                            return result;\n                        };\n                    }\n                    return result;\n                }), cache));\n            }\n        }\n        // `options.cacheOptions`\n        options.cacheOptions = { ...options.cacheOptions };\n        // `options.dnsCache`\n        if (options.dnsCache === true) {\n            if (!globalDnsCache) {\n                globalDnsCache = new cacheable_lookup_1.default();\n            }\n            options.dnsCache = globalDnsCache;\n        }\n        else if (!is_1.default.undefined(options.dnsCache) && !options.dnsCache.lookup) {\n            throw new TypeError(`Parameter \\`dnsCache\\` must be a CacheableLookup instance or a boolean, got ${is_1.default(options.dnsCache)}`);\n        }\n        // `options.timeout`\n        if (is_1.default.number(options.timeout)) {\n            options.timeout = { request: options.timeout };\n        }\n        else if (defaults && options.timeout !== defaults.timeout) {\n            options.timeout = {\n                ...defaults.timeout,\n                ...options.timeout\n            };\n        }\n        else {\n            options.timeout = { ...options.timeout };\n        }\n        // `options.context`\n        if (!options.context) {\n            options.context = {};\n        }\n        // `options.hooks`\n        const areHooksDefault = options.hooks === (defaults === null || defaults === void 0 ? void 0 : defaults.hooks);\n        options.hooks = { ...options.hooks };\n        for (const event of exports.knownHookEvents) {\n            if (event in options.hooks) {\n                if (is_1.default.array(options.hooks[event])) {\n                    // See https://github.com/microsoft/TypeScript/issues/31445#issuecomment-576929044\n                    options.hooks[event] = [...options.hooks[event]];\n                }\n                else {\n                    throw new TypeError(`Parameter \\`${event}\\` must be an Array, got ${is_1.default(options.hooks[event])}`);\n                }\n            }\n            else {\n                options.hooks[event] = [];\n            }\n        }\n        if (defaults && !areHooksDefault) {\n            for (const event of exports.knownHookEvents) {\n                const defaultHooks = defaults.hooks[event];\n                if (defaultHooks.length > 0) {\n                    // See https://github.com/microsoft/TypeScript/issues/31445#issuecomment-576929044\n                    options.hooks[event] = [\n                        ...defaults.hooks[event],\n                        ...options.hooks[event]\n                    ];\n                }\n            }\n        }\n        // DNS options\n        if ('family' in options) {\n            deprecation_warning_1.default('\"options.family\" was never documented, please use \"options.dnsLookupIpVersion\"');\n        }\n        // HTTPS options\n        if (defaults === null || defaults === void 0 ? void 0 : defaults.https) {\n            options.https = { ...defaults.https, ...options.https };\n        }\n        if ('rejectUnauthorized' in options) {\n            deprecation_warning_1.default('\"options.rejectUnauthorized\" is now deprecated, please use \"options.https.rejectUnauthorized\"');\n        }\n        if ('checkServerIdentity' in options) {\n            deprecation_warning_1.default('\"options.checkServerIdentity\" was never documented, please use \"options.https.checkServerIdentity\"');\n        }\n        if ('ca' in options) {\n            deprecation_warning_1.default('\"options.ca\" was never documented, please use \"options.https.certificateAuthority\"');\n        }\n        if ('key' in options) {\n            deprecation_warning_1.default('\"options.key\" was never documented, please use \"options.https.key\"');\n        }\n        if ('cert' in options) {\n            deprecation_warning_1.default('\"options.cert\" was never documented, please use \"options.https.certificate\"');\n        }\n        if ('passphrase' in options) {\n            deprecation_warning_1.default('\"options.passphrase\" was never documented, please use \"options.https.passphrase\"');\n        }\n        if ('pfx' in options) {\n            deprecation_warning_1.default('\"options.pfx\" was never documented, please use \"options.https.pfx\"');\n        }\n        // Other options\n        if ('followRedirects' in options) {\n            throw new TypeError('The `followRedirects` option does not exist. Use `followRedirect` instead.');\n        }\n        if (options.agent) {\n            for (const key in options.agent) {\n                if (key !== 'http' && key !== 'https' && key !== 'http2') {\n                    throw new TypeError(`Expected the \\`options.agent\\` properties to be \\`http\\`, \\`https\\` or \\`http2\\`, got \\`${key}\\``);\n                }\n            }\n        }\n        options.maxRedirects = (_e = options.maxRedirects) !== null && _e !== void 0 ? _e : 0;\n        // Set non-enumerable properties\n        exports.setNonEnumerableProperties([defaults, rawOptions], options);\n        return normalize_arguments_1.default(options, defaults);\n    }\n    _lockWrite() {\n        const onLockedWrite = () => {\n            throw new TypeError('The payload has been already provided');\n        };\n        this.write = onLockedWrite;\n        this.end = onLockedWrite;\n    }\n    _unlockWrite() {\n        this.write = super.write;\n        this.end = super.end;\n    }\n    async _finalizeBody() {\n        const { options } = this;\n        const { headers } = options;\n        const isForm = !is_1.default.undefined(options.form);\n        const isJSON = !is_1.default.undefined(options.json);\n        const isBody = !is_1.default.undefined(options.body);\n        const hasPayload = isForm || isJSON || isBody;\n        const cannotHaveBody = exports.withoutBody.has(options.method) && !(options.method === 'GET' && options.allowGetBody);\n        this._cannotHaveBody = cannotHaveBody;\n        if (hasPayload) {\n            if (cannotHaveBody) {\n                throw new TypeError(`The \\`${options.method}\\` method cannot be used with a body`);\n            }\n            if ([isBody, isForm, isJSON].filter(isTrue => isTrue).length > 1) {\n                throw new TypeError('The `body`, `json` and `form` options are mutually exclusive');\n            }\n            if (isBody &&\n                !(options.body instanceof stream_1.Readable) &&\n                !is_1.default.string(options.body) &&\n                !is_1.default.buffer(options.body) &&\n                !is_form_data_1.default(options.body)) {\n                throw new TypeError('The `body` option must be a stream.Readable, string or Buffer');\n            }\n            if (isForm && !is_1.default.object(options.form)) {\n                throw new TypeError('The `form` option must be an Object');\n            }\n            {\n                // Serialize body\n                const noContentType = !is_1.default.string(headers['content-type']);\n                if (isBody) {\n                    // Special case for https://github.com/form-data/form-data\n                    if (is_form_data_1.default(options.body) && noContentType) {\n                        headers['content-type'] = `multipart/form-data; boundary=${options.body.getBoundary()}`;\n                    }\n                    this[kBody] = options.body;\n                }\n                else if (isForm) {\n                    if (noContentType) {\n                        headers['content-type'] = 'application/x-www-form-urlencoded';\n                    }\n                    this[kBody] = (new url_1.URLSearchParams(options.form)).toString();\n                }\n                else {\n                    if (noContentType) {\n                        headers['content-type'] = 'application/json';\n                    }\n                    this[kBody] = options.stringifyJson(options.json);\n                }\n                const uploadBodySize = await get_body_size_1.default(this[kBody], options.headers);\n                // See https://tools.ietf.org/html/rfc7230#section-3.3.2\n                // A user agent SHOULD send a Content-Length in a request message when\n                // no Transfer-Encoding is sent and the request method defines a meaning\n                // for an enclosed payload body.  For example, a Content-Length header\n                // field is normally sent in a POST request even when the value is 0\n                // (indicating an empty payload body).  A user agent SHOULD NOT send a\n                // Content-Length header field when the request message does not contain\n                // a payload body and the method semantics do not anticipate such a\n                // body.\n                if (is_1.default.undefined(headers['content-length']) && is_1.default.undefined(headers['transfer-encoding'])) {\n                    if (!cannotHaveBody && !is_1.default.undefined(uploadBodySize)) {\n                        headers['content-length'] = String(uploadBodySize);\n                    }\n                }\n            }\n        }\n        else if (cannotHaveBody) {\n            this._lockWrite();\n        }\n        else {\n            this._unlockWrite();\n        }\n        this[kBodySize] = Number(headers['content-length']) || undefined;\n    }\n    async _onResponseBase(response) {\n        const { options } = this;\n        const { url } = options;\n        this[kOriginalResponse] = response;\n        if (options.decompress) {\n            response = decompressResponse(response);\n        }\n        const statusCode = response.statusCode;\n        const typedResponse = response;\n        typedResponse.statusMessage = typedResponse.statusMessage ? typedResponse.statusMessage : http.STATUS_CODES[statusCode];\n        typedResponse.url = options.url.toString();\n        typedResponse.requestUrl = this.requestUrl;\n        typedResponse.redirectUrls = this.redirects;\n        typedResponse.request = this;\n        typedResponse.isFromCache = response.fromCache || false;\n        typedResponse.ip = this.ip;\n        typedResponse.retryCount = this.retryCount;\n        this[kIsFromCache] = typedResponse.isFromCache;\n        this[kResponseSize] = Number(response.headers['content-length']) || undefined;\n        this[kResponse] = response;\n        response.once('end', () => {\n            this[kResponseSize] = this[kDownloadedSize];\n            this.emit('downloadProgress', this.downloadProgress);\n        });\n        response.once('error', (error) => {\n            // Force clean-up, because some packages don't do this.\n            // TODO: Fix decompress-response\n            response.destroy();\n            this._beforeError(new ReadError(error, this));\n        });\n        response.once('aborted', () => {\n            this._beforeError(new ReadError({\n                name: 'Error',\n                message: 'The server aborted pending request',\n                code: 'ECONNRESET'\n            }, this));\n        });\n        this.emit('downloadProgress', this.downloadProgress);\n        const rawCookies = response.headers['set-cookie'];\n        if (is_1.default.object(options.cookieJar) && rawCookies) {\n            let promises = rawCookies.map(async (rawCookie) => options.cookieJar.setCookie(rawCookie, url.toString()));\n            if (options.ignoreInvalidCookies) {\n                promises = promises.map(async (p) => p.catch(() => { }));\n            }\n            try {\n                await Promise.all(promises);\n            }\n            catch (error) {\n                this._beforeError(error);\n                return;\n            }\n        }\n        if (options.followRedirect && response.headers.location && redirectCodes.has(statusCode)) {\n            // We're being redirected, we don't care about the response.\n            // It'd be best to abort the request, but we can't because\n            // we would have to sacrifice the TCP connection. We don't want that.\n            response.resume();\n            if (this[kRequest]) {\n                this[kCancelTimeouts]();\n                // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n                delete this[kRequest];\n                this[kUnproxyEvents]();\n            }\n            const shouldBeGet = statusCode === 303 && options.method !== 'GET' && options.method !== 'HEAD';\n            if (shouldBeGet || !options.methodRewriting) {\n                // Server responded with \"see other\", indicating that the resource exists at another location,\n                // and the client should request it from that location via GET or HEAD.\n                options.method = 'GET';\n                if ('body' in options) {\n                    delete options.body;\n                }\n                if ('json' in options) {\n                    delete options.json;\n                }\n                if ('form' in options) {\n                    delete options.form;\n                }\n                this[kBody] = undefined;\n                delete options.headers['content-length'];\n            }\n            if (this.redirects.length >= options.maxRedirects) {\n                this._beforeError(new MaxRedirectsError(this));\n                return;\n            }\n            try {\n                // Do not remove. See https://github.com/sindresorhus/got/pull/214\n                const redirectBuffer = Buffer.from(response.headers.location, 'binary').toString();\n                // Handles invalid URLs. See https://github.com/sindresorhus/got/issues/604\n                const redirectUrl = new url_1.URL(redirectBuffer, url);\n                const redirectString = redirectUrl.toString();\n                decodeURI(redirectString);\n                // eslint-disable-next-line no-inner-declarations\n                function isUnixSocketURL(url) {\n                    return url.protocol === 'unix:' || url.hostname === 'unix';\n                }\n                if (!isUnixSocketURL(url) && isUnixSocketURL(redirectUrl)) {\n                    this._beforeError(new RequestError('Cannot redirect to UNIX socket', {}, this));\n                    return;\n                }\n                // Redirecting to a different site, clear sensitive data.\n                if (redirectUrl.hostname !== url.hostname || redirectUrl.port !== url.port) {\n                    if ('host' in options.headers) {\n                        delete options.headers.host;\n                    }\n                    if ('cookie' in options.headers) {\n                        delete options.headers.cookie;\n                    }\n                    if ('authorization' in options.headers) {\n                        delete options.headers.authorization;\n                    }\n                    if (options.username || options.password) {\n                        options.username = '';\n                        options.password = '';\n                    }\n                }\n                else {\n                    redirectUrl.username = options.username;\n                    redirectUrl.password = options.password;\n                }\n                this.redirects.push(redirectString);\n                options.url = redirectUrl;\n                for (const hook of options.hooks.beforeRedirect) {\n                    // eslint-disable-next-line no-await-in-loop\n                    await hook(options, typedResponse);\n                }\n                this.emit('redirect', typedResponse, options);\n                await this._makeRequest();\n            }\n            catch (error) {\n                this._beforeError(error);\n                return;\n            }\n            return;\n        }\n        if (options.isStream && options.throwHttpErrors && !is_response_ok_1.isResponseOk(typedResponse)) {\n            this._beforeError(new HTTPError(typedResponse));\n            return;\n        }\n        response.on('readable', () => {\n            if (this[kTriggerRead]) {\n                this._read();\n            }\n        });\n        this.on('resume', () => {\n            response.resume();\n        });\n        this.on('pause', () => {\n            response.pause();\n        });\n        response.once('end', () => {\n            this.push(null);\n        });\n        this.emit('response', response);\n        for (const destination of this[kServerResponsesPiped]) {\n            if (destination.headersSent) {\n                continue;\n            }\n            // eslint-disable-next-line guard-for-in\n            for (const key in response.headers) {\n                const isAllowed = options.decompress ? key !== 'content-encoding' : true;\n                const value = response.headers[key];\n                if (isAllowed) {\n                    destination.setHeader(key, value);\n                }\n            }\n            destination.statusCode = statusCode;\n        }\n    }\n    async _onResponse(response) {\n        try {\n            await this._onResponseBase(response);\n        }\n        catch (error) {\n            /* istanbul ignore next: better safe than sorry */\n            this._beforeError(error);\n        }\n    }\n    _onRequest(request) {\n        const { options } = this;\n        const { timeout, url } = options;\n        http_timer_1.default(request);\n        this[kCancelTimeouts] = timed_out_1.default(request, timeout, url);\n        const responseEventName = options.cache ? 'cacheableResponse' : 'response';\n        request.once(responseEventName, (response) => {\n            void this._onResponse(response);\n        });\n        request.once('error', (error) => {\n            var _a;\n            // Force clean-up, because some packages (e.g. nock) don't do this.\n            request.destroy();\n            // Node.js <= 12.18.2 mistakenly emits the response `end` first.\n            (_a = request.res) === null || _a === void 0 ? void 0 : _a.removeAllListeners('end');\n            error = error instanceof timed_out_1.TimeoutError ? new TimeoutError(error, this.timings, this) : new RequestError(error.message, error, this);\n            this._beforeError(error);\n        });\n        this[kUnproxyEvents] = proxy_events_1.default(request, this, proxiedRequestEvents);\n        this[kRequest] = request;\n        this.emit('uploadProgress', this.uploadProgress);\n        // Send body\n        const body = this[kBody];\n        const currentRequest = this.redirects.length === 0 ? this : request;\n        if (is_1.default.nodeStream(body)) {\n            body.pipe(currentRequest);\n            body.once('error', (error) => {\n                this._beforeError(new UploadError(error, this));\n            });\n        }\n        else {\n            this._unlockWrite();\n            if (!is_1.default.undefined(body)) {\n                this._writeRequest(body, undefined, () => { });\n                currentRequest.end();\n                this._lockWrite();\n            }\n            else if (this._cannotHaveBody || this._noPipe) {\n                currentRequest.end();\n                this._lockWrite();\n            }\n        }\n        this.emit('request', request);\n    }\n    async _createCacheableRequest(url, options) {\n        return new Promise((resolve, reject) => {\n            // TODO: Remove `utils/url-to-options.ts` when `cacheable-request` is fixed\n            Object.assign(options, url_to_options_1.default(url));\n            // `http-cache-semantics` checks this\n            // TODO: Fix this ignore.\n            // @ts-expect-error\n            delete options.url;\n            let request;\n            // This is ugly\n            const cacheRequest = cacheableStore.get(options.cache)(options, async (response) => {\n                // TODO: Fix `cacheable-response`\n                response._readableState.autoDestroy = false;\n                if (request) {\n                    (await request).emit('cacheableResponse', response);\n                }\n                resolve(response);\n            });\n            // Restore options\n            options.url = url;\n            cacheRequest.once('error', reject);\n            cacheRequest.once('request', async (requestOrPromise) => {\n                request = requestOrPromise;\n                resolve(request);\n            });\n        });\n    }\n    async _makeRequest() {\n        var _a, _b, _c, _d, _e;\n        const { options } = this;\n        const { headers } = options;\n        for (const key in headers) {\n            if (is_1.default.undefined(headers[key])) {\n                // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n                delete headers[key];\n            }\n            else if (is_1.default.null_(headers[key])) {\n                throw new TypeError(`Use \\`undefined\\` instead of \\`null\\` to delete the \\`${key}\\` header`);\n            }\n        }\n        if (options.decompress && is_1.default.undefined(headers['accept-encoding'])) {\n            headers['accept-encoding'] = supportsBrotli ? 'gzip, deflate, br' : 'gzip, deflate';\n        }\n        // Set cookies\n        if (options.cookieJar) {\n            const cookieString = await options.cookieJar.getCookieString(options.url.toString());\n            if (is_1.default.nonEmptyString(cookieString)) {\n                options.headers.cookie = cookieString;\n            }\n        }\n        for (const hook of options.hooks.beforeRequest) {\n            // eslint-disable-next-line no-await-in-loop\n            const result = await hook(options);\n            if (!is_1.default.undefined(result)) {\n                // @ts-expect-error Skip the type mismatch to support abstract responses\n                options.request = () => result;\n                break;\n            }\n        }\n        if (options.body && this[kBody] !== options.body) {\n            this[kBody] = options.body;\n        }\n        const { agent, request, timeout, url } = options;\n        if (options.dnsCache && !('lookup' in options)) {\n            options.lookup = options.dnsCache.lookup;\n        }\n        // UNIX sockets\n        if (url.hostname === 'unix') {\n            const matches = /(?<socketPath>.+?):(?<path>.+)/.exec(`${url.pathname}${url.search}`);\n            if (matches === null || matches === void 0 ? void 0 : matches.groups) {\n                const { socketPath, path } = matches.groups;\n                Object.assign(options, {\n                    socketPath,\n                    path,\n                    host: ''\n                });\n            }\n        }\n        const isHttps = url.protocol === 'https:';\n        // Fallback function\n        let fallbackFn;\n        if (options.http2) {\n            fallbackFn = http2wrapper.auto;\n        }\n        else {\n            fallbackFn = isHttps ? https.request : http.request;\n        }\n        const realFn = (_a = options.request) !== null && _a !== void 0 ? _a : fallbackFn;\n        // Cache support\n        const fn = options.cache ? this._createCacheableRequest : realFn;\n        // Pass an agent directly when HTTP2 is disabled\n        if (agent && !options.http2) {\n            options.agent = agent[isHttps ? 'https' : 'http'];\n        }\n        // Prepare plain HTTP request options\n        options[kRequest] = realFn;\n        delete options.request;\n        // TODO: Fix this ignore.\n        // @ts-expect-error\n        delete options.timeout;\n        const requestOptions = options;\n        requestOptions.shared = (_b = options.cacheOptions) === null || _b === void 0 ? void 0 : _b.shared;\n        requestOptions.cacheHeuristic = (_c = options.cacheOptions) === null || _c === void 0 ? void 0 : _c.cacheHeuristic;\n        requestOptions.immutableMinTimeToLive = (_d = options.cacheOptions) === null || _d === void 0 ? void 0 : _d.immutableMinTimeToLive;\n        requestOptions.ignoreCargoCult = (_e = options.cacheOptions) === null || _e === void 0 ? void 0 : _e.ignoreCargoCult;\n        // If `dnsLookupIpVersion` is not present do not override `family`\n        if (options.dnsLookupIpVersion !== undefined) {\n            try {\n                requestOptions.family = dns_ip_version_1.dnsLookupIpVersionToFamily(options.dnsLookupIpVersion);\n            }\n            catch (_f) {\n                throw new Error('Invalid `dnsLookupIpVersion` option value');\n            }\n        }\n        // HTTPS options remapping\n        if (options.https) {\n            if ('rejectUnauthorized' in options.https) {\n                requestOptions.rejectUnauthorized = options.https.rejectUnauthorized;\n            }\n            if (options.https.checkServerIdentity) {\n                requestOptions.checkServerIdentity = options.https.checkServerIdentity;\n            }\n            if (options.https.certificateAuthority) {\n                requestOptions.ca = options.https.certificateAuthority;\n            }\n            if (options.https.certificate) {\n                requestOptions.cert = options.https.certificate;\n            }\n            if (options.https.key) {\n                requestOptions.key = options.https.key;\n            }\n            if (options.https.passphrase) {\n                requestOptions.passphrase = options.https.passphrase;\n            }\n            if (options.https.pfx) {\n                requestOptions.pfx = options.https.pfx;\n            }\n        }\n        try {\n            let requestOrResponse = await fn(url, requestOptions);\n            if (is_1.default.undefined(requestOrResponse)) {\n                requestOrResponse = fallbackFn(url, requestOptions);\n            }\n            // Restore options\n            options.request = request;\n            options.timeout = timeout;\n            options.agent = agent;\n            // HTTPS options restore\n            if (options.https) {\n                if ('rejectUnauthorized' in options.https) {\n                    delete requestOptions.rejectUnauthorized;\n                }\n                if (options.https.checkServerIdentity) {\n                    // @ts-expect-error - This one will be removed when we remove the alias.\n                    delete requestOptions.checkServerIdentity;\n                }\n                if (options.https.certificateAuthority) {\n                    delete requestOptions.ca;\n                }\n                if (options.https.certificate) {\n                    delete requestOptions.cert;\n                }\n                if (options.https.key) {\n                    delete requestOptions.key;\n                }\n                if (options.https.passphrase) {\n                    delete requestOptions.passphrase;\n                }\n                if (options.https.pfx) {\n                    delete requestOptions.pfx;\n                }\n            }\n            if (isClientRequest(requestOrResponse)) {\n                this._onRequest(requestOrResponse);\n                // Emit the response after the stream has been ended\n            }\n            else if (this.writable) {\n                this.once('finish', () => {\n                    void this._onResponse(requestOrResponse);\n                });\n                this._unlockWrite();\n                this.end();\n                this._lockWrite();\n            }\n            else {\n                void this._onResponse(requestOrResponse);\n            }\n        }\n        catch (error) {\n            if (error instanceof CacheableRequest.CacheError) {\n                throw new CacheError(error, this);\n            }\n            throw new RequestError(error.message, error, this);\n        }\n    }\n    async _error(error) {\n        try {\n            for (const hook of this.options.hooks.beforeError) {\n                // eslint-disable-next-line no-await-in-loop\n                error = await hook(error);\n            }\n        }\n        catch (error_) {\n            error = new RequestError(error_.message, error_, this);\n        }\n        this.destroy(error);\n    }\n    _beforeError(error) {\n        if (this[kStopReading]) {\n            return;\n        }\n        const { options } = this;\n        const retryCount = this.retryCount + 1;\n        this[kStopReading] = true;\n        if (!(error instanceof RequestError)) {\n            error = new RequestError(error.message, error, this);\n        }\n        const typedError = error;\n        const { response } = typedError;\n        void (async () => {\n            if (response && !response.body) {\n                response.setEncoding(this._readableState.encoding);\n                try {\n                    response.rawBody = await get_buffer_1.default(response);\n                    response.body = response.rawBody.toString();\n                }\n                catch (_a) { }\n            }\n            if (this.listenerCount('retry') !== 0) {\n                let backoff;\n                try {\n                    let retryAfter;\n                    if (response && 'retry-after' in response.headers) {\n                        retryAfter = Number(response.headers['retry-after']);\n                        if (Number.isNaN(retryAfter)) {\n                            retryAfter = Date.parse(response.headers['retry-after']) - Date.now();\n                            if (retryAfter <= 0) {\n                                retryAfter = 1;\n                            }\n                        }\n                        else {\n                            retryAfter *= 1000;\n                        }\n                    }\n                    backoff = await options.retry.calculateDelay({\n                        attemptCount: retryCount,\n                        retryOptions: options.retry,\n                        error: typedError,\n                        retryAfter,\n                        computedValue: calculate_retry_delay_1.default({\n                            attemptCount: retryCount,\n                            retryOptions: options.retry,\n                            error: typedError,\n                            retryAfter,\n                            computedValue: 0\n                        })\n                    });\n                }\n                catch (error_) {\n                    void this._error(new RequestError(error_.message, error_, this));\n                    return;\n                }\n                if (backoff) {\n                    const retry = async () => {\n                        try {\n                            for (const hook of this.options.hooks.beforeRetry) {\n                                // eslint-disable-next-line no-await-in-loop\n                                await hook(this.options, typedError, retryCount);\n                            }\n                        }\n                        catch (error_) {\n                            void this._error(new RequestError(error_.message, error, this));\n                            return;\n                        }\n                        // Something forced us to abort the retry\n                        if (this.destroyed) {\n                            return;\n                        }\n                        this.destroy();\n                        this.emit('retry', retryCount, error);\n                    };\n                    this[kRetryTimeout] = setTimeout(retry, backoff);\n                    return;\n                }\n            }\n            void this._error(typedError);\n        })();\n    }\n    _read() {\n        this[kTriggerRead] = true;\n        const response = this[kResponse];\n        if (response && !this[kStopReading]) {\n            // We cannot put this in the `if` above\n            // because `.read()` also triggers the `end` event\n            if (response.readableLength) {\n                this[kTriggerRead] = false;\n            }\n            let data;\n            while ((data = response.read()) !== null) {\n                this[kDownloadedSize] += data.length;\n                this[kStartedReading] = true;\n                const progress = this.downloadProgress;\n                if (progress.percent < 1) {\n                    this.emit('downloadProgress', progress);\n                }\n                this.push(data);\n            }\n        }\n    }\n    // Node.js 12 has incorrect types, so the encoding must be a string\n    _write(chunk, encoding, callback) {\n        const write = () => {\n            this._writeRequest(chunk, encoding, callback);\n        };\n        if (this.requestInitialized) {\n            write();\n        }\n        else {\n            this[kJobs].push(write);\n        }\n    }\n    _writeRequest(chunk, encoding, callback) {\n        if (this[kRequest].destroyed) {\n            // Probably the `ClientRequest` instance will throw\n            return;\n        }\n        this._progressCallbacks.push(() => {\n            this[kUploadedSize] += Buffer.byteLength(chunk, encoding);\n            const progress = this.uploadProgress;\n            if (progress.percent < 1) {\n                this.emit('uploadProgress', progress);\n            }\n        });\n        // TODO: What happens if it's from cache? Then this[kRequest] won't be defined.\n        this[kRequest].write(chunk, encoding, (error) => {\n            if (!error && this._progressCallbacks.length > 0) {\n                this._progressCallbacks.shift()();\n            }\n            callback(error);\n        });\n    }\n    _final(callback) {\n        const endRequest = () => {\n            // FIX: Node.js 10 calls the write callback AFTER the end callback!\n            while (this._progressCallbacks.length !== 0) {\n                this._progressCallbacks.shift()();\n            }\n            // We need to check if `this[kRequest]` is present,\n            // because it isn't when we use cache.\n            if (!(kRequest in this)) {\n                callback();\n                return;\n            }\n            if (this[kRequest].destroyed) {\n                callback();\n                return;\n            }\n            this[kRequest].end((error) => {\n                if (!error) {\n                    this[kBodySize] = this[kUploadedSize];\n                    this.emit('uploadProgress', this.uploadProgress);\n                    this[kRequest].emit('upload-complete');\n                }\n                callback(error);\n            });\n        };\n        if (this.requestInitialized) {\n            endRequest();\n        }\n        else {\n            this[kJobs].push(endRequest);\n        }\n    }\n    _destroy(error, callback) {\n        var _a;\n        this[kStopReading] = true;\n        // Prevent further retries\n        clearTimeout(this[kRetryTimeout]);\n        if (kRequest in this) {\n            this[kCancelTimeouts]();\n            // TODO: Remove the next `if` when these get fixed:\n            // - https://github.com/nodejs/node/issues/32851\n            if (!((_a = this[kResponse]) === null || _a === void 0 ? void 0 : _a.complete)) {\n                this[kRequest].destroy();\n            }\n        }\n        if (error !== null && !is_1.default.undefined(error) && !(error instanceof RequestError)) {\n            error = new RequestError(error.message, error, this);\n        }\n        callback(error);\n    }\n    get _isAboutToError() {\n        return this[kStopReading];\n    }\n    /**\n    The remote IP address.\n    */\n    get ip() {\n        var _a;\n        return (_a = this.socket) === null || _a === void 0 ? void 0 : _a.remoteAddress;\n    }\n    /**\n    Indicates whether the request has been aborted or not.\n    */\n    get aborted() {\n        var _a, _b, _c;\n        return ((_b = (_a = this[kRequest]) === null || _a === void 0 ? void 0 : _a.destroyed) !== null && _b !== void 0 ? _b : this.destroyed) && !((_c = this[kOriginalResponse]) === null || _c === void 0 ? void 0 : _c.complete);\n    }\n    get socket() {\n        var _a, _b;\n        return (_b = (_a = this[kRequest]) === null || _a === void 0 ? void 0 : _a.socket) !== null && _b !== void 0 ? _b : undefined;\n    }\n    /**\n    Progress event for downloading (receiving a response).\n    */\n    get downloadProgress() {\n        let percent;\n        if (this[kResponseSize]) {\n            percent = this[kDownloadedSize] / this[kResponseSize];\n        }\n        else if (this[kResponseSize] === this[kDownloadedSize]) {\n            percent = 1;\n        }\n        else {\n            percent = 0;\n        }\n        return {\n            percent,\n            transferred: this[kDownloadedSize],\n            total: this[kResponseSize]\n        };\n    }\n    /**\n    Progress event for uploading (sending a request).\n    */\n    get uploadProgress() {\n        let percent;\n        if (this[kBodySize]) {\n            percent = this[kUploadedSize] / this[kBodySize];\n        }\n        else if (this[kBodySize] === this[kUploadedSize]) {\n            percent = 1;\n        }\n        else {\n            percent = 0;\n        }\n        return {\n            percent,\n            transferred: this[kUploadedSize],\n            total: this[kBodySize]\n        };\n    }\n    /**\n    The object contains the following properties:\n\n    - `start` - Time when the request started.\n    - `socket` - Time when a socket was assigned to the request.\n    - `lookup` - Time when the DNS lookup finished.\n    - `connect` - Time when the socket successfully connected.\n    - `secureConnect` - Time when the socket securely connected.\n    - `upload` - Time when the request finished uploading.\n    - `response` - Time when the request fired `response` event.\n    - `end` - Time when the response fired `end` event.\n    - `error` - Time when the request fired `error` event.\n    - `abort` - Time when the request fired `abort` event.\n    - `phases`\n        - `wait` - `timings.socket - timings.start`\n        - `dns` - `timings.lookup - timings.socket`\n        - `tcp` - `timings.connect - timings.lookup`\n        - `tls` - `timings.secureConnect - timings.connect`\n        - `request` - `timings.upload - (timings.secureConnect || timings.connect)`\n        - `firstByte` - `timings.response - timings.upload`\n        - `download` - `timings.end - timings.response`\n        - `total` - `(timings.end || timings.error || timings.abort) - timings.start`\n\n    If something has not been measured yet, it will be `undefined`.\n\n    __Note__: The time is a `number` representing the milliseconds elapsed since the UNIX epoch.\n    */\n    get timings() {\n        var _a;\n        return (_a = this[kRequest]) === null || _a === void 0 ? void 0 : _a.timings;\n    }\n    /**\n    Whether the response was retrieved from the cache.\n    */\n    get isFromCache() {\n        return this[kIsFromCache];\n    }\n    pipe(destination, options) {\n        if (this[kStartedReading]) {\n            throw new Error('Failed to pipe. The response has been emitted already.');\n        }\n        if (destination instanceof http_1.ServerResponse) {\n            this[kServerResponsesPiped].add(destination);\n        }\n        return super.pipe(destination, options);\n    }\n    unpipe(destination) {\n        if (destination instanceof http_1.ServerResponse) {\n            this[kServerResponsesPiped].delete(destination);\n        }\n        super.unpipe(destination);\n        return this;\n    }\n}\nexports[\"default\"] = Request;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2dvdC9kaXN0L3NvdXJjZS9jb3JlL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGdDQUFnQyxHQUFHLGlCQUFpQixHQUFHLG9CQUFvQixHQUFHLG1CQUFtQixHQUFHLGtCQUFrQixHQUFHLGlCQUFpQixHQUFHLHlCQUF5QixHQUFHLG9CQUFvQixHQUFHLGtDQUFrQyxHQUFHLHVCQUF1QixHQUFHLG1CQUFtQixHQUFHLDRCQUE0QjtBQUNqVCxlQUFlLG1CQUFPLENBQUMsa0JBQU07QUFDN0IsaUJBQWlCLG1CQUFPLENBQUMsc0JBQVE7QUFDakMsYUFBYSxtQkFBTyxDQUFDLGNBQUk7QUFDekIsY0FBYyxtQkFBTyxDQUFDLGdCQUFLO0FBQzNCLGFBQWEsbUJBQU8sQ0FBQyxrQkFBTTtBQUMzQixlQUFlLG1CQUFPLENBQUMsa0JBQU07QUFDN0IsY0FBYyxtQkFBTyxDQUFDLG9CQUFPO0FBQzdCLHFCQUFxQixtQkFBTyxDQUFDLG9IQUF1QjtBQUNwRCwyQkFBMkIsbUJBQU8sQ0FBQyxxR0FBa0I7QUFDckQseUJBQXlCLG1CQUFPLENBQUMsOEVBQW1CO0FBQ3BELDJCQUEyQixtQkFBTyxDQUFDLDhFQUFxQjtBQUN4RDtBQUNBLHFCQUFxQixtQkFBTyxDQUFDLCtGQUFlO0FBQzVDLHNCQUFzQixtQkFBTyxDQUFDLG9FQUFnQjtBQUM5QyxhQUFhLG1CQUFPLENBQUMsNkVBQWtCO0FBQ3ZDLHdCQUF3QixtQkFBTyxDQUFDLHFIQUF1QjtBQUN2RCx1QkFBdUIsbUJBQU8sQ0FBQyxtSEFBc0I7QUFDckQsdUJBQXVCLG1CQUFPLENBQUMsbUhBQXNCO0FBQ3JELG9CQUFvQixtQkFBTyxDQUFDLDZHQUFtQjtBQUMvQyx5QkFBeUIsbUJBQU8sQ0FBQyx1SEFBd0I7QUFDekQseUJBQXlCLG1CQUFPLENBQUMsdUhBQXdCO0FBQ3pELHVCQUF1QixtQkFBTyxDQUFDLG1IQUFzQjtBQUNyRCxxQkFBcUIsbUJBQU8sQ0FBQywrR0FBb0I7QUFDakQseUJBQXlCLG1CQUFPLENBQUMsdUhBQXdCO0FBQ3pELHlCQUF5QixtQkFBTyxDQUFDLHVIQUF3QjtBQUN6RCw4QkFBOEIsbUJBQU8sQ0FBQyw2SEFBOEI7QUFDcEUsOEJBQThCLG1CQUFPLENBQUMsdUlBQW1DO0FBQ3pFLGdDQUFnQyxtQkFBTyxDQUFDLHlIQUF5QjtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQSxtQkFBbUI7QUFDbkIsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStELGNBQWM7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLG9DQUFvQyxFQUFFLG9DQUFvQyxFQUFFLHFDQUFxQztBQUM3STtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDhCQUE4QixxQkFBcUI7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHFCQUFxQixHQUFHLHVCQUF1QixNQUFNO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMscUJBQXFCLE1BQU07QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxnQkFBZ0IsbUJBQW1CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IscUJBQXFCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQSw4Q0FBOEMsK0ZBQStGO0FBQzdJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsWUFBWTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRFQUE0RSxXQUFXLEtBQUssTUFBTSxJQUFJLFNBQVM7QUFDL0c7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0Esa0JBQWtCLFdBQVc7QUFDN0I7QUFDQTtBQUNBLDBEQUEwRCxxQkFBcUIsRUFBRSxtQkFBbUI7QUFDcEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixZQUFZO0FBQzVCO0FBQ0Esa0JBQWtCLDZCQUE2QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLGdGQUFnRixNQUFNO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrR0FBK0csK0JBQStCO0FBQzlJO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELE1BQU0sMkJBQTJCLG1DQUFtQztBQUMzSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1JQUFtSSxJQUFJO0FBQ3ZJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsVUFBVTtBQUMxQixnQkFBZ0IsVUFBVTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLGVBQWU7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RSxXQUFXLDJCQUEyQjtBQUM5RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFVBQVU7QUFDMUIsZ0JBQWdCLE1BQU07QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0U7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJGQUEyRjtBQUMzRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixVQUFVO0FBQzFCLGdCQUFnQixlQUFlO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RDtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsVUFBVTtBQUMxQixnQkFBZ0IsVUFBVTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RkFBNkYsSUFBSTtBQUNqRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsK0JBQStCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUUsYUFBYSxFQUFFLFdBQVc7QUFDL0Y7QUFDQSx3QkFBd0IsbUJBQW1CO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFVBQVU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFdBQVc7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBvcnRrZXkvbmV4dC1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL3N3YXJtLWpzL25vZGVfbW9kdWxlcy9nb3QvZGlzdC9zb3VyY2UvY29yZS9pbmRleC5qcz9hOGY1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5VbnN1cHBvcnRlZFByb3RvY29sRXJyb3IgPSBleHBvcnRzLlJlYWRFcnJvciA9IGV4cG9ydHMuVGltZW91dEVycm9yID0gZXhwb3J0cy5VcGxvYWRFcnJvciA9IGV4cG9ydHMuQ2FjaGVFcnJvciA9IGV4cG9ydHMuSFRUUEVycm9yID0gZXhwb3J0cy5NYXhSZWRpcmVjdHNFcnJvciA9IGV4cG9ydHMuUmVxdWVzdEVycm9yID0gZXhwb3J0cy5zZXROb25FbnVtZXJhYmxlUHJvcGVydGllcyA9IGV4cG9ydHMua25vd25Ib29rRXZlbnRzID0gZXhwb3J0cy53aXRob3V0Qm9keSA9IGV4cG9ydHMua0lzTm9ybWFsaXplZEFscmVhZHkgPSB2b2lkIDA7XG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwidXRpbFwiKTtcbmNvbnN0IHN0cmVhbV8xID0gcmVxdWlyZShcInN0cmVhbVwiKTtcbmNvbnN0IGZzXzEgPSByZXF1aXJlKFwiZnNcIik7XG5jb25zdCB1cmxfMSA9IHJlcXVpcmUoXCJ1cmxcIik7XG5jb25zdCBodHRwID0gcmVxdWlyZShcImh0dHBcIik7XG5jb25zdCBodHRwXzEgPSByZXF1aXJlKFwiaHR0cFwiKTtcbmNvbnN0IGh0dHBzID0gcmVxdWlyZShcImh0dHBzXCIpO1xuY29uc3QgaHR0cF90aW1lcl8xID0gcmVxdWlyZShcIkBzem1hcmN6YWsvaHR0cC10aW1lclwiKTtcbmNvbnN0IGNhY2hlYWJsZV9sb29rdXBfMSA9IHJlcXVpcmUoXCJjYWNoZWFibGUtbG9va3VwXCIpO1xuY29uc3QgQ2FjaGVhYmxlUmVxdWVzdCA9IHJlcXVpcmUoXCJjYWNoZWFibGUtcmVxdWVzdFwiKTtcbmNvbnN0IGRlY29tcHJlc3NSZXNwb25zZSA9IHJlcXVpcmUoXCJkZWNvbXByZXNzLXJlc3BvbnNlXCIpO1xuLy8gQHRzLWV4cGVjdC1lcnJvciBNaXNzaW5nIHR5cGVzXG5jb25zdCBodHRwMndyYXBwZXIgPSByZXF1aXJlKFwiaHR0cDItd3JhcHBlclwiKTtcbmNvbnN0IGxvd2VyY2FzZUtleXMgPSByZXF1aXJlKFwibG93ZXJjYXNlLWtleXNcIik7XG5jb25zdCBpc18xID0gcmVxdWlyZShcIkBzaW5kcmVzb3JodXMvaXNcIik7XG5jb25zdCBnZXRfYm9keV9zaXplXzEgPSByZXF1aXJlKFwiLi91dGlscy9nZXQtYm9keS1zaXplXCIpO1xuY29uc3QgaXNfZm9ybV9kYXRhXzEgPSByZXF1aXJlKFwiLi91dGlscy9pcy1mb3JtLWRhdGFcIik7XG5jb25zdCBwcm94eV9ldmVudHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzL3Byb3h5LWV2ZW50c1wiKTtcbmNvbnN0IHRpbWVkX291dF8xID0gcmVxdWlyZShcIi4vdXRpbHMvdGltZWQtb3V0XCIpO1xuY29uc3QgdXJsX3RvX29wdGlvbnNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzL3VybC10by1vcHRpb25zXCIpO1xuY29uc3Qgb3B0aW9uc190b191cmxfMSA9IHJlcXVpcmUoXCIuL3V0aWxzL29wdGlvbnMtdG8tdXJsXCIpO1xuY29uc3Qgd2Vha2FibGVfbWFwXzEgPSByZXF1aXJlKFwiLi91dGlscy93ZWFrYWJsZS1tYXBcIik7XG5jb25zdCBnZXRfYnVmZmVyXzEgPSByZXF1aXJlKFwiLi91dGlscy9nZXQtYnVmZmVyXCIpO1xuY29uc3QgZG5zX2lwX3ZlcnNpb25fMSA9IHJlcXVpcmUoXCIuL3V0aWxzL2Rucy1pcC12ZXJzaW9uXCIpO1xuY29uc3QgaXNfcmVzcG9uc2Vfb2tfMSA9IHJlcXVpcmUoXCIuL3V0aWxzL2lzLXJlc3BvbnNlLW9rXCIpO1xuY29uc3QgZGVwcmVjYXRpb25fd2FybmluZ18xID0gcmVxdWlyZShcIi4uL3V0aWxzL2RlcHJlY2F0aW9uLXdhcm5pbmdcIik7XG5jb25zdCBub3JtYWxpemVfYXJndW1lbnRzXzEgPSByZXF1aXJlKFwiLi4vYXMtcHJvbWlzZS9ub3JtYWxpemUtYXJndW1lbnRzXCIpO1xuY29uc3QgY2FsY3VsYXRlX3JldHJ5X2RlbGF5XzEgPSByZXF1aXJlKFwiLi9jYWxjdWxhdGUtcmV0cnktZGVsYXlcIik7XG5sZXQgZ2xvYmFsRG5zQ2FjaGU7XG5jb25zdCBrUmVxdWVzdCA9IFN5bWJvbCgncmVxdWVzdCcpO1xuY29uc3Qga1Jlc3BvbnNlID0gU3ltYm9sKCdyZXNwb25zZScpO1xuY29uc3Qga1Jlc3BvbnNlU2l6ZSA9IFN5bWJvbCgncmVzcG9uc2VTaXplJyk7XG5jb25zdCBrRG93bmxvYWRlZFNpemUgPSBTeW1ib2woJ2Rvd25sb2FkZWRTaXplJyk7XG5jb25zdCBrQm9keVNpemUgPSBTeW1ib2woJ2JvZHlTaXplJyk7XG5jb25zdCBrVXBsb2FkZWRTaXplID0gU3ltYm9sKCd1cGxvYWRlZFNpemUnKTtcbmNvbnN0IGtTZXJ2ZXJSZXNwb25zZXNQaXBlZCA9IFN5bWJvbCgnc2VydmVyUmVzcG9uc2VzUGlwZWQnKTtcbmNvbnN0IGtVbnByb3h5RXZlbnRzID0gU3ltYm9sKCd1bnByb3h5RXZlbnRzJyk7XG5jb25zdCBrSXNGcm9tQ2FjaGUgPSBTeW1ib2woJ2lzRnJvbUNhY2hlJyk7XG5jb25zdCBrQ2FuY2VsVGltZW91dHMgPSBTeW1ib2woJ2NhbmNlbFRpbWVvdXRzJyk7XG5jb25zdCBrU3RhcnRlZFJlYWRpbmcgPSBTeW1ib2woJ3N0YXJ0ZWRSZWFkaW5nJyk7XG5jb25zdCBrU3RvcFJlYWRpbmcgPSBTeW1ib2woJ3N0b3BSZWFkaW5nJyk7XG5jb25zdCBrVHJpZ2dlclJlYWQgPSBTeW1ib2woJ3RyaWdnZXJSZWFkJyk7XG5jb25zdCBrQm9keSA9IFN5bWJvbCgnYm9keScpO1xuY29uc3Qga0pvYnMgPSBTeW1ib2woJ2pvYnMnKTtcbmNvbnN0IGtPcmlnaW5hbFJlc3BvbnNlID0gU3ltYm9sKCdvcmlnaW5hbFJlc3BvbnNlJyk7XG5jb25zdCBrUmV0cnlUaW1lb3V0ID0gU3ltYm9sKCdyZXRyeVRpbWVvdXQnKTtcbmV4cG9ydHMua0lzTm9ybWFsaXplZEFscmVhZHkgPSBTeW1ib2woJ2lzTm9ybWFsaXplZEFscmVhZHknKTtcbmNvbnN0IHN1cHBvcnRzQnJvdGxpID0gaXNfMS5kZWZhdWx0LnN0cmluZyhwcm9jZXNzLnZlcnNpb25zLmJyb3RsaSk7XG5leHBvcnRzLndpdGhvdXRCb2R5ID0gbmV3IFNldChbJ0dFVCcsICdIRUFEJ10pO1xuZXhwb3J0cy5rbm93bkhvb2tFdmVudHMgPSBbXG4gICAgJ2luaXQnLFxuICAgICdiZWZvcmVSZXF1ZXN0JyxcbiAgICAnYmVmb3JlUmVkaXJlY3QnLFxuICAgICdiZWZvcmVFcnJvcicsXG4gICAgJ2JlZm9yZVJldHJ5JyxcbiAgICAvLyBQcm9taXNlLU9ubHlcbiAgICAnYWZ0ZXJSZXNwb25zZSdcbl07XG5mdW5jdGlvbiB2YWxpZGF0ZVNlYXJjaFBhcmFtZXRlcnMoc2VhcmNoUGFyYW1ldGVycykge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBndWFyZC1mb3ItaW5cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzZWFyY2hQYXJhbWV0ZXJzKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gc2VhcmNoUGFyYW1ldGVyc1trZXldO1xuICAgICAgICBpZiAoIWlzXzEuZGVmYXVsdC5zdHJpbmcodmFsdWUpICYmICFpc18xLmRlZmF1bHQubnVtYmVyKHZhbHVlKSAmJiAhaXNfMS5kZWZhdWx0LmJvb2xlYW4odmFsdWUpICYmICFpc18xLmRlZmF1bHQubnVsbF8odmFsdWUpICYmICFpc18xLmRlZmF1bHQudW5kZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgVGhlIFxcYHNlYXJjaFBhcmFtc1xcYCB2YWx1ZSAnJHtTdHJpbmcodmFsdWUpfScgbXVzdCBiZSBhIHN0cmluZywgbnVtYmVyLCBib29sZWFuIG9yIG51bGxgKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGlzQ2xpZW50UmVxdWVzdChjbGllbnRSZXF1ZXN0KSB7XG4gICAgcmV0dXJuIGlzXzEuZGVmYXVsdC5vYmplY3QoY2xpZW50UmVxdWVzdCkgJiYgISgnc3RhdHVzQ29kZScgaW4gY2xpZW50UmVxdWVzdCk7XG59XG5jb25zdCBjYWNoZWFibGVTdG9yZSA9IG5ldyB3ZWFrYWJsZV9tYXBfMS5kZWZhdWx0KCk7XG5jb25zdCB3YWl0Rm9yT3BlbkZpbGUgPSBhc3luYyAoZmlsZSkgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IG9uRXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICB9O1xuICAgIC8vIE5vZGUuanMgMTIgaGFzIGluY29tcGxldGUgdHlwZXNcbiAgICBpZiAoIWZpbGUucGVuZGluZykge1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgfVxuICAgIGZpbGUub25jZSgnZXJyb3InLCBvbkVycm9yKTtcbiAgICBmaWxlLm9uY2UoJ3JlYWR5JywgKCkgPT4ge1xuICAgICAgICBmaWxlLm9mZignZXJyb3InLCBvbkVycm9yKTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgIH0pO1xufSk7XG5jb25zdCByZWRpcmVjdENvZGVzID0gbmV3IFNldChbMzAwLCAzMDEsIDMwMiwgMzAzLCAzMDQsIDMwNywgMzA4XSk7XG5jb25zdCBub25FbnVtZXJhYmxlUHJvcGVydGllcyA9IFtcbiAgICAnY29udGV4dCcsXG4gICAgJ2JvZHknLFxuICAgICdqc29uJyxcbiAgICAnZm9ybSdcbl07XG5leHBvcnRzLnNldE5vbkVudW1lcmFibGVQcm9wZXJ0aWVzID0gKHNvdXJjZXMsIHRvKSA9PiB7XG4gICAgLy8gTm9uIGVudW1lcmFibGUgcHJvcGVydGllcyBzaGFsbCBub3QgYmUgbWVyZ2VkXG4gICAgY29uc3QgcHJvcGVydGllcyA9IHt9O1xuICAgIGZvciAoY29uc3Qgc291cmNlIG9mIHNvdXJjZXMpIHtcbiAgICAgICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBvZiBub25FbnVtZXJhYmxlUHJvcGVydGllcykge1xuICAgICAgICAgICAgaWYgKCEobmFtZSBpbiBzb3VyY2UpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcm9wZXJ0aWVzW25hbWVdID0ge1xuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFRTIGRvZXNuJ3Qgc2VlIHRoZSBjaGVjayBhYm92ZVxuICAgICAgICAgICAgICAgIHZhbHVlOiBzb3VyY2VbbmFtZV1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModG8sIHByb3BlcnRpZXMpO1xufTtcbi8qKlxuQW4gZXJyb3IgdG8gYmUgdGhyb3duIHdoZW4gYSByZXF1ZXN0IGZhaWxzLlxuQ29udGFpbnMgYSBgY29kZWAgcHJvcGVydHkgd2l0aCBlcnJvciBjbGFzcyBjb2RlLCBsaWtlIGBFQ09OTlJFRlVTRURgLlxuKi9cbmNsYXNzIFJlcXVlc3RFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBlcnJvciwgc2VsZikge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gICAgICAgIHRoaXMubmFtZSA9ICdSZXF1ZXN0RXJyb3InO1xuICAgICAgICB0aGlzLmNvZGUgPSAoX2EgPSBlcnJvci5jb2RlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAnRVJSX0dPVF9SRVFVRVNUX0VSUk9SJztcbiAgICAgICAgaWYgKHNlbGYgaW5zdGFuY2VvZiBSZXF1ZXN0KSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3JlcXVlc3QnLCB7XG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHNlbGZcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdyZXNwb25zZScsIHtcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogc2VsZltrUmVzcG9uc2VdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnb3B0aW9ucycsIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGZhaWxzIGJlY2F1c2Ugb2YgVFMgMy43LjIgdXNlRGVmaW5lRm9yQ2xhc3NGaWVsZHNcbiAgICAgICAgICAgICAgICAvLyBSZWY6IGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMzQ5NzJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogc2VsZi5vcHRpb25zXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnb3B0aW9ucycsIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGZhaWxzIGJlY2F1c2Ugb2YgVFMgMy43LjIgdXNlRGVmaW5lRm9yQ2xhc3NGaWVsZHNcbiAgICAgICAgICAgICAgICAvLyBSZWY6IGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMzQ5NzJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogc2VsZlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50aW1pbmdzID0gKF9iID0gdGhpcy5yZXF1ZXN0KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IudGltaW5ncztcbiAgICAgICAgLy8gUmVjb3ZlciB0aGUgb3JpZ2luYWwgc3RhY2t0cmFjZVxuICAgICAgICBpZiAoaXNfMS5kZWZhdWx0LnN0cmluZyhlcnJvci5zdGFjaykgJiYgaXNfMS5kZWZhdWx0LnN0cmluZyh0aGlzLnN0YWNrKSkge1xuICAgICAgICAgICAgY29uc3QgaW5kZXhPZk1lc3NhZ2UgPSB0aGlzLnN0YWNrLmluZGV4T2YodGhpcy5tZXNzYWdlKSArIHRoaXMubWVzc2FnZS5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCB0aGlzU3RhY2tUcmFjZSA9IHRoaXMuc3RhY2suc2xpY2UoaW5kZXhPZk1lc3NhZ2UpLnNwbGl0KCdcXG4nKS5yZXZlcnNlKCk7XG4gICAgICAgICAgICBjb25zdCBlcnJvclN0YWNrVHJhY2UgPSBlcnJvci5zdGFjay5zbGljZShlcnJvci5zdGFjay5pbmRleE9mKGVycm9yLm1lc3NhZ2UpICsgZXJyb3IubWVzc2FnZS5sZW5ndGgpLnNwbGl0KCdcXG4nKS5yZXZlcnNlKCk7XG4gICAgICAgICAgICAvLyBSZW1vdmUgZHVwbGljYXRlZCB0cmFjZXNcbiAgICAgICAgICAgIHdoaWxlIChlcnJvclN0YWNrVHJhY2UubGVuZ3RoICE9PSAwICYmIGVycm9yU3RhY2tUcmFjZVswXSA9PT0gdGhpc1N0YWNrVHJhY2VbMF0pIHtcbiAgICAgICAgICAgICAgICB0aGlzU3RhY2tUcmFjZS5zaGlmdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zdGFjayA9IGAke3RoaXMuc3RhY2suc2xpY2UoMCwgaW5kZXhPZk1lc3NhZ2UpfSR7dGhpc1N0YWNrVHJhY2UucmV2ZXJzZSgpLmpvaW4oJ1xcbicpfSR7ZXJyb3JTdGFja1RyYWNlLnJldmVyc2UoKS5qb2luKCdcXG4nKX1gO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5SZXF1ZXN0RXJyb3IgPSBSZXF1ZXN0RXJyb3I7XG4vKipcbkFuIGVycm9yIHRvIGJlIHRocm93biB3aGVuIHRoZSBzZXJ2ZXIgcmVkaXJlY3RzIHlvdSBtb3JlIHRoYW4gdGVuIHRpbWVzLlxuSW5jbHVkZXMgYSBgcmVzcG9uc2VgIHByb3BlcnR5LlxuKi9cbmNsYXNzIE1heFJlZGlyZWN0c0Vycm9yIGV4dGVuZHMgUmVxdWVzdEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihyZXF1ZXN0KSB7XG4gICAgICAgIHN1cGVyKGBSZWRpcmVjdGVkICR7cmVxdWVzdC5vcHRpb25zLm1heFJlZGlyZWN0c30gdGltZXMuIEFib3J0aW5nLmAsIHt9LCByZXF1ZXN0KTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ01heFJlZGlyZWN0c0Vycm9yJztcbiAgICAgICAgdGhpcy5jb2RlID0gJ0VSUl9UT09fTUFOWV9SRURJUkVDVFMnO1xuICAgIH1cbn1cbmV4cG9ydHMuTWF4UmVkaXJlY3RzRXJyb3IgPSBNYXhSZWRpcmVjdHNFcnJvcjtcbi8qKlxuQW4gZXJyb3IgdG8gYmUgdGhyb3duIHdoZW4gdGhlIHNlcnZlciByZXNwb25zZSBjb2RlIGlzIG5vdCAyeHggbm9yIDN4eCBpZiBgb3B0aW9ucy5mb2xsb3dSZWRpcmVjdGAgaXMgYHRydWVgLCBidXQgYWx3YXlzIGV4Y2VwdCBmb3IgMzA0LlxuSW5jbHVkZXMgYSBgcmVzcG9uc2VgIHByb3BlcnR5LlxuKi9cbmNsYXNzIEhUVFBFcnJvciBleHRlbmRzIFJlcXVlc3RFcnJvciB7XG4gICAgY29uc3RydWN0b3IocmVzcG9uc2UpIHtcbiAgICAgICAgc3VwZXIoYFJlc3BvbnNlIGNvZGUgJHtyZXNwb25zZS5zdGF0dXNDb2RlfSAoJHtyZXNwb25zZS5zdGF0dXNNZXNzYWdlfSlgLCB7fSwgcmVzcG9uc2UucmVxdWVzdCk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdIVFRQRXJyb3InO1xuICAgICAgICB0aGlzLmNvZGUgPSAnRVJSX05PTl8yWFhfM1hYX1JFU1BPTlNFJztcbiAgICB9XG59XG5leHBvcnRzLkhUVFBFcnJvciA9IEhUVFBFcnJvcjtcbi8qKlxuQW4gZXJyb3IgdG8gYmUgdGhyb3duIHdoZW4gYSBjYWNoZSBtZXRob2QgZmFpbHMuXG5Gb3IgZXhhbXBsZSwgaWYgdGhlIGRhdGFiYXNlIGdvZXMgZG93biBvciB0aGVyZSdzIGEgZmlsZXN5c3RlbSBlcnJvci5cbiovXG5jbGFzcyBDYWNoZUVycm9yIGV4dGVuZHMgUmVxdWVzdEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihlcnJvciwgcmVxdWVzdCkge1xuICAgICAgICBzdXBlcihlcnJvci5tZXNzYWdlLCBlcnJvciwgcmVxdWVzdCk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdDYWNoZUVycm9yJztcbiAgICAgICAgdGhpcy5jb2RlID0gdGhpcy5jb2RlID09PSAnRVJSX0dPVF9SRVFVRVNUX0VSUk9SJyA/ICdFUlJfQ0FDSEVfQUNDRVNTJyA6IHRoaXMuY29kZTtcbiAgICB9XG59XG5leHBvcnRzLkNhY2hlRXJyb3IgPSBDYWNoZUVycm9yO1xuLyoqXG5BbiBlcnJvciB0byBiZSB0aHJvd24gd2hlbiB0aGUgcmVxdWVzdCBib2R5IGlzIGEgc3RyZWFtIGFuZCBhbiBlcnJvciBvY2N1cnMgd2hpbGUgcmVhZGluZyBmcm9tIHRoYXQgc3RyZWFtLlxuKi9cbmNsYXNzIFVwbG9hZEVycm9yIGV4dGVuZHMgUmVxdWVzdEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihlcnJvciwgcmVxdWVzdCkge1xuICAgICAgICBzdXBlcihlcnJvci5tZXNzYWdlLCBlcnJvciwgcmVxdWVzdCk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdVcGxvYWRFcnJvcic7XG4gICAgICAgIHRoaXMuY29kZSA9IHRoaXMuY29kZSA9PT0gJ0VSUl9HT1RfUkVRVUVTVF9FUlJPUicgPyAnRVJSX1VQTE9BRCcgOiB0aGlzLmNvZGU7XG4gICAgfVxufVxuZXhwb3J0cy5VcGxvYWRFcnJvciA9IFVwbG9hZEVycm9yO1xuLyoqXG5BbiBlcnJvciB0byBiZSB0aHJvd24gd2hlbiB0aGUgcmVxdWVzdCBpcyBhYm9ydGVkIGR1ZSB0byBhIHRpbWVvdXQuXG5JbmNsdWRlcyBhbiBgZXZlbnRgIGFuZCBgdGltaW5nc2AgcHJvcGVydHkuXG4qL1xuY2xhc3MgVGltZW91dEVycm9yIGV4dGVuZHMgUmVxdWVzdEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihlcnJvciwgdGltaW5ncywgcmVxdWVzdCkge1xuICAgICAgICBzdXBlcihlcnJvci5tZXNzYWdlLCBlcnJvciwgcmVxdWVzdCk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdUaW1lb3V0RXJyb3InO1xuICAgICAgICB0aGlzLmV2ZW50ID0gZXJyb3IuZXZlbnQ7XG4gICAgICAgIHRoaXMudGltaW5ncyA9IHRpbWluZ3M7XG4gICAgfVxufVxuZXhwb3J0cy5UaW1lb3V0RXJyb3IgPSBUaW1lb3V0RXJyb3I7XG4vKipcbkFuIGVycm9yIHRvIGJlIHRocm93biB3aGVuIHJlYWRpbmcgZnJvbSByZXNwb25zZSBzdHJlYW0gZmFpbHMuXG4qL1xuY2xhc3MgUmVhZEVycm9yIGV4dGVuZHMgUmVxdWVzdEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihlcnJvciwgcmVxdWVzdCkge1xuICAgICAgICBzdXBlcihlcnJvci5tZXNzYWdlLCBlcnJvciwgcmVxdWVzdCk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdSZWFkRXJyb3InO1xuICAgICAgICB0aGlzLmNvZGUgPSB0aGlzLmNvZGUgPT09ICdFUlJfR09UX1JFUVVFU1RfRVJST1InID8gJ0VSUl9SRUFESU5HX1JFU1BPTlNFX1NUUkVBTScgOiB0aGlzLmNvZGU7XG4gICAgfVxufVxuZXhwb3J0cy5SZWFkRXJyb3IgPSBSZWFkRXJyb3I7XG4vKipcbkFuIGVycm9yIHRvIGJlIHRocm93biB3aGVuIGdpdmVuIGFuIHVuc3VwcG9ydGVkIHByb3RvY29sLlxuKi9cbmNsYXNzIFVuc3VwcG9ydGVkUHJvdG9jb2xFcnJvciBleHRlbmRzIFJlcXVlc3RFcnJvciB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihgVW5zdXBwb3J0ZWQgcHJvdG9jb2wgXCIke29wdGlvbnMudXJsLnByb3RvY29sfVwiYCwge30sIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnVW5zdXBwb3J0ZWRQcm90b2NvbEVycm9yJztcbiAgICAgICAgdGhpcy5jb2RlID0gJ0VSUl9VTlNVUFBPUlRFRF9QUk9UT0NPTCc7XG4gICAgfVxufVxuZXhwb3J0cy5VbnN1cHBvcnRlZFByb3RvY29sRXJyb3IgPSBVbnN1cHBvcnRlZFByb3RvY29sRXJyb3I7XG5jb25zdCBwcm94aWVkUmVxdWVzdEV2ZW50cyA9IFtcbiAgICAnc29ja2V0JyxcbiAgICAnY29ubmVjdCcsXG4gICAgJ2NvbnRpbnVlJyxcbiAgICAnaW5mb3JtYXRpb24nLFxuICAgICd1cGdyYWRlJyxcbiAgICAndGltZW91dCdcbl07XG5jbGFzcyBSZXF1ZXN0IGV4dGVuZHMgc3RyZWFtXzEuRHVwbGV4IHtcbiAgICBjb25zdHJ1Y3Rvcih1cmwsIG9wdGlvbnMgPSB7fSwgZGVmYXVsdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgLy8gVGhpcyBtdXN0IGJlIGZhbHNlLCB0byBlbmFibGUgdGhyb3dpbmcgYWZ0ZXIgZGVzdHJveVxuICAgICAgICAgICAgLy8gSXQgaXMgdXNlZCBmb3IgcmV0cnkgbG9naWMgaW4gUHJvbWlzZSBBUElcbiAgICAgICAgICAgIGF1dG9EZXN0cm95OiBmYWxzZSxcbiAgICAgICAgICAgIC8vIEl0IG5lZWRzIHRvIGJlIHplcm8gYmVjYXVzZSB3ZSdyZSBqdXN0IHByb3h5aW5nIHRoZSBkYXRhIHRvIGFub3RoZXIgc3RyZWFtXG4gICAgICAgICAgICBoaWdoV2F0ZXJNYXJrOiAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzW2tEb3dubG9hZGVkU2l6ZV0gPSAwO1xuICAgICAgICB0aGlzW2tVcGxvYWRlZFNpemVdID0gMDtcbiAgICAgICAgdGhpcy5yZXF1ZXN0SW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpc1trU2VydmVyUmVzcG9uc2VzUGlwZWRdID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLnJlZGlyZWN0cyA9IFtdO1xuICAgICAgICB0aGlzW2tTdG9wUmVhZGluZ10gPSBmYWxzZTtcbiAgICAgICAgdGhpc1trVHJpZ2dlclJlYWRdID0gZmFsc2U7XG4gICAgICAgIHRoaXNba0pvYnNdID0gW107XG4gICAgICAgIHRoaXMucmV0cnlDb3VudCA9IDA7XG4gICAgICAgIC8vIFRPRE86IFJlbW92ZSB0aGlzIHdoZW4gdGFyZ2V0aW5nIE5vZGUuanMgPj0gMTJcbiAgICAgICAgdGhpcy5fcHJvZ3Jlc3NDYWxsYmFja3MgPSBbXTtcbiAgICAgICAgY29uc3QgdW5sb2NrV3JpdGUgPSAoKSA9PiB0aGlzLl91bmxvY2tXcml0ZSgpO1xuICAgICAgICBjb25zdCBsb2NrV3JpdGUgPSAoKSA9PiB0aGlzLl9sb2NrV3JpdGUoKTtcbiAgICAgICAgdGhpcy5vbigncGlwZScsIChzb3VyY2UpID0+IHtcbiAgICAgICAgICAgIHNvdXJjZS5wcmVwZW5kTGlzdGVuZXIoJ2RhdGEnLCB1bmxvY2tXcml0ZSk7XG4gICAgICAgICAgICBzb3VyY2Uub24oJ2RhdGEnLCBsb2NrV3JpdGUpO1xuICAgICAgICAgICAgc291cmNlLnByZXBlbmRMaXN0ZW5lcignZW5kJywgdW5sb2NrV3JpdGUpO1xuICAgICAgICAgICAgc291cmNlLm9uKCdlbmQnLCBsb2NrV3JpdGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vbigndW5waXBlJywgKHNvdXJjZSkgPT4ge1xuICAgICAgICAgICAgc291cmNlLm9mZignZGF0YScsIHVubG9ja1dyaXRlKTtcbiAgICAgICAgICAgIHNvdXJjZS5vZmYoJ2RhdGEnLCBsb2NrV3JpdGUpO1xuICAgICAgICAgICAgc291cmNlLm9mZignZW5kJywgdW5sb2NrV3JpdGUpO1xuICAgICAgICAgICAgc291cmNlLm9mZignZW5kJywgbG9ja1dyaXRlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub24oJ3BpcGUnLCBzb3VyY2UgPT4ge1xuICAgICAgICAgICAgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIGh0dHBfMS5JbmNvbWluZ01lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuaGVhZGVycyA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uc291cmNlLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgIC4uLnRoaXMub3B0aW9ucy5oZWFkZXJzXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHsganNvbiwgYm9keSwgZm9ybSB9ID0gb3B0aW9ucztcbiAgICAgICAgaWYgKGpzb24gfHwgYm9keSB8fCBmb3JtKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2NrV3JpdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXhwb3J0cy5rSXNOb3JtYWxpemVkQWxyZWFkeSBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIENvbW1vbiBUeXBlU2NyaXB0IGJ1ZyBzYXlpbmcgdGhhdCBgdGhpcy5jb25zdHJ1Y3RvcmAgaXMgbm90IGFjY2Vzc2libGVcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSB0aGlzLmNvbnN0cnVjdG9yLm5vcm1hbGl6ZUFyZ3VtZW50cyh1cmwsIG9wdGlvbnMsIGRlZmF1bHRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IE1vdmUgdGhpcyB0byBgX2Rlc3Ryb3koKWBcbiAgICAgICAgICAgICAgICBpZiAoaXNfMS5kZWZhdWx0Lm5vZGVTdHJlYW0ob3B0aW9ucy5ib2R5KSkge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmJvZHkuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3koZXJyb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmJvZHkgaW5zdGFuY2VvZiBmc18xLlJlYWRTdHJlYW0pIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgd2FpdEZvck9wZW5GaWxlKHRoaXMub3B0aW9ucy5ib2R5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyB1cmw6IG5vcm1hbGl6ZWRVUkwgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgICAgICAgICBpZiAoIW5vcm1hbGl6ZWRVUkwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTWlzc2luZyBgdXJsYCBwcm9wZXJ0eScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RVcmwgPSBub3JtYWxpemVkVVJMLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgZGVjb2RlVVJJKHRoaXMucmVxdWVzdFVybCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fZmluYWxpemVCb2R5KCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fbWFrZVJlcXVlc3QoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gdGhpc1trUmVxdWVzdF0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gUXVldWVkIHdyaXRlcyBldGMuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBqb2Igb2YgdGhpc1trSm9ic10pIHtcbiAgICAgICAgICAgICAgICAgICAgam9iKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgbWVtb3J5IGxlYWtcbiAgICAgICAgICAgICAgICB0aGlzW2tKb2JzXS5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMucmVxdWVzdEluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIFJlcXVlc3RFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9iZWZvcmVFcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhIHdvcmthcm91bmQgZm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMvbm9kZS9pc3N1ZXMvMzMzMzVcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveShlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KSgpO1xuICAgIH1cbiAgICBzdGF0aWMgbm9ybWFsaXplQXJndW1lbnRzKHVybCwgb3B0aW9ucywgZGVmYXVsdHMpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICAgICAgY29uc3QgcmF3T3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIGlmIChpc18xLmRlZmF1bHQub2JqZWN0KHVybCkgJiYgIWlzXzEuZGVmYXVsdC51cmxJbnN0YW5jZSh1cmwpKSB7XG4gICAgICAgICAgICBvcHRpb25zID0geyAuLi5kZWZhdWx0cywgLi4udXJsLCAuLi5vcHRpb25zIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodXJsICYmIG9wdGlvbnMgJiYgb3B0aW9ucy51cmwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBgdXJsYCBvcHRpb24gaXMgbXV0dWFsbHkgZXhjbHVzaXZlIHdpdGggdGhlIGBpbnB1dGAgYXJndW1lbnQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdGlvbnMgPSB7IC4uLmRlZmF1bHRzLCAuLi5vcHRpb25zIH07XG4gICAgICAgICAgICBpZiAodXJsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnVybCA9IHVybDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc18xLmRlZmF1bHQudXJsSW5zdGFuY2Uob3B0aW9ucy51cmwpKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy51cmwgPSBuZXcgdXJsXzEuVVJMKG9wdGlvbnMudXJsLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE86IERlcHJlY2F0ZSBVUkwgb3B0aW9ucyBpbiBHb3QgMTIuXG4gICAgICAgIC8vIFN1cHBvcnQgZXh0ZW5kLXNwZWNpZmljIG9wdGlvbnNcbiAgICAgICAgaWYgKG9wdGlvbnMuY2FjaGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBvcHRpb25zLmNhY2hlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmRuc0NhY2hlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgb3B0aW9ucy5kbnNDYWNoZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBOaWNlIHR5cGUgYXNzZXJ0aW9uc1xuICAgICAgICBpc18xLmFzc2VydC5hbnkoW2lzXzEuZGVmYXVsdC5zdHJpbmcsIGlzXzEuZGVmYXVsdC51bmRlZmluZWRdLCBvcHRpb25zLm1ldGhvZCk7XG4gICAgICAgIGlzXzEuYXNzZXJ0LmFueShbaXNfMS5kZWZhdWx0Lm9iamVjdCwgaXNfMS5kZWZhdWx0LnVuZGVmaW5lZF0sIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgIGlzXzEuYXNzZXJ0LmFueShbaXNfMS5kZWZhdWx0LnN0cmluZywgaXNfMS5kZWZhdWx0LnVybEluc3RhbmNlLCBpc18xLmRlZmF1bHQudW5kZWZpbmVkXSwgb3B0aW9ucy5wcmVmaXhVcmwpO1xuICAgICAgICBpc18xLmFzc2VydC5hbnkoW2lzXzEuZGVmYXVsdC5vYmplY3QsIGlzXzEuZGVmYXVsdC51bmRlZmluZWRdLCBvcHRpb25zLmNvb2tpZUphcik7XG4gICAgICAgIGlzXzEuYXNzZXJ0LmFueShbaXNfMS5kZWZhdWx0Lm9iamVjdCwgaXNfMS5kZWZhdWx0LnN0cmluZywgaXNfMS5kZWZhdWx0LnVuZGVmaW5lZF0sIG9wdGlvbnMuc2VhcmNoUGFyYW1zKTtcbiAgICAgICAgaXNfMS5hc3NlcnQuYW55KFtpc18xLmRlZmF1bHQub2JqZWN0LCBpc18xLmRlZmF1bHQuc3RyaW5nLCBpc18xLmRlZmF1bHQudW5kZWZpbmVkXSwgb3B0aW9ucy5jYWNoZSk7XG4gICAgICAgIGlzXzEuYXNzZXJ0LmFueShbaXNfMS5kZWZhdWx0Lm9iamVjdCwgaXNfMS5kZWZhdWx0Lm51bWJlciwgaXNfMS5kZWZhdWx0LnVuZGVmaW5lZF0sIG9wdGlvbnMudGltZW91dCk7XG4gICAgICAgIGlzXzEuYXNzZXJ0LmFueShbaXNfMS5kZWZhdWx0Lm9iamVjdCwgaXNfMS5kZWZhdWx0LnVuZGVmaW5lZF0sIG9wdGlvbnMuY29udGV4dCk7XG4gICAgICAgIGlzXzEuYXNzZXJ0LmFueShbaXNfMS5kZWZhdWx0Lm9iamVjdCwgaXNfMS5kZWZhdWx0LnVuZGVmaW5lZF0sIG9wdGlvbnMuaG9va3MpO1xuICAgICAgICBpc18xLmFzc2VydC5hbnkoW2lzXzEuZGVmYXVsdC5ib29sZWFuLCBpc18xLmRlZmF1bHQudW5kZWZpbmVkXSwgb3B0aW9ucy5kZWNvbXByZXNzKTtcbiAgICAgICAgaXNfMS5hc3NlcnQuYW55KFtpc18xLmRlZmF1bHQuYm9vbGVhbiwgaXNfMS5kZWZhdWx0LnVuZGVmaW5lZF0sIG9wdGlvbnMuaWdub3JlSW52YWxpZENvb2tpZXMpO1xuICAgICAgICBpc18xLmFzc2VydC5hbnkoW2lzXzEuZGVmYXVsdC5ib29sZWFuLCBpc18xLmRlZmF1bHQudW5kZWZpbmVkXSwgb3B0aW9ucy5mb2xsb3dSZWRpcmVjdCk7XG4gICAgICAgIGlzXzEuYXNzZXJ0LmFueShbaXNfMS5kZWZhdWx0Lm51bWJlciwgaXNfMS5kZWZhdWx0LnVuZGVmaW5lZF0sIG9wdGlvbnMubWF4UmVkaXJlY3RzKTtcbiAgICAgICAgaXNfMS5hc3NlcnQuYW55KFtpc18xLmRlZmF1bHQuYm9vbGVhbiwgaXNfMS5kZWZhdWx0LnVuZGVmaW5lZF0sIG9wdGlvbnMudGhyb3dIdHRwRXJyb3JzKTtcbiAgICAgICAgaXNfMS5hc3NlcnQuYW55KFtpc18xLmRlZmF1bHQuYm9vbGVhbiwgaXNfMS5kZWZhdWx0LnVuZGVmaW5lZF0sIG9wdGlvbnMuaHR0cDIpO1xuICAgICAgICBpc18xLmFzc2VydC5hbnkoW2lzXzEuZGVmYXVsdC5ib29sZWFuLCBpc18xLmRlZmF1bHQudW5kZWZpbmVkXSwgb3B0aW9ucy5hbGxvd0dldEJvZHkpO1xuICAgICAgICBpc18xLmFzc2VydC5hbnkoW2lzXzEuZGVmYXVsdC5zdHJpbmcsIGlzXzEuZGVmYXVsdC51bmRlZmluZWRdLCBvcHRpb25zLmxvY2FsQWRkcmVzcyk7XG4gICAgICAgIGlzXzEuYXNzZXJ0LmFueShbZG5zX2lwX3ZlcnNpb25fMS5pc0Ruc0xvb2t1cElwVmVyc2lvbiwgaXNfMS5kZWZhdWx0LnVuZGVmaW5lZF0sIG9wdGlvbnMuZG5zTG9va3VwSXBWZXJzaW9uKTtcbiAgICAgICAgaXNfMS5hc3NlcnQuYW55KFtpc18xLmRlZmF1bHQub2JqZWN0LCBpc18xLmRlZmF1bHQudW5kZWZpbmVkXSwgb3B0aW9ucy5odHRwcyk7XG4gICAgICAgIGlzXzEuYXNzZXJ0LmFueShbaXNfMS5kZWZhdWx0LmJvb2xlYW4sIGlzXzEuZGVmYXVsdC51bmRlZmluZWRdLCBvcHRpb25zLnJlamVjdFVuYXV0aG9yaXplZCk7XG4gICAgICAgIGlmIChvcHRpb25zLmh0dHBzKSB7XG4gICAgICAgICAgICBpc18xLmFzc2VydC5hbnkoW2lzXzEuZGVmYXVsdC5ib29sZWFuLCBpc18xLmRlZmF1bHQudW5kZWZpbmVkXSwgb3B0aW9ucy5odHRwcy5yZWplY3RVbmF1dGhvcml6ZWQpO1xuICAgICAgICAgICAgaXNfMS5hc3NlcnQuYW55KFtpc18xLmRlZmF1bHQuZnVuY3Rpb25fLCBpc18xLmRlZmF1bHQudW5kZWZpbmVkXSwgb3B0aW9ucy5odHRwcy5jaGVja1NlcnZlcklkZW50aXR5KTtcbiAgICAgICAgICAgIGlzXzEuYXNzZXJ0LmFueShbaXNfMS5kZWZhdWx0LnN0cmluZywgaXNfMS5kZWZhdWx0Lm9iamVjdCwgaXNfMS5kZWZhdWx0LmFycmF5LCBpc18xLmRlZmF1bHQudW5kZWZpbmVkXSwgb3B0aW9ucy5odHRwcy5jZXJ0aWZpY2F0ZUF1dGhvcml0eSk7XG4gICAgICAgICAgICBpc18xLmFzc2VydC5hbnkoW2lzXzEuZGVmYXVsdC5zdHJpbmcsIGlzXzEuZGVmYXVsdC5vYmplY3QsIGlzXzEuZGVmYXVsdC5hcnJheSwgaXNfMS5kZWZhdWx0LnVuZGVmaW5lZF0sIG9wdGlvbnMuaHR0cHMua2V5KTtcbiAgICAgICAgICAgIGlzXzEuYXNzZXJ0LmFueShbaXNfMS5kZWZhdWx0LnN0cmluZywgaXNfMS5kZWZhdWx0Lm9iamVjdCwgaXNfMS5kZWZhdWx0LmFycmF5LCBpc18xLmRlZmF1bHQudW5kZWZpbmVkXSwgb3B0aW9ucy5odHRwcy5jZXJ0aWZpY2F0ZSk7XG4gICAgICAgICAgICBpc18xLmFzc2VydC5hbnkoW2lzXzEuZGVmYXVsdC5zdHJpbmcsIGlzXzEuZGVmYXVsdC51bmRlZmluZWRdLCBvcHRpb25zLmh0dHBzLnBhc3NwaHJhc2UpO1xuICAgICAgICAgICAgaXNfMS5hc3NlcnQuYW55KFtpc18xLmRlZmF1bHQuc3RyaW5nLCBpc18xLmRlZmF1bHQuYnVmZmVyLCBpc18xLmRlZmF1bHQuYXJyYXksIGlzXzEuZGVmYXVsdC51bmRlZmluZWRdLCBvcHRpb25zLmh0dHBzLnBmeCk7XG4gICAgICAgIH1cbiAgICAgICAgaXNfMS5hc3NlcnQuYW55KFtpc18xLmRlZmF1bHQub2JqZWN0LCBpc18xLmRlZmF1bHQudW5kZWZpbmVkXSwgb3B0aW9ucy5jYWNoZU9wdGlvbnMpO1xuICAgICAgICAvLyBgb3B0aW9ucy5tZXRob2RgXG4gICAgICAgIGlmIChpc18xLmRlZmF1bHQuc3RyaW5nKG9wdGlvbnMubWV0aG9kKSkge1xuICAgICAgICAgICAgb3B0aW9ucy5tZXRob2QgPSBvcHRpb25zLm1ldGhvZC50b1VwcGVyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucy5tZXRob2QgPSAnR0VUJztcbiAgICAgICAgfVxuICAgICAgICAvLyBgb3B0aW9ucy5oZWFkZXJzYFxuICAgICAgICBpZiAob3B0aW9ucy5oZWFkZXJzID09PSAoZGVmYXVsdHMgPT09IG51bGwgfHwgZGVmYXVsdHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRlZmF1bHRzLmhlYWRlcnMpKSB7XG4gICAgICAgICAgICBvcHRpb25zLmhlYWRlcnMgPSB7IC4uLm9wdGlvbnMuaGVhZGVycyB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucy5oZWFkZXJzID0gbG93ZXJjYXNlS2V5cyh7IC4uLihkZWZhdWx0cyA9PT0gbnVsbCB8fCBkZWZhdWx0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVmYXVsdHMuaGVhZGVycyksIC4uLm9wdGlvbnMuaGVhZGVycyB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBEaXNhbGxvdyBsZWdhY3kgYHVybC5VcmxgXG4gICAgICAgIGlmICgnc2xhc2hlcycgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGxlZ2FjeSBgdXJsLlVybGAgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIGBVUkxgIGluc3RlYWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYG9wdGlvbnMuYXV0aGBcbiAgICAgICAgaWYgKCdhdXRoJyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQYXJhbWV0ZXIgYGF1dGhgIGlzIGRlcHJlY2F0ZWQuIFVzZSBgdXNlcm5hbWVgIC8gYHBhc3N3b3JkYCBpbnN0ZWFkLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGBvcHRpb25zLnNlYXJjaFBhcmFtc2BcbiAgICAgICAgaWYgKCdzZWFyY2hQYXJhbXMnIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnNlYXJjaFBhcmFtcyAmJiBvcHRpb25zLnNlYXJjaFBhcmFtcyAhPT0gKGRlZmF1bHRzID09PSBudWxsIHx8IGRlZmF1bHRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWZhdWx0cy5zZWFyY2hQYXJhbXMpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHNlYXJjaFBhcmFtZXRlcnM7XG4gICAgICAgICAgICAgICAgaWYgKGlzXzEuZGVmYXVsdC5zdHJpbmcob3B0aW9ucy5zZWFyY2hQYXJhbXMpIHx8IChvcHRpb25zLnNlYXJjaFBhcmFtcyBpbnN0YW5jZW9mIHVybF8xLlVSTFNlYXJjaFBhcmFtcykpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoUGFyYW1ldGVycyA9IG5ldyB1cmxfMS5VUkxTZWFyY2hQYXJhbXMob3B0aW9ucy5zZWFyY2hQYXJhbXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVTZWFyY2hQYXJhbWV0ZXJzKG9wdGlvbnMuc2VhcmNoUGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoUGFyYW1ldGVycyA9IG5ldyB1cmxfMS5VUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGd1YXJkLWZvci1pblxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvcHRpb25zLnNlYXJjaFBhcmFtcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBvcHRpb25zLnNlYXJjaFBhcmFtc1trZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoUGFyYW1ldGVycy5hcHBlbmQoa2V5LCAnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoUGFyYW1ldGVycy5hcHBlbmQoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gYG5vcm1hbGl6ZUFyZ3VtZW50cygpYCBpcyBhbHNvIHVzZWQgdG8gbWVyZ2Ugb3B0aW9uc1xuICAgICAgICAgICAgICAgIChfYSA9IGRlZmF1bHRzID09PSBudWxsIHx8IGRlZmF1bHRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWZhdWx0cy5zZWFyY2hQYXJhbXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgdXNlIGRlZmF1bHQgaWYgb25lIGlzbid0IGFscmVhZHkgZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlYXJjaFBhcmFtZXRlcnMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaFBhcmFtZXRlcnMuYXBwZW5kKGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5zZWFyY2hQYXJhbXMgPSBzZWFyY2hQYXJhbWV0ZXJzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGBvcHRpb25zLnVzZXJuYW1lYCAmIGBvcHRpb25zLnBhc3N3b3JkYFxuICAgICAgICBvcHRpb25zLnVzZXJuYW1lID0gKF9iID0gb3B0aW9ucy51c2VybmFtZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJyc7XG4gICAgICAgIG9wdGlvbnMucGFzc3dvcmQgPSAoX2MgPSBvcHRpb25zLnBhc3N3b3JkKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiAnJztcbiAgICAgICAgLy8gYG9wdGlvbnMucHJlZml4VXJsYCAmIGBvcHRpb25zLnVybGBcbiAgICAgICAgaWYgKGlzXzEuZGVmYXVsdC51bmRlZmluZWQob3B0aW9ucy5wcmVmaXhVcmwpKSB7XG4gICAgICAgICAgICBvcHRpb25zLnByZWZpeFVybCA9IChfZCA9IGRlZmF1bHRzID09PSBudWxsIHx8IGRlZmF1bHRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWZhdWx0cy5wcmVmaXhVcmwpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6ICcnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucy5wcmVmaXhVcmwgPSBvcHRpb25zLnByZWZpeFVybC50b1N0cmluZygpO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMucHJlZml4VXJsICE9PSAnJyAmJiAhb3B0aW9ucy5wcmVmaXhVcmwuZW5kc1dpdGgoJy8nKSkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMucHJlZml4VXJsICs9ICcvJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNfMS5kZWZhdWx0LnN0cmluZyhvcHRpb25zLnVybCkpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnVybC5zdGFydHNXaXRoKCcvJykpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2BpbnB1dGAgbXVzdCBub3Qgc3RhcnQgd2l0aCBhIHNsYXNoIHdoZW4gdXNpbmcgYHByZWZpeFVybGAnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdGlvbnMudXJsID0gb3B0aW9uc190b191cmxfMS5kZWZhdWx0KG9wdGlvbnMucHJlZml4VXJsICsgb3B0aW9ucy51cmwsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChpc18xLmRlZmF1bHQudW5kZWZpbmVkKG9wdGlvbnMudXJsKSAmJiBvcHRpb25zLnByZWZpeFVybCAhPT0gJycpIHx8IG9wdGlvbnMucHJvdG9jb2wpIHtcbiAgICAgICAgICAgIG9wdGlvbnMudXJsID0gb3B0aW9uc190b191cmxfMS5kZWZhdWx0KG9wdGlvbnMucHJlZml4VXJsLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy51cmwpIHtcbiAgICAgICAgICAgIGlmICgncG9ydCcgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLnBvcnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBNYWtlIGl0IHBvc3NpYmxlIHRvIGNoYW5nZSBgb3B0aW9ucy5wcmVmaXhVcmxgXG4gICAgICAgICAgICBsZXQgeyBwcmVmaXhVcmwgfSA9IG9wdGlvbnM7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob3B0aW9ucywgJ3ByZWZpeFVybCcsIHtcbiAgICAgICAgICAgICAgICBzZXQ6ICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBvcHRpb25zLnVybDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF1cmwuaHJlZi5zdGFydHNXaXRoKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY2hhbmdlIFxcYHByZWZpeFVybFxcYCBmcm9tICR7cHJlZml4VXJsfSB0byAke3ZhbHVlfTogJHt1cmwuaHJlZn1gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnVybCA9IG5ldyB1cmxfMS5VUkwodmFsdWUgKyB1cmwuaHJlZi5zbGljZShwcmVmaXhVcmwubGVuZ3RoKSk7XG4gICAgICAgICAgICAgICAgICAgIHByZWZpeFVybCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiBwcmVmaXhVcmxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gU3VwcG9ydCBVTklYIHNvY2tldHNcbiAgICAgICAgICAgIGxldCB7IHByb3RvY29sIH0gPSBvcHRpb25zLnVybDtcbiAgICAgICAgICAgIGlmIChwcm90b2NvbCA9PT0gJ3VuaXg6Jykge1xuICAgICAgICAgICAgICAgIHByb3RvY29sID0gJ2h0dHA6JztcbiAgICAgICAgICAgICAgICBvcHRpb25zLnVybCA9IG5ldyB1cmxfMS5VUkwoYGh0dHA6Ly91bml4JHtvcHRpb25zLnVybC5wYXRobmFtZX0ke29wdGlvbnMudXJsLnNlYXJjaH1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNldCBzZWFyY2ggcGFyYW1zXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5zZWFyY2hQYXJhbXMpIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWJhc2UtdG8tc3RyaW5nXG4gICAgICAgICAgICAgICAgb3B0aW9ucy51cmwuc2VhcmNoID0gb3B0aW9ucy5zZWFyY2hQYXJhbXMudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFByb3RvY29sIGNoZWNrXG4gICAgICAgICAgICBpZiAocHJvdG9jb2wgIT09ICdodHRwOicgJiYgcHJvdG9jb2wgIT09ICdodHRwczonKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkUHJvdG9jb2xFcnJvcihvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBgdXNlcm5hbWVgXG4gICAgICAgICAgICBpZiAob3B0aW9ucy51c2VybmFtZSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnVzZXJuYW1lID0gb3B0aW9ucy51cmwudXNlcm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnVybC51c2VybmFtZSA9IG9wdGlvbnMudXNlcm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBVcGRhdGUgYHBhc3N3b3JkYFxuICAgICAgICAgICAgaWYgKG9wdGlvbnMucGFzc3dvcmQgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5wYXNzd29yZCA9IG9wdGlvbnMudXJsLnBhc3N3b3JkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy51cmwucGFzc3dvcmQgPSBvcHRpb25zLnBhc3N3b3JkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGBvcHRpb25zLmNvb2tpZUphcmBcbiAgICAgICAgY29uc3QgeyBjb29raWVKYXIgfSA9IG9wdGlvbnM7XG4gICAgICAgIGlmIChjb29raWVKYXIpIHtcbiAgICAgICAgICAgIGxldCB7IHNldENvb2tpZSwgZ2V0Q29va2llU3RyaW5nIH0gPSBjb29raWVKYXI7XG4gICAgICAgICAgICBpc18xLmFzc2VydC5mdW5jdGlvbl8oc2V0Q29va2llKTtcbiAgICAgICAgICAgIGlzXzEuYXNzZXJ0LmZ1bmN0aW9uXyhnZXRDb29raWVTdHJpbmcpO1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IEhvcnJpYmxlIGB0b3VnaC1jb29raWVgIHYzIGNoZWNrICovXG4gICAgICAgICAgICBpZiAoc2V0Q29va2llLmxlbmd0aCA9PT0gNCAmJiBnZXRDb29raWVTdHJpbmcubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgc2V0Q29va2llID0gdXRpbF8xLnByb21pc2lmeShzZXRDb29raWUuYmluZChvcHRpb25zLmNvb2tpZUphcikpO1xuICAgICAgICAgICAgICAgIGdldENvb2tpZVN0cmluZyA9IHV0aWxfMS5wcm9taXNpZnkoZ2V0Q29va2llU3RyaW5nLmJpbmQob3B0aW9ucy5jb29raWVKYXIpKTtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmNvb2tpZUphciA9IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0Q29va2llLFxuICAgICAgICAgICAgICAgICAgICBnZXRDb29raWVTdHJpbmc6IGdldENvb2tpZVN0cmluZ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gYG9wdGlvbnMuY2FjaGVgXG4gICAgICAgIGNvbnN0IHsgY2FjaGUgfSA9IG9wdGlvbnM7XG4gICAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICAgICAgaWYgKCFjYWNoZWFibGVTdG9yZS5oYXMoY2FjaGUpKSB7XG4gICAgICAgICAgICAgICAgY2FjaGVhYmxlU3RvcmUuc2V0KGNhY2hlLCBuZXcgQ2FjaGVhYmxlUmVxdWVzdCgoKHJlcXVlc3RPcHRpb25zLCBoYW5kbGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlcXVlc3RPcHRpb25zW2tSZXF1ZXN0XShyZXF1ZXN0T3B0aW9ucywgaGFuZGxlcik7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IHJlbW92ZSB0aGlzIHdoZW4gYGNhY2hlYWJsZS1yZXF1ZXN0YCBzdXBwb3J0cyBhc3luYyByZXF1ZXN0IGZ1bmN0aW9ucy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzXzEuZGVmYXVsdC5wcm9taXNlKHJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIG9ubHkgbmVlZCB0byBpbXBsZW1lbnQgdGhlIGVycm9yIGhhbmRsZXIgaW4gb3JkZXIgdG8gc3VwcG9ydCBIVFRQMiBjYWNoaW5nLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHJlc3VsdCB3aWxsIGJlIGEgcHJvbWlzZSBhbnl3YXkuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQub25jZSA9IChldmVudCwgaGFuZGxlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudCA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuY2F0Y2goaGFuZGxlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50ID09PSAnYWJvcnQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBlbXB0eSBjYXRjaCBpcyBuZWVkZWQgaGVyZSBpbiBjYXNlIHdoZW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXQgcmVqZWN0cyBiZWZvcmUgaXQncyBgYXdhaXRgZWQgaW4gYF9tYWtlUmVxdWVzdGAuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcXVlc3QgPSAoYXdhaXQgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0Lm9uY2UoJ2Fib3J0JywgaGFuZGxlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoX2EpIHsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IHNhZmV0eSBjaGVjayAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gSFRUUDIgcHJvbWlzZSBldmVudDogJHtldmVudH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9KSwgY2FjaGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBgb3B0aW9ucy5jYWNoZU9wdGlvbnNgXG4gICAgICAgIG9wdGlvbnMuY2FjaGVPcHRpb25zID0geyAuLi5vcHRpb25zLmNhY2hlT3B0aW9ucyB9O1xuICAgICAgICAvLyBgb3B0aW9ucy5kbnNDYWNoZWBcbiAgICAgICAgaWYgKG9wdGlvbnMuZG5zQ2FjaGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGlmICghZ2xvYmFsRG5zQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICBnbG9iYWxEbnNDYWNoZSA9IG5ldyBjYWNoZWFibGVfbG9va3VwXzEuZGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0aW9ucy5kbnNDYWNoZSA9IGdsb2JhbERuc0NhY2hlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpc18xLmRlZmF1bHQudW5kZWZpbmVkKG9wdGlvbnMuZG5zQ2FjaGUpICYmICFvcHRpb25zLmRuc0NhY2hlLmxvb2t1cCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgUGFyYW1ldGVyIFxcYGRuc0NhY2hlXFxgIG11c3QgYmUgYSBDYWNoZWFibGVMb29rdXAgaW5zdGFuY2Ugb3IgYSBib29sZWFuLCBnb3QgJHtpc18xLmRlZmF1bHQob3B0aW9ucy5kbnNDYWNoZSl9YCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYG9wdGlvbnMudGltZW91dGBcbiAgICAgICAgaWYgKGlzXzEuZGVmYXVsdC5udW1iZXIob3B0aW9ucy50aW1lb3V0KSkge1xuICAgICAgICAgICAgb3B0aW9ucy50aW1lb3V0ID0geyByZXF1ZXN0OiBvcHRpb25zLnRpbWVvdXQgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkZWZhdWx0cyAmJiBvcHRpb25zLnRpbWVvdXQgIT09IGRlZmF1bHRzLnRpbWVvdXQpIHtcbiAgICAgICAgICAgIG9wdGlvbnMudGltZW91dCA9IHtcbiAgICAgICAgICAgICAgICAuLi5kZWZhdWx0cy50aW1lb3V0LFxuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMudGltZW91dFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMudGltZW91dCA9IHsgLi4ub3B0aW9ucy50aW1lb3V0IH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gYG9wdGlvbnMuY29udGV4dGBcbiAgICAgICAgaWYgKCFvcHRpb25zLmNvbnRleHQpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuY29udGV4dCA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIC8vIGBvcHRpb25zLmhvb2tzYFxuICAgICAgICBjb25zdCBhcmVIb29rc0RlZmF1bHQgPSBvcHRpb25zLmhvb2tzID09PSAoZGVmYXVsdHMgPT09IG51bGwgfHwgZGVmYXVsdHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRlZmF1bHRzLmhvb2tzKTtcbiAgICAgICAgb3B0aW9ucy5ob29rcyA9IHsgLi4ub3B0aW9ucy5ob29rcyB9O1xuICAgICAgICBmb3IgKGNvbnN0IGV2ZW50IG9mIGV4cG9ydHMua25vd25Ib29rRXZlbnRzKSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQgaW4gb3B0aW9ucy5ob29rcykge1xuICAgICAgICAgICAgICAgIGlmIChpc18xLmRlZmF1bHQuYXJyYXkob3B0aW9ucy5ob29rc1tldmVudF0pKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzMxNDQ1I2lzc3VlY29tbWVudC01NzY5MjkwNDRcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5ob29rc1tldmVudF0gPSBbLi4ub3B0aW9ucy5ob29rc1tldmVudF1dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgUGFyYW1ldGVyIFxcYCR7ZXZlbnR9XFxgIG11c3QgYmUgYW4gQXJyYXksIGdvdCAke2lzXzEuZGVmYXVsdChvcHRpb25zLmhvb2tzW2V2ZW50XSl9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5ob29rc1tldmVudF0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmYXVsdHMgJiYgIWFyZUhvb2tzRGVmYXVsdCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBldmVudCBvZiBleHBvcnRzLmtub3duSG9va0V2ZW50cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRIb29rcyA9IGRlZmF1bHRzLmhvb2tzW2V2ZW50XTtcbiAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdEhvb2tzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMzE0NDUjaXNzdWVjb21tZW50LTU3NjkyOTA0NFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmhvb2tzW2V2ZW50XSA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRlZmF1bHRzLmhvb2tzW2V2ZW50XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMuaG9va3NbZXZlbnRdXG4gICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEROUyBvcHRpb25zXG4gICAgICAgIGlmICgnZmFtaWx5JyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbl93YXJuaW5nXzEuZGVmYXVsdCgnXCJvcHRpb25zLmZhbWlseVwiIHdhcyBuZXZlciBkb2N1bWVudGVkLCBwbGVhc2UgdXNlIFwib3B0aW9ucy5kbnNMb29rdXBJcFZlcnNpb25cIicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEhUVFBTIG9wdGlvbnNcbiAgICAgICAgaWYgKGRlZmF1bHRzID09PSBudWxsIHx8IGRlZmF1bHRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWZhdWx0cy5odHRwcykge1xuICAgICAgICAgICAgb3B0aW9ucy5odHRwcyA9IHsgLi4uZGVmYXVsdHMuaHR0cHMsIC4uLm9wdGlvbnMuaHR0cHMgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJ3JlamVjdFVuYXV0aG9yaXplZCcgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgZGVwcmVjYXRpb25fd2FybmluZ18xLmRlZmF1bHQoJ1wib3B0aW9ucy5yZWplY3RVbmF1dGhvcml6ZWRcIiBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBcIm9wdGlvbnMuaHR0cHMucmVqZWN0VW5hdXRob3JpemVkXCInKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJ2NoZWNrU2VydmVySWRlbnRpdHknIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uX3dhcm5pbmdfMS5kZWZhdWx0KCdcIm9wdGlvbnMuY2hlY2tTZXJ2ZXJJZGVudGl0eVwiIHdhcyBuZXZlciBkb2N1bWVudGVkLCBwbGVhc2UgdXNlIFwib3B0aW9ucy5odHRwcy5jaGVja1NlcnZlcklkZW50aXR5XCInKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJ2NhJyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbl93YXJuaW5nXzEuZGVmYXVsdCgnXCJvcHRpb25zLmNhXCIgd2FzIG5ldmVyIGRvY3VtZW50ZWQsIHBsZWFzZSB1c2UgXCJvcHRpb25zLmh0dHBzLmNlcnRpZmljYXRlQXV0aG9yaXR5XCInKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJ2tleScgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgZGVwcmVjYXRpb25fd2FybmluZ18xLmRlZmF1bHQoJ1wib3B0aW9ucy5rZXlcIiB3YXMgbmV2ZXIgZG9jdW1lbnRlZCwgcGxlYXNlIHVzZSBcIm9wdGlvbnMuaHR0cHMua2V5XCInKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJ2NlcnQnIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uX3dhcm5pbmdfMS5kZWZhdWx0KCdcIm9wdGlvbnMuY2VydFwiIHdhcyBuZXZlciBkb2N1bWVudGVkLCBwbGVhc2UgdXNlIFwib3B0aW9ucy5odHRwcy5jZXJ0aWZpY2F0ZVwiJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdwYXNzcGhyYXNlJyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbl93YXJuaW5nXzEuZGVmYXVsdCgnXCJvcHRpb25zLnBhc3NwaHJhc2VcIiB3YXMgbmV2ZXIgZG9jdW1lbnRlZCwgcGxlYXNlIHVzZSBcIm9wdGlvbnMuaHR0cHMucGFzc3BocmFzZVwiJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdwZngnIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uX3dhcm5pbmdfMS5kZWZhdWx0KCdcIm9wdGlvbnMucGZ4XCIgd2FzIG5ldmVyIGRvY3VtZW50ZWQsIHBsZWFzZSB1c2UgXCJvcHRpb25zLmh0dHBzLnBmeFwiJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gT3RoZXIgb3B0aW9uc1xuICAgICAgICBpZiAoJ2ZvbGxvd1JlZGlyZWN0cycgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGBmb2xsb3dSZWRpcmVjdHNgIG9wdGlvbiBkb2VzIG5vdCBleGlzdC4gVXNlIGBmb2xsb3dSZWRpcmVjdGAgaW5zdGVhZC4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5hZ2VudCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gb3B0aW9ucy5hZ2VudCkge1xuICAgICAgICAgICAgICAgIGlmIChrZXkgIT09ICdodHRwJyAmJiBrZXkgIT09ICdodHRwcycgJiYga2V5ICE9PSAnaHR0cDInKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIHRoZSBcXGBvcHRpb25zLmFnZW50XFxgIHByb3BlcnRpZXMgdG8gYmUgXFxgaHR0cFxcYCwgXFxgaHR0cHNcXGAgb3IgXFxgaHR0cDJcXGAsIGdvdCBcXGAke2tleX1cXGBgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucy5tYXhSZWRpcmVjdHMgPSAoX2UgPSBvcHRpb25zLm1heFJlZGlyZWN0cykgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogMDtcbiAgICAgICAgLy8gU2V0IG5vbi1lbnVtZXJhYmxlIHByb3BlcnRpZXNcbiAgICAgICAgZXhwb3J0cy5zZXROb25FbnVtZXJhYmxlUHJvcGVydGllcyhbZGVmYXVsdHMsIHJhd09wdGlvbnNdLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZV9hcmd1bWVudHNfMS5kZWZhdWx0KG9wdGlvbnMsIGRlZmF1bHRzKTtcbiAgICB9XG4gICAgX2xvY2tXcml0ZSgpIHtcbiAgICAgICAgY29uc3Qgb25Mb2NrZWRXcml0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBwYXlsb2FkIGhhcyBiZWVuIGFscmVhZHkgcHJvdmlkZWQnKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy53cml0ZSA9IG9uTG9ja2VkV3JpdGU7XG4gICAgICAgIHRoaXMuZW5kID0gb25Mb2NrZWRXcml0ZTtcbiAgICB9XG4gICAgX3VubG9ja1dyaXRlKCkge1xuICAgICAgICB0aGlzLndyaXRlID0gc3VwZXIud3JpdGU7XG4gICAgICAgIHRoaXMuZW5kID0gc3VwZXIuZW5kO1xuICAgIH1cbiAgICBhc3luYyBfZmluYWxpemVCb2R5KCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHsgaGVhZGVycyB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgaXNGb3JtID0gIWlzXzEuZGVmYXVsdC51bmRlZmluZWQob3B0aW9ucy5mb3JtKTtcbiAgICAgICAgY29uc3QgaXNKU09OID0gIWlzXzEuZGVmYXVsdC51bmRlZmluZWQob3B0aW9ucy5qc29uKTtcbiAgICAgICAgY29uc3QgaXNCb2R5ID0gIWlzXzEuZGVmYXVsdC51bmRlZmluZWQob3B0aW9ucy5ib2R5KTtcbiAgICAgICAgY29uc3QgaGFzUGF5bG9hZCA9IGlzRm9ybSB8fCBpc0pTT04gfHwgaXNCb2R5O1xuICAgICAgICBjb25zdCBjYW5ub3RIYXZlQm9keSA9IGV4cG9ydHMud2l0aG91dEJvZHkuaGFzKG9wdGlvbnMubWV0aG9kKSAmJiAhKG9wdGlvbnMubWV0aG9kID09PSAnR0VUJyAmJiBvcHRpb25zLmFsbG93R2V0Qm9keSk7XG4gICAgICAgIHRoaXMuX2Nhbm5vdEhhdmVCb2R5ID0gY2Fubm90SGF2ZUJvZHk7XG4gICAgICAgIGlmIChoYXNQYXlsb2FkKSB7XG4gICAgICAgICAgICBpZiAoY2Fubm90SGF2ZUJvZHkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBUaGUgXFxgJHtvcHRpb25zLm1ldGhvZH1cXGAgbWV0aG9kIGNhbm5vdCBiZSB1c2VkIHdpdGggYSBib2R5YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoW2lzQm9keSwgaXNGb3JtLCBpc0pTT05dLmZpbHRlcihpc1RydWUgPT4gaXNUcnVlKS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGBib2R5YCwgYGpzb25gIGFuZCBgZm9ybWAgb3B0aW9ucyBhcmUgbXV0dWFsbHkgZXhjbHVzaXZlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNCb2R5ICYmXG4gICAgICAgICAgICAgICAgIShvcHRpb25zLmJvZHkgaW5zdGFuY2VvZiBzdHJlYW1fMS5SZWFkYWJsZSkgJiZcbiAgICAgICAgICAgICAgICAhaXNfMS5kZWZhdWx0LnN0cmluZyhvcHRpb25zLmJvZHkpICYmXG4gICAgICAgICAgICAgICAgIWlzXzEuZGVmYXVsdC5idWZmZXIob3B0aW9ucy5ib2R5KSAmJlxuICAgICAgICAgICAgICAgICFpc19mb3JtX2RhdGFfMS5kZWZhdWx0KG9wdGlvbnMuYm9keSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgYGJvZHlgIG9wdGlvbiBtdXN0IGJlIGEgc3RyZWFtLlJlYWRhYmxlLCBzdHJpbmcgb3IgQnVmZmVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNGb3JtICYmICFpc18xLmRlZmF1bHQub2JqZWN0KG9wdGlvbnMuZm9ybSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgYGZvcm1gIG9wdGlvbiBtdXN0IGJlIGFuIE9iamVjdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIFNlcmlhbGl6ZSBib2R5XG4gICAgICAgICAgICAgICAgY29uc3Qgbm9Db250ZW50VHlwZSA9ICFpc18xLmRlZmF1bHQuc3RyaW5nKGhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNCb2R5KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgaHR0cHM6Ly9naXRodWIuY29tL2Zvcm0tZGF0YS9mb3JtLWRhdGFcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzX2Zvcm1fZGF0YV8xLmRlZmF1bHQob3B0aW9ucy5ib2R5KSAmJiBub0NvbnRlbnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzWydjb250ZW50LXR5cGUnXSA9IGBtdWx0aXBhcnQvZm9ybS1kYXRhOyBib3VuZGFyeT0ke29wdGlvbnMuYm9keS5nZXRCb3VuZGFyeSgpfWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpc1trQm9keV0gPSBvcHRpb25zLmJvZHk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzRm9ybSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9Db250ZW50VHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1snY29udGVudC10eXBlJ10gPSAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzW2tCb2R5XSA9IChuZXcgdXJsXzEuVVJMU2VhcmNoUGFyYW1zKG9wdGlvbnMuZm9ybSkpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9Db250ZW50VHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1snY29udGVudC10eXBlJ10gPSAnYXBwbGljYXRpb24vanNvbic7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpc1trQm9keV0gPSBvcHRpb25zLnN0cmluZ2lmeUpzb24ob3B0aW9ucy5qc29uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgdXBsb2FkQm9keVNpemUgPSBhd2FpdCBnZXRfYm9keV9zaXplXzEuZGVmYXVsdCh0aGlzW2tCb2R5XSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgICAgICAvLyBTZWUgaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzcyMzAjc2VjdGlvbi0zLjMuMlxuICAgICAgICAgICAgICAgIC8vIEEgdXNlciBhZ2VudCBTSE9VTEQgc2VuZCBhIENvbnRlbnQtTGVuZ3RoIGluIGEgcmVxdWVzdCBtZXNzYWdlIHdoZW5cbiAgICAgICAgICAgICAgICAvLyBubyBUcmFuc2Zlci1FbmNvZGluZyBpcyBzZW50IGFuZCB0aGUgcmVxdWVzdCBtZXRob2QgZGVmaW5lcyBhIG1lYW5pbmdcbiAgICAgICAgICAgICAgICAvLyBmb3IgYW4gZW5jbG9zZWQgcGF5bG9hZCBib2R5LiAgRm9yIGV4YW1wbGUsIGEgQ29udGVudC1MZW5ndGggaGVhZGVyXG4gICAgICAgICAgICAgICAgLy8gZmllbGQgaXMgbm9ybWFsbHkgc2VudCBpbiBhIFBPU1QgcmVxdWVzdCBldmVuIHdoZW4gdGhlIHZhbHVlIGlzIDBcbiAgICAgICAgICAgICAgICAvLyAoaW5kaWNhdGluZyBhbiBlbXB0eSBwYXlsb2FkIGJvZHkpLiAgQSB1c2VyIGFnZW50IFNIT1VMRCBOT1Qgc2VuZCBhXG4gICAgICAgICAgICAgICAgLy8gQ29udGVudC1MZW5ndGggaGVhZGVyIGZpZWxkIHdoZW4gdGhlIHJlcXVlc3QgbWVzc2FnZSBkb2VzIG5vdCBjb250YWluXG4gICAgICAgICAgICAgICAgLy8gYSBwYXlsb2FkIGJvZHkgYW5kIHRoZSBtZXRob2Qgc2VtYW50aWNzIGRvIG5vdCBhbnRpY2lwYXRlIHN1Y2ggYVxuICAgICAgICAgICAgICAgIC8vIGJvZHkuXG4gICAgICAgICAgICAgICAgaWYgKGlzXzEuZGVmYXVsdC51bmRlZmluZWQoaGVhZGVyc1snY29udGVudC1sZW5ndGgnXSkgJiYgaXNfMS5kZWZhdWx0LnVuZGVmaW5lZChoZWFkZXJzWyd0cmFuc2Zlci1lbmNvZGluZyddKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNhbm5vdEhhdmVCb2R5ICYmICFpc18xLmRlZmF1bHQudW5kZWZpbmVkKHVwbG9hZEJvZHlTaXplKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1snY29udGVudC1sZW5ndGgnXSA9IFN0cmluZyh1cGxvYWRCb2R5U2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2Fubm90SGF2ZUJvZHkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvY2tXcml0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fdW5sb2NrV3JpdGUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzW2tCb2R5U2l6ZV0gPSBOdW1iZXIoaGVhZGVyc1snY29udGVudC1sZW5ndGgnXSkgfHwgdW5kZWZpbmVkO1xuICAgIH1cbiAgICBhc3luYyBfb25SZXNwb25zZUJhc2UocmVzcG9uc2UpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB7IHVybCB9ID0gb3B0aW9ucztcbiAgICAgICAgdGhpc1trT3JpZ2luYWxSZXNwb25zZV0gPSByZXNwb25zZTtcbiAgICAgICAgaWYgKG9wdGlvbnMuZGVjb21wcmVzcykge1xuICAgICAgICAgICAgcmVzcG9uc2UgPSBkZWNvbXByZXNzUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXR1c0NvZGUgPSByZXNwb25zZS5zdGF0dXNDb2RlO1xuICAgICAgICBjb25zdCB0eXBlZFJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICAgIHR5cGVkUmVzcG9uc2Uuc3RhdHVzTWVzc2FnZSA9IHR5cGVkUmVzcG9uc2Uuc3RhdHVzTWVzc2FnZSA/IHR5cGVkUmVzcG9uc2Uuc3RhdHVzTWVzc2FnZSA6IGh0dHAuU1RBVFVTX0NPREVTW3N0YXR1c0NvZGVdO1xuICAgICAgICB0eXBlZFJlc3BvbnNlLnVybCA9IG9wdGlvbnMudXJsLnRvU3RyaW5nKCk7XG4gICAgICAgIHR5cGVkUmVzcG9uc2UucmVxdWVzdFVybCA9IHRoaXMucmVxdWVzdFVybDtcbiAgICAgICAgdHlwZWRSZXNwb25zZS5yZWRpcmVjdFVybHMgPSB0aGlzLnJlZGlyZWN0cztcbiAgICAgICAgdHlwZWRSZXNwb25zZS5yZXF1ZXN0ID0gdGhpcztcbiAgICAgICAgdHlwZWRSZXNwb25zZS5pc0Zyb21DYWNoZSA9IHJlc3BvbnNlLmZyb21DYWNoZSB8fCBmYWxzZTtcbiAgICAgICAgdHlwZWRSZXNwb25zZS5pcCA9IHRoaXMuaXA7XG4gICAgICAgIHR5cGVkUmVzcG9uc2UucmV0cnlDb3VudCA9IHRoaXMucmV0cnlDb3VudDtcbiAgICAgICAgdGhpc1trSXNGcm9tQ2FjaGVdID0gdHlwZWRSZXNwb25zZS5pc0Zyb21DYWNoZTtcbiAgICAgICAgdGhpc1trUmVzcG9uc2VTaXplXSA9IE51bWJlcihyZXNwb25zZS5oZWFkZXJzWydjb250ZW50LWxlbmd0aCddKSB8fCB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXNba1Jlc3BvbnNlXSA9IHJlc3BvbnNlO1xuICAgICAgICByZXNwb25zZS5vbmNlKCdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzW2tSZXNwb25zZVNpemVdID0gdGhpc1trRG93bmxvYWRlZFNpemVdO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdkb3dubG9hZFByb2dyZXNzJywgdGhpcy5kb3dubG9hZFByb2dyZXNzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc3BvbnNlLm9uY2UoJ2Vycm9yJywgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAvLyBGb3JjZSBjbGVhbi11cCwgYmVjYXVzZSBzb21lIHBhY2thZ2VzIGRvbid0IGRvIHRoaXMuXG4gICAgICAgICAgICAvLyBUT0RPOiBGaXggZGVjb21wcmVzcy1yZXNwb25zZVxuICAgICAgICAgICAgcmVzcG9uc2UuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5fYmVmb3JlRXJyb3IobmV3IFJlYWRFcnJvcihlcnJvciwgdGhpcykpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmVzcG9uc2Uub25jZSgnYWJvcnRlZCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2JlZm9yZUVycm9yKG5ldyBSZWFkRXJyb3Ioe1xuICAgICAgICAgICAgICAgIG5hbWU6ICdFcnJvcicsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ1RoZSBzZXJ2ZXIgYWJvcnRlZCBwZW5kaW5nIHJlcXVlc3QnLFxuICAgICAgICAgICAgICAgIGNvZGU6ICdFQ09OTlJFU0VUJ1xuICAgICAgICAgICAgfSwgdGhpcykpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbWl0KCdkb3dubG9hZFByb2dyZXNzJywgdGhpcy5kb3dubG9hZFByb2dyZXNzKTtcbiAgICAgICAgY29uc3QgcmF3Q29va2llcyA9IHJlc3BvbnNlLmhlYWRlcnNbJ3NldC1jb29raWUnXTtcbiAgICAgICAgaWYgKGlzXzEuZGVmYXVsdC5vYmplY3Qob3B0aW9ucy5jb29raWVKYXIpICYmIHJhd0Nvb2tpZXMpIHtcbiAgICAgICAgICAgIGxldCBwcm9taXNlcyA9IHJhd0Nvb2tpZXMubWFwKGFzeW5jIChyYXdDb29raWUpID0+IG9wdGlvbnMuY29va2llSmFyLnNldENvb2tpZShyYXdDb29raWUsIHVybC50b1N0cmluZygpKSk7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5pZ25vcmVJbnZhbGlkQ29va2llcykge1xuICAgICAgICAgICAgICAgIHByb21pc2VzID0gcHJvbWlzZXMubWFwKGFzeW5jIChwKSA9PiBwLmNhdGNoKCgpID0+IHsgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9iZWZvcmVFcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmZvbGxvd1JlZGlyZWN0ICYmIHJlc3BvbnNlLmhlYWRlcnMubG9jYXRpb24gJiYgcmVkaXJlY3RDb2Rlcy5oYXMoc3RhdHVzQ29kZSkpIHtcbiAgICAgICAgICAgIC8vIFdlJ3JlIGJlaW5nIHJlZGlyZWN0ZWQsIHdlIGRvbid0IGNhcmUgYWJvdXQgdGhlIHJlc3BvbnNlLlxuICAgICAgICAgICAgLy8gSXQnZCBiZSBiZXN0IHRvIGFib3J0IHRoZSByZXF1ZXN0LCBidXQgd2UgY2FuJ3QgYmVjYXVzZVxuICAgICAgICAgICAgLy8gd2Ugd291bGQgaGF2ZSB0byBzYWNyaWZpY2UgdGhlIFRDUCBjb25uZWN0aW9uLiBXZSBkb24ndCB3YW50IHRoYXQuXG4gICAgICAgICAgICByZXNwb25zZS5yZXN1bWUoKTtcbiAgICAgICAgICAgIGlmICh0aGlzW2tSZXF1ZXN0XSkge1xuICAgICAgICAgICAgICAgIHRoaXNba0NhbmNlbFRpbWVvdXRzXSgpO1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZHluYW1pYy1kZWxldGVcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpc1trUmVxdWVzdF07XG4gICAgICAgICAgICAgICAgdGhpc1trVW5wcm94eUV2ZW50c10oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNob3VsZEJlR2V0ID0gc3RhdHVzQ29kZSA9PT0gMzAzICYmIG9wdGlvbnMubWV0aG9kICE9PSAnR0VUJyAmJiBvcHRpb25zLm1ldGhvZCAhPT0gJ0hFQUQnO1xuICAgICAgICAgICAgaWYgKHNob3VsZEJlR2V0IHx8ICFvcHRpb25zLm1ldGhvZFJld3JpdGluZykge1xuICAgICAgICAgICAgICAgIC8vIFNlcnZlciByZXNwb25kZWQgd2l0aCBcInNlZSBvdGhlclwiLCBpbmRpY2F0aW5nIHRoYXQgdGhlIHJlc291cmNlIGV4aXN0cyBhdCBhbm90aGVyIGxvY2F0aW9uLFxuICAgICAgICAgICAgICAgIC8vIGFuZCB0aGUgY2xpZW50IHNob3VsZCByZXF1ZXN0IGl0IGZyb20gdGhhdCBsb2NhdGlvbiB2aWEgR0VUIG9yIEhFQUQuXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5tZXRob2QgPSAnR0VUJztcbiAgICAgICAgICAgICAgICBpZiAoJ2JvZHknIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuYm9keTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCdqc29uJyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmpzb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgnZm9ybScgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5mb3JtO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzW2tCb2R5XSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5oZWFkZXJzWydjb250ZW50LWxlbmd0aCddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucmVkaXJlY3RzLmxlbmd0aCA+PSBvcHRpb25zLm1heFJlZGlyZWN0cykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JlZm9yZUVycm9yKG5ldyBNYXhSZWRpcmVjdHNFcnJvcih0aGlzKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBEbyBub3QgcmVtb3ZlLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3NpbmRyZXNvcmh1cy9nb3QvcHVsbC8yMTRcbiAgICAgICAgICAgICAgICBjb25zdCByZWRpcmVjdEJ1ZmZlciA9IEJ1ZmZlci5mcm9tKHJlc3BvbnNlLmhlYWRlcnMubG9jYXRpb24sICdiaW5hcnknKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIC8vIEhhbmRsZXMgaW52YWxpZCBVUkxzLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3NpbmRyZXNvcmh1cy9nb3QvaXNzdWVzLzYwNFxuICAgICAgICAgICAgICAgIGNvbnN0IHJlZGlyZWN0VXJsID0gbmV3IHVybF8xLlVSTChyZWRpcmVjdEJ1ZmZlciwgdXJsKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZWRpcmVjdFN0cmluZyA9IHJlZGlyZWN0VXJsLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgZGVjb2RlVVJJKHJlZGlyZWN0U3RyaW5nKTtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8taW5uZXItZGVjbGFyYXRpb25zXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gaXNVbml4U29ja2V0VVJMKHVybCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXJsLnByb3RvY29sID09PSAndW5peDonIHx8IHVybC5ob3N0bmFtZSA9PT0gJ3VuaXgnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWlzVW5peFNvY2tldFVSTCh1cmwpICYmIGlzVW5peFNvY2tldFVSTChyZWRpcmVjdFVybCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYmVmb3JlRXJyb3IobmV3IFJlcXVlc3RFcnJvcignQ2Fubm90IHJlZGlyZWN0IHRvIFVOSVggc29ja2V0Jywge30sIHRoaXMpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBSZWRpcmVjdGluZyB0byBhIGRpZmZlcmVudCBzaXRlLCBjbGVhciBzZW5zaXRpdmUgZGF0YS5cbiAgICAgICAgICAgICAgICBpZiAocmVkaXJlY3RVcmwuaG9zdG5hbWUgIT09IHVybC5ob3N0bmFtZSB8fCByZWRpcmVjdFVybC5wb3J0ICE9PSB1cmwucG9ydCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoJ2hvc3QnIGluIG9wdGlvbnMuaGVhZGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuaGVhZGVycy5ob3N0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICgnY29va2llJyBpbiBvcHRpb25zLmhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmhlYWRlcnMuY29va2llO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICgnYXV0aG9yaXphdGlvbicgaW4gb3B0aW9ucy5oZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5oZWFkZXJzLmF1dGhvcml6YXRpb247XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMudXNlcm5hbWUgfHwgb3B0aW9ucy5wYXNzd29yZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy51c2VybmFtZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5wYXNzd29yZCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZWRpcmVjdFVybC51c2VybmFtZSA9IG9wdGlvbnMudXNlcm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0VXJsLnBhc3N3b3JkID0gb3B0aW9ucy5wYXNzd29yZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5yZWRpcmVjdHMucHVzaChyZWRpcmVjdFN0cmluZyk7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy51cmwgPSByZWRpcmVjdFVybDtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGhvb2sgb2Ygb3B0aW9ucy5ob29rcy5iZWZvcmVSZWRpcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYXdhaXQtaW4tbG9vcFxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBob29rKG9wdGlvbnMsIHR5cGVkUmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ3JlZGlyZWN0JywgdHlwZWRSZXNwb25zZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fbWFrZVJlcXVlc3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JlZm9yZUVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuaXNTdHJlYW0gJiYgb3B0aW9ucy50aHJvd0h0dHBFcnJvcnMgJiYgIWlzX3Jlc3BvbnNlX29rXzEuaXNSZXNwb25zZU9rKHR5cGVkUmVzcG9uc2UpKSB7XG4gICAgICAgICAgICB0aGlzLl9iZWZvcmVFcnJvcihuZXcgSFRUUEVycm9yKHR5cGVkUmVzcG9uc2UpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXNwb25zZS5vbigncmVhZGFibGUnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpc1trVHJpZ2dlclJlYWRdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVhZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vbigncmVzdW1lJywgKCkgPT4ge1xuICAgICAgICAgICAgcmVzcG9uc2UucmVzdW1lKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9uKCdwYXVzZScsICgpID0+IHtcbiAgICAgICAgICAgIHJlc3BvbnNlLnBhdXNlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXNwb25zZS5vbmNlKCdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnB1c2gobnVsbCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVtaXQoJ3Jlc3BvbnNlJywgcmVzcG9uc2UpO1xuICAgICAgICBmb3IgKGNvbnN0IGRlc3RpbmF0aW9uIG9mIHRoaXNba1NlcnZlclJlc3BvbnNlc1BpcGVkXSkge1xuICAgICAgICAgICAgaWYgKGRlc3RpbmF0aW9uLmhlYWRlcnNTZW50KSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ3VhcmQtZm9yLWluXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiByZXNwb25zZS5oZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNBbGxvd2VkID0gb3B0aW9ucy5kZWNvbXByZXNzID8ga2V5ICE9PSAnY29udGVudC1lbmNvZGluZycgOiB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcmVzcG9uc2UuaGVhZGVyc1trZXldO1xuICAgICAgICAgICAgICAgIGlmIChpc0FsbG93ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb24uc2V0SGVhZGVyKGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlc3RpbmF0aW9uLnN0YXR1c0NvZGUgPSBzdGF0dXNDb2RlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIF9vblJlc3BvbnNlKHJlc3BvbnNlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9vblJlc3BvbnNlQmFzZShyZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogYmV0dGVyIHNhZmUgdGhhbiBzb3JyeSAqL1xuICAgICAgICAgICAgdGhpcy5fYmVmb3JlRXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9vblJlcXVlc3QocmVxdWVzdCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHsgdGltZW91dCwgdXJsIH0gPSBvcHRpb25zO1xuICAgICAgICBodHRwX3RpbWVyXzEuZGVmYXVsdChyZXF1ZXN0KTtcbiAgICAgICAgdGhpc1trQ2FuY2VsVGltZW91dHNdID0gdGltZWRfb3V0XzEuZGVmYXVsdChyZXF1ZXN0LCB0aW1lb3V0LCB1cmwpO1xuICAgICAgICBjb25zdCByZXNwb25zZUV2ZW50TmFtZSA9IG9wdGlvbnMuY2FjaGUgPyAnY2FjaGVhYmxlUmVzcG9uc2UnIDogJ3Jlc3BvbnNlJztcbiAgICAgICAgcmVxdWVzdC5vbmNlKHJlc3BvbnNlRXZlbnROYW1lLCAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIHZvaWQgdGhpcy5fb25SZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXF1ZXN0Lm9uY2UoJ2Vycm9yJywgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAvLyBGb3JjZSBjbGVhbi11cCwgYmVjYXVzZSBzb21lIHBhY2thZ2VzIChlLmcuIG5vY2spIGRvbid0IGRvIHRoaXMuXG4gICAgICAgICAgICByZXF1ZXN0LmRlc3Ryb3koKTtcbiAgICAgICAgICAgIC8vIE5vZGUuanMgPD0gMTIuMTguMiBtaXN0YWtlbmx5IGVtaXRzIHRoZSByZXNwb25zZSBgZW5kYCBmaXJzdC5cbiAgICAgICAgICAgIChfYSA9IHJlcXVlc3QucmVzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVtb3ZlQWxsTGlzdGVuZXJzKCdlbmQnKTtcbiAgICAgICAgICAgIGVycm9yID0gZXJyb3IgaW5zdGFuY2VvZiB0aW1lZF9vdXRfMS5UaW1lb3V0RXJyb3IgPyBuZXcgVGltZW91dEVycm9yKGVycm9yLCB0aGlzLnRpbWluZ3MsIHRoaXMpIDogbmV3IFJlcXVlc3RFcnJvcihlcnJvci5tZXNzYWdlLCBlcnJvciwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9iZWZvcmVFcnJvcihlcnJvcik7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzW2tVbnByb3h5RXZlbnRzXSA9IHByb3h5X2V2ZW50c18xLmRlZmF1bHQocmVxdWVzdCwgdGhpcywgcHJveGllZFJlcXVlc3RFdmVudHMpO1xuICAgICAgICB0aGlzW2tSZXF1ZXN0XSA9IHJlcXVlc3Q7XG4gICAgICAgIHRoaXMuZW1pdCgndXBsb2FkUHJvZ3Jlc3MnLCB0aGlzLnVwbG9hZFByb2dyZXNzKTtcbiAgICAgICAgLy8gU2VuZCBib2R5XG4gICAgICAgIGNvbnN0IGJvZHkgPSB0aGlzW2tCb2R5XTtcbiAgICAgICAgY29uc3QgY3VycmVudFJlcXVlc3QgPSB0aGlzLnJlZGlyZWN0cy5sZW5ndGggPT09IDAgPyB0aGlzIDogcmVxdWVzdDtcbiAgICAgICAgaWYgKGlzXzEuZGVmYXVsdC5ub2RlU3RyZWFtKGJvZHkpKSB7XG4gICAgICAgICAgICBib2R5LnBpcGUoY3VycmVudFJlcXVlc3QpO1xuICAgICAgICAgICAgYm9keS5vbmNlKCdlcnJvcicsIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JlZm9yZUVycm9yKG5ldyBVcGxvYWRFcnJvcihlcnJvciwgdGhpcykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl91bmxvY2tXcml0ZSgpO1xuICAgICAgICAgICAgaWYgKCFpc18xLmRlZmF1bHQudW5kZWZpbmVkKGJvZHkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd3JpdGVSZXF1ZXN0KGJvZHksIHVuZGVmaW5lZCwgKCkgPT4geyB9KTtcbiAgICAgICAgICAgICAgICBjdXJyZW50UmVxdWVzdC5lbmQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2NrV3JpdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX2Nhbm5vdEhhdmVCb2R5IHx8IHRoaXMuX25vUGlwZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRSZXF1ZXN0LmVuZCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvY2tXcml0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW1pdCgncmVxdWVzdCcsIHJlcXVlc3QpO1xuICAgIH1cbiAgICBhc3luYyBfY3JlYXRlQ2FjaGVhYmxlUmVxdWVzdCh1cmwsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIFRPRE86IFJlbW92ZSBgdXRpbHMvdXJsLXRvLW9wdGlvbnMudHNgIHdoZW4gYGNhY2hlYWJsZS1yZXF1ZXN0YCBpcyBmaXhlZFxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihvcHRpb25zLCB1cmxfdG9fb3B0aW9uc18xLmRlZmF1bHQodXJsKSk7XG4gICAgICAgICAgICAvLyBgaHR0cC1jYWNoZS1zZW1hbnRpY3NgIGNoZWNrcyB0aGlzXG4gICAgICAgICAgICAvLyBUT0RPOiBGaXggdGhpcyBpZ25vcmUuXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICBkZWxldGUgb3B0aW9ucy51cmw7XG4gICAgICAgICAgICBsZXQgcmVxdWVzdDtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgdWdseVxuICAgICAgICAgICAgY29uc3QgY2FjaGVSZXF1ZXN0ID0gY2FjaGVhYmxlU3RvcmUuZ2V0KG9wdGlvbnMuY2FjaGUpKG9wdGlvbnMsIGFzeW5jIChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IEZpeCBgY2FjaGVhYmxlLXJlc3BvbnNlYFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlLl9yZWFkYWJsZVN0YXRlLmF1dG9EZXN0cm95ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKHJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgKGF3YWl0IHJlcXVlc3QpLmVtaXQoJ2NhY2hlYWJsZVJlc3BvbnNlJywgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gUmVzdG9yZSBvcHRpb25zXG4gICAgICAgICAgICBvcHRpb25zLnVybCA9IHVybDtcbiAgICAgICAgICAgIGNhY2hlUmVxdWVzdC5vbmNlKCdlcnJvcicsIHJlamVjdCk7XG4gICAgICAgICAgICBjYWNoZVJlcXVlc3Qub25jZSgncmVxdWVzdCcsIGFzeW5jIChyZXF1ZXN0T3JQcm9taXNlKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdCA9IHJlcXVlc3RPclByb21pc2U7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXF1ZXN0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgX21ha2VSZXF1ZXN0KCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lO1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHsgaGVhZGVycyB9ID0gb3B0aW9ucztcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gaGVhZGVycykge1xuICAgICAgICAgICAgaWYgKGlzXzEuZGVmYXVsdC51bmRlZmluZWQoaGVhZGVyc1trZXldKSkge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZHluYW1pYy1kZWxldGVcbiAgICAgICAgICAgICAgICBkZWxldGUgaGVhZGVyc1trZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNfMS5kZWZhdWx0Lm51bGxfKGhlYWRlcnNba2V5XSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBVc2UgXFxgdW5kZWZpbmVkXFxgIGluc3RlYWQgb2YgXFxgbnVsbFxcYCB0byBkZWxldGUgdGhlIFxcYCR7a2V5fVxcYCBoZWFkZXJgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5kZWNvbXByZXNzICYmIGlzXzEuZGVmYXVsdC51bmRlZmluZWQoaGVhZGVyc1snYWNjZXB0LWVuY29kaW5nJ10pKSB7XG4gICAgICAgICAgICBoZWFkZXJzWydhY2NlcHQtZW5jb2RpbmcnXSA9IHN1cHBvcnRzQnJvdGxpID8gJ2d6aXAsIGRlZmxhdGUsIGJyJyA6ICdnemlwLCBkZWZsYXRlJztcbiAgICAgICAgfVxuICAgICAgICAvLyBTZXQgY29va2llc1xuICAgICAgICBpZiAob3B0aW9ucy5jb29raWVKYXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvb2tpZVN0cmluZyA9IGF3YWl0IG9wdGlvbnMuY29va2llSmFyLmdldENvb2tpZVN0cmluZyhvcHRpb25zLnVybC50b1N0cmluZygpKTtcbiAgICAgICAgICAgIGlmIChpc18xLmRlZmF1bHQubm9uRW1wdHlTdHJpbmcoY29va2llU3RyaW5nKSkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuaGVhZGVycy5jb29raWUgPSBjb29raWVTdHJpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBob29rIG9mIG9wdGlvbnMuaG9va3MuYmVmb3JlUmVxdWVzdCkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWF3YWl0LWluLWxvb3BcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGhvb2sob3B0aW9ucyk7XG4gICAgICAgICAgICBpZiAoIWlzXzEuZGVmYXVsdC51bmRlZmluZWQocmVzdWx0KSkge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgU2tpcCB0aGUgdHlwZSBtaXNtYXRjaCB0byBzdXBwb3J0IGFic3RyYWN0IHJlc3BvbnNlc1xuICAgICAgICAgICAgICAgIG9wdGlvbnMucmVxdWVzdCA9ICgpID0+IHJlc3VsdDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5ib2R5ICYmIHRoaXNba0JvZHldICE9PSBvcHRpb25zLmJvZHkpIHtcbiAgICAgICAgICAgIHRoaXNba0JvZHldID0gb3B0aW9ucy5ib2R5O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgYWdlbnQsIHJlcXVlc3QsIHRpbWVvdXQsIHVybCB9ID0gb3B0aW9ucztcbiAgICAgICAgaWYgKG9wdGlvbnMuZG5zQ2FjaGUgJiYgISgnbG9va3VwJyBpbiBvcHRpb25zKSkge1xuICAgICAgICAgICAgb3B0aW9ucy5sb29rdXAgPSBvcHRpb25zLmRuc0NhY2hlLmxvb2t1cDtcbiAgICAgICAgfVxuICAgICAgICAvLyBVTklYIHNvY2tldHNcbiAgICAgICAgaWYgKHVybC5ob3N0bmFtZSA9PT0gJ3VuaXgnKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gLyg/PHNvY2tldFBhdGg+Lis/KTooPzxwYXRoPi4rKS8uZXhlYyhgJHt1cmwucGF0aG5hbWV9JHt1cmwuc2VhcmNofWApO1xuICAgICAgICAgICAgaWYgKG1hdGNoZXMgPT09IG51bGwgfHwgbWF0Y2hlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWF0Y2hlcy5ncm91cHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHNvY2tldFBhdGgsIHBhdGggfSA9IG1hdGNoZXMuZ3JvdXBzO1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ob3B0aW9ucywge1xuICAgICAgICAgICAgICAgICAgICBzb2NrZXRQYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgICAgICAgICBob3N0OiAnJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzSHR0cHMgPSB1cmwucHJvdG9jb2wgPT09ICdodHRwczonO1xuICAgICAgICAvLyBGYWxsYmFjayBmdW5jdGlvblxuICAgICAgICBsZXQgZmFsbGJhY2tGbjtcbiAgICAgICAgaWYgKG9wdGlvbnMuaHR0cDIpIHtcbiAgICAgICAgICAgIGZhbGxiYWNrRm4gPSBodHRwMndyYXBwZXIuYXV0bztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZhbGxiYWNrRm4gPSBpc0h0dHBzID8gaHR0cHMucmVxdWVzdCA6IGh0dHAucmVxdWVzdDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZWFsRm4gPSAoX2EgPSBvcHRpb25zLnJlcXVlc3QpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZhbGxiYWNrRm47XG4gICAgICAgIC8vIENhY2hlIHN1cHBvcnRcbiAgICAgICAgY29uc3QgZm4gPSBvcHRpb25zLmNhY2hlID8gdGhpcy5fY3JlYXRlQ2FjaGVhYmxlUmVxdWVzdCA6IHJlYWxGbjtcbiAgICAgICAgLy8gUGFzcyBhbiBhZ2VudCBkaXJlY3RseSB3aGVuIEhUVFAyIGlzIGRpc2FibGVkXG4gICAgICAgIGlmIChhZ2VudCAmJiAhb3B0aW9ucy5odHRwMikge1xuICAgICAgICAgICAgb3B0aW9ucy5hZ2VudCA9IGFnZW50W2lzSHR0cHMgPyAnaHR0cHMnIDogJ2h0dHAnXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBQcmVwYXJlIHBsYWluIEhUVFAgcmVxdWVzdCBvcHRpb25zXG4gICAgICAgIG9wdGlvbnNba1JlcXVlc3RdID0gcmVhbEZuO1xuICAgICAgICBkZWxldGUgb3B0aW9ucy5yZXF1ZXN0O1xuICAgICAgICAvLyBUT0RPOiBGaXggdGhpcyBpZ25vcmUuXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgZGVsZXRlIG9wdGlvbnMudGltZW91dDtcbiAgICAgICAgY29uc3QgcmVxdWVzdE9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICByZXF1ZXN0T3B0aW9ucy5zaGFyZWQgPSAoX2IgPSBvcHRpb25zLmNhY2hlT3B0aW9ucykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnNoYXJlZDtcbiAgICAgICAgcmVxdWVzdE9wdGlvbnMuY2FjaGVIZXVyaXN0aWMgPSAoX2MgPSBvcHRpb25zLmNhY2hlT3B0aW9ucykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmNhY2hlSGV1cmlzdGljO1xuICAgICAgICByZXF1ZXN0T3B0aW9ucy5pbW11dGFibGVNaW5UaW1lVG9MaXZlID0gKF9kID0gb3B0aW9ucy5jYWNoZU9wdGlvbnMpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5pbW11dGFibGVNaW5UaW1lVG9MaXZlO1xuICAgICAgICByZXF1ZXN0T3B0aW9ucy5pZ25vcmVDYXJnb0N1bHQgPSAoX2UgPSBvcHRpb25zLmNhY2hlT3B0aW9ucykgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLmlnbm9yZUNhcmdvQ3VsdDtcbiAgICAgICAgLy8gSWYgYGRuc0xvb2t1cElwVmVyc2lvbmAgaXMgbm90IHByZXNlbnQgZG8gbm90IG92ZXJyaWRlIGBmYW1pbHlgXG4gICAgICAgIGlmIChvcHRpb25zLmRuc0xvb2t1cElwVmVyc2lvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zLmZhbWlseSA9IGRuc19pcF92ZXJzaW9uXzEuZG5zTG9va3VwSXBWZXJzaW9uVG9GYW1pbHkob3B0aW9ucy5kbnNMb29rdXBJcFZlcnNpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKF9mKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGBkbnNMb29rdXBJcFZlcnNpb25gIG9wdGlvbiB2YWx1ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEhUVFBTIG9wdGlvbnMgcmVtYXBwaW5nXG4gICAgICAgIGlmIChvcHRpb25zLmh0dHBzKSB7XG4gICAgICAgICAgICBpZiAoJ3JlamVjdFVuYXV0aG9yaXplZCcgaW4gb3B0aW9ucy5odHRwcykge1xuICAgICAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zLnJlamVjdFVuYXV0aG9yaXplZCA9IG9wdGlvbnMuaHR0cHMucmVqZWN0VW5hdXRob3JpemVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaHR0cHMuY2hlY2tTZXJ2ZXJJZGVudGl0eSkge1xuICAgICAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zLmNoZWNrU2VydmVySWRlbnRpdHkgPSBvcHRpb25zLmh0dHBzLmNoZWNrU2VydmVySWRlbnRpdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5odHRwcy5jZXJ0aWZpY2F0ZUF1dGhvcml0eSkge1xuICAgICAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zLmNhID0gb3B0aW9ucy5odHRwcy5jZXJ0aWZpY2F0ZUF1dGhvcml0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmh0dHBzLmNlcnRpZmljYXRlKSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMuY2VydCA9IG9wdGlvbnMuaHR0cHMuY2VydGlmaWNhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5odHRwcy5rZXkpIHtcbiAgICAgICAgICAgICAgICByZXF1ZXN0T3B0aW9ucy5rZXkgPSBvcHRpb25zLmh0dHBzLmtleTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmh0dHBzLnBhc3NwaHJhc2UpIHtcbiAgICAgICAgICAgICAgICByZXF1ZXN0T3B0aW9ucy5wYXNzcGhyYXNlID0gb3B0aW9ucy5odHRwcy5wYXNzcGhyYXNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaHR0cHMucGZ4KSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMucGZ4ID0gb3B0aW9ucy5odHRwcy5wZng7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCByZXF1ZXN0T3JSZXNwb25zZSA9IGF3YWl0IGZuKHVybCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgICAgICAgICAgaWYgKGlzXzEuZGVmYXVsdC51bmRlZmluZWQocmVxdWVzdE9yUmVzcG9uc2UpKSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdE9yUmVzcG9uc2UgPSBmYWxsYmFja0ZuKHVybCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmVzdG9yZSBvcHRpb25zXG4gICAgICAgICAgICBvcHRpb25zLnJlcXVlc3QgPSByZXF1ZXN0O1xuICAgICAgICAgICAgb3B0aW9ucy50aW1lb3V0ID0gdGltZW91dDtcbiAgICAgICAgICAgIG9wdGlvbnMuYWdlbnQgPSBhZ2VudDtcbiAgICAgICAgICAgIC8vIEhUVFBTIG9wdGlvbnMgcmVzdG9yZVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaHR0cHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoJ3JlamVjdFVuYXV0aG9yaXplZCcgaW4gb3B0aW9ucy5odHRwcykge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcmVxdWVzdE9wdGlvbnMucmVqZWN0VW5hdXRob3JpemVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5odHRwcy5jaGVja1NlcnZlcklkZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUaGlzIG9uZSB3aWxsIGJlIHJlbW92ZWQgd2hlbiB3ZSByZW1vdmUgdGhlIGFsaWFzLlxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcmVxdWVzdE9wdGlvbnMuY2hlY2tTZXJ2ZXJJZGVudGl0eTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuaHR0cHMuY2VydGlmaWNhdGVBdXRob3JpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHJlcXVlc3RPcHRpb25zLmNhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5odHRwcy5jZXJ0aWZpY2F0ZSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcmVxdWVzdE9wdGlvbnMuY2VydDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuaHR0cHMua2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSByZXF1ZXN0T3B0aW9ucy5rZXk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmh0dHBzLnBhc3NwaHJhc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHJlcXVlc3RPcHRpb25zLnBhc3NwaHJhc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmh0dHBzLnBmeCkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcmVxdWVzdE9wdGlvbnMucGZ4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0NsaWVudFJlcXVlc3QocmVxdWVzdE9yUmVzcG9uc2UpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25SZXF1ZXN0KHJlcXVlc3RPclJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAvLyBFbWl0IHRoZSByZXNwb25zZSBhZnRlciB0aGUgc3RyZWFtIGhhcyBiZWVuIGVuZGVkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLndyaXRhYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbmNlKCdmaW5pc2gnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZvaWQgdGhpcy5fb25SZXNwb25zZShyZXF1ZXN0T3JSZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdW5sb2NrV3JpdGUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVuZCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvY2tXcml0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdm9pZCB0aGlzLl9vblJlc3BvbnNlKHJlcXVlc3RPclJlc3BvbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIENhY2hlYWJsZVJlcXVlc3QuQ2FjaGVFcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBDYWNoZUVycm9yKGVycm9yLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBSZXF1ZXN0RXJyb3IoZXJyb3IubWVzc2FnZSwgZXJyb3IsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIF9lcnJvcihlcnJvcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBob29rIG9mIHRoaXMub3B0aW9ucy5ob29rcy5iZWZvcmVFcnJvcikge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1hd2FpdC1pbi1sb29wXG4gICAgICAgICAgICAgICAgZXJyb3IgPSBhd2FpdCBob29rKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3JfKSB7XG4gICAgICAgICAgICBlcnJvciA9IG5ldyBSZXF1ZXN0RXJyb3IoZXJyb3JfLm1lc3NhZ2UsIGVycm9yXywgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXN0cm95KGVycm9yKTtcbiAgICB9XG4gICAgX2JlZm9yZUVycm9yKGVycm9yKSB7XG4gICAgICAgIGlmICh0aGlzW2tTdG9wUmVhZGluZ10pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IG9wdGlvbnMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHJldHJ5Q291bnQgPSB0aGlzLnJldHJ5Q291bnQgKyAxO1xuICAgICAgICB0aGlzW2tTdG9wUmVhZGluZ10gPSB0cnVlO1xuICAgICAgICBpZiAoIShlcnJvciBpbnN0YW5jZW9mIFJlcXVlc3RFcnJvcikpIHtcbiAgICAgICAgICAgIGVycm9yID0gbmV3IFJlcXVlc3RFcnJvcihlcnJvci5tZXNzYWdlLCBlcnJvciwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdHlwZWRFcnJvciA9IGVycm9yO1xuICAgICAgICBjb25zdCB7IHJlc3BvbnNlIH0gPSB0eXBlZEVycm9yO1xuICAgICAgICB2b2lkIChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UgJiYgIXJlc3BvbnNlLmJvZHkpIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5zZXRFbmNvZGluZyh0aGlzLl9yZWFkYWJsZVN0YXRlLmVuY29kaW5nKTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5yYXdCb2R5ID0gYXdhaXQgZ2V0X2J1ZmZlcl8xLmRlZmF1bHQocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5ib2R5ID0gcmVzcG9uc2UucmF3Qm9keS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoX2EpIHsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMubGlzdGVuZXJDb3VudCgncmV0cnknKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGxldCBiYWNrb2ZmO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCByZXRyeUFmdGVyO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgJiYgJ3JldHJ5LWFmdGVyJyBpbiByZXNwb25zZS5oZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXRyeUFmdGVyID0gTnVtYmVyKHJlc3BvbnNlLmhlYWRlcnNbJ3JldHJ5LWFmdGVyJ10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE51bWJlci5pc05hTihyZXRyeUFmdGVyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHJ5QWZ0ZXIgPSBEYXRlLnBhcnNlKHJlc3BvbnNlLmhlYWRlcnNbJ3JldHJ5LWFmdGVyJ10pIC0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmV0cnlBZnRlciA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHJ5QWZ0ZXIgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHJ5QWZ0ZXIgKj0gMTAwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBiYWNrb2ZmID0gYXdhaXQgb3B0aW9ucy5yZXRyeS5jYWxjdWxhdGVEZWxheSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRlbXB0Q291bnQ6IHJldHJ5Q291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXRyeU9wdGlvbnM6IG9wdGlvbnMucmV0cnksXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogdHlwZWRFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHJ5QWZ0ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZFZhbHVlOiBjYWxjdWxhdGVfcmV0cnlfZGVsYXlfMS5kZWZhdWx0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRlbXB0Q291bnQ6IHJldHJ5Q291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0cnlPcHRpb25zOiBvcHRpb25zLnJldHJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiB0eXBlZEVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHJ5QWZ0ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRWYWx1ZTogMFxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcl8pIHtcbiAgICAgICAgICAgICAgICAgICAgdm9pZCB0aGlzLl9lcnJvcihuZXcgUmVxdWVzdEVycm9yKGVycm9yXy5tZXNzYWdlLCBlcnJvcl8sIHRoaXMpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYmFja29mZikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXRyeSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBob29rIG9mIHRoaXMub3B0aW9ucy5ob29rcy5iZWZvcmVSZXRyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYXdhaXQtaW4tbG9vcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBob29rKHRoaXMub3B0aW9ucywgdHlwZWRFcnJvciwgcmV0cnlDb3VudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yXykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgdGhpcy5fZXJyb3IobmV3IFJlcXVlc3RFcnJvcihlcnJvcl8ubWVzc2FnZSwgZXJyb3IsIHRoaXMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTb21ldGhpbmcgZm9yY2VkIHVzIHRvIGFib3J0IHRoZSByZXRyeVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ3JldHJ5JywgcmV0cnlDb3VudCwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB0aGlzW2tSZXRyeVRpbWVvdXRdID0gc2V0VGltZW91dChyZXRyeSwgYmFja29mZik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2b2lkIHRoaXMuX2Vycm9yKHR5cGVkRXJyb3IpO1xuICAgICAgICB9KSgpO1xuICAgIH1cbiAgICBfcmVhZCgpIHtcbiAgICAgICAgdGhpc1trVHJpZ2dlclJlYWRdID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB0aGlzW2tSZXNwb25zZV07XG4gICAgICAgIGlmIChyZXNwb25zZSAmJiAhdGhpc1trU3RvcFJlYWRpbmddKSB7XG4gICAgICAgICAgICAvLyBXZSBjYW5ub3QgcHV0IHRoaXMgaW4gdGhlIGBpZmAgYWJvdmVcbiAgICAgICAgICAgIC8vIGJlY2F1c2UgYC5yZWFkKClgIGFsc28gdHJpZ2dlcnMgdGhlIGBlbmRgIGV2ZW50XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UucmVhZGFibGVMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzW2tUcmlnZ2VyUmVhZF0gPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBkYXRhO1xuICAgICAgICAgICAgd2hpbGUgKChkYXRhID0gcmVzcG9uc2UucmVhZCgpKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXNba0Rvd25sb2FkZWRTaXplXSArPSBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB0aGlzW2tTdGFydGVkUmVhZGluZ10gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzID0gdGhpcy5kb3dubG9hZFByb2dyZXNzO1xuICAgICAgICAgICAgICAgIGlmIChwcm9ncmVzcy5wZXJjZW50IDwgMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2Rvd25sb2FkUHJvZ3Jlc3MnLCBwcm9ncmVzcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucHVzaChkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBOb2RlLmpzIDEyIGhhcyBpbmNvcnJlY3QgdHlwZXMsIHNvIHRoZSBlbmNvZGluZyBtdXN0IGJlIGEgc3RyaW5nXG4gICAgX3dyaXRlKGNodW5rLCBlbmNvZGluZywgY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3Qgd3JpdGUgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl93cml0ZVJlcXVlc3QoY2h1bmssIGVuY29kaW5nLCBjYWxsYmFjayk7XG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLnJlcXVlc3RJbml0aWFsaXplZCkge1xuICAgICAgICAgICAgd3JpdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXNba0pvYnNdLnB1c2god3JpdGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF93cml0ZVJlcXVlc3QoY2h1bmssIGVuY29kaW5nLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAodGhpc1trUmVxdWVzdF0uZGVzdHJveWVkKSB7XG4gICAgICAgICAgICAvLyBQcm9iYWJseSB0aGUgYENsaWVudFJlcXVlc3RgIGluc3RhbmNlIHdpbGwgdGhyb3dcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9wcm9ncmVzc0NhbGxiYWNrcy5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXNba1VwbG9hZGVkU2l6ZV0gKz0gQnVmZmVyLmJ5dGVMZW5ndGgoY2h1bmssIGVuY29kaW5nKTtcbiAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzID0gdGhpcy51cGxvYWRQcm9ncmVzcztcbiAgICAgICAgICAgIGlmIChwcm9ncmVzcy5wZXJjZW50IDwgMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgndXBsb2FkUHJvZ3Jlc3MnLCBwcm9ncmVzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBUT0RPOiBXaGF0IGhhcHBlbnMgaWYgaXQncyBmcm9tIGNhY2hlPyBUaGVuIHRoaXNba1JlcXVlc3RdIHdvbid0IGJlIGRlZmluZWQuXG4gICAgICAgIHRoaXNba1JlcXVlc3RdLndyaXRlKGNodW5rLCBlbmNvZGluZywgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWVycm9yICYmIHRoaXMuX3Byb2dyZXNzQ2FsbGJhY2tzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm9ncmVzc0NhbGxiYWNrcy5zaGlmdCgpKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYWxsYmFjayhlcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfZmluYWwoY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3QgZW5kUmVxdWVzdCA9ICgpID0+IHtcbiAgICAgICAgICAgIC8vIEZJWDogTm9kZS5qcyAxMCBjYWxscyB0aGUgd3JpdGUgY2FsbGJhY2sgQUZURVIgdGhlIGVuZCBjYWxsYmFjayFcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLl9wcm9ncmVzc0NhbGxiYWNrcy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm9ncmVzc0NhbGxiYWNrcy5zaGlmdCgpKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBXZSBuZWVkIHRvIGNoZWNrIGlmIGB0aGlzW2tSZXF1ZXN0XWAgaXMgcHJlc2VudCxcbiAgICAgICAgICAgIC8vIGJlY2F1c2UgaXQgaXNuJ3Qgd2hlbiB3ZSB1c2UgY2FjaGUuXG4gICAgICAgICAgICBpZiAoIShrUmVxdWVzdCBpbiB0aGlzKSkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXNba1JlcXVlc3RdLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpc1trUmVxdWVzdF0uZW5kKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1trQm9keVNpemVdID0gdGhpc1trVXBsb2FkZWRTaXplXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KCd1cGxvYWRQcm9ncmVzcycsIHRoaXMudXBsb2FkUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzW2tSZXF1ZXN0XS5lbWl0KCd1cGxvYWQtY29tcGxldGUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLnJlcXVlc3RJbml0aWFsaXplZCkge1xuICAgICAgICAgICAgZW5kUmVxdWVzdCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpc1trSm9ic10ucHVzaChlbmRSZXF1ZXN0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfZGVzdHJveShlcnJvciwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzW2tTdG9wUmVhZGluZ10gPSB0cnVlO1xuICAgICAgICAvLyBQcmV2ZW50IGZ1cnRoZXIgcmV0cmllc1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpc1trUmV0cnlUaW1lb3V0XSk7XG4gICAgICAgIGlmIChrUmVxdWVzdCBpbiB0aGlzKSB7XG4gICAgICAgICAgICB0aGlzW2tDYW5jZWxUaW1lb3V0c10oKTtcbiAgICAgICAgICAgIC8vIFRPRE86IFJlbW92ZSB0aGUgbmV4dCBgaWZgIHdoZW4gdGhlc2UgZ2V0IGZpeGVkOlxuICAgICAgICAgICAgLy8gLSBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvaXNzdWVzLzMyODUxXG4gICAgICAgICAgICBpZiAoISgoX2EgPSB0aGlzW2tSZXNwb25zZV0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jb21wbGV0ZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzW2tSZXF1ZXN0XS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9yICE9PSBudWxsICYmICFpc18xLmRlZmF1bHQudW5kZWZpbmVkKGVycm9yKSAmJiAhKGVycm9yIGluc3RhbmNlb2YgUmVxdWVzdEVycm9yKSkge1xuICAgICAgICAgICAgZXJyb3IgPSBuZXcgUmVxdWVzdEVycm9yKGVycm9yLm1lc3NhZ2UsIGVycm9yLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBjYWxsYmFjayhlcnJvcik7XG4gICAgfVxuICAgIGdldCBfaXNBYm91dFRvRXJyb3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzW2tTdG9wUmVhZGluZ107XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSByZW1vdGUgSVAgYWRkcmVzcy5cbiAgICAqL1xuICAgIGdldCBpcCgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5zb2NrZXQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZW1vdGVBZGRyZXNzO1xuICAgIH1cbiAgICAvKipcbiAgICBJbmRpY2F0ZXMgd2hldGhlciB0aGUgcmVxdWVzdCBoYXMgYmVlbiBhYm9ydGVkIG9yIG5vdC5cbiAgICAqL1xuICAgIGdldCBhYm9ydGVkKCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgcmV0dXJuICgoX2IgPSAoX2EgPSB0aGlzW2tSZXF1ZXN0XSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlc3Ryb3llZCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdGhpcy5kZXN0cm95ZWQpICYmICEoKF9jID0gdGhpc1trT3JpZ2luYWxSZXNwb25zZV0pID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jb21wbGV0ZSk7XG4gICAgfVxuICAgIGdldCBzb2NrZXQoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSB0aGlzW2tSZXF1ZXN0XSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNvY2tldCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICBQcm9ncmVzcyBldmVudCBmb3IgZG93bmxvYWRpbmcgKHJlY2VpdmluZyBhIHJlc3BvbnNlKS5cbiAgICAqL1xuICAgIGdldCBkb3dubG9hZFByb2dyZXNzKCkge1xuICAgICAgICBsZXQgcGVyY2VudDtcbiAgICAgICAgaWYgKHRoaXNba1Jlc3BvbnNlU2l6ZV0pIHtcbiAgICAgICAgICAgIHBlcmNlbnQgPSB0aGlzW2tEb3dubG9hZGVkU2l6ZV0gLyB0aGlzW2tSZXNwb25zZVNpemVdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXNba1Jlc3BvbnNlU2l6ZV0gPT09IHRoaXNba0Rvd25sb2FkZWRTaXplXSkge1xuICAgICAgICAgICAgcGVyY2VudCA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwZXJjZW50ID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcGVyY2VudCxcbiAgICAgICAgICAgIHRyYW5zZmVycmVkOiB0aGlzW2tEb3dubG9hZGVkU2l6ZV0sXG4gICAgICAgICAgICB0b3RhbDogdGhpc1trUmVzcG9uc2VTaXplXVxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICBQcm9ncmVzcyBldmVudCBmb3IgdXBsb2FkaW5nIChzZW5kaW5nIGEgcmVxdWVzdCkuXG4gICAgKi9cbiAgICBnZXQgdXBsb2FkUHJvZ3Jlc3MoKSB7XG4gICAgICAgIGxldCBwZXJjZW50O1xuICAgICAgICBpZiAodGhpc1trQm9keVNpemVdKSB7XG4gICAgICAgICAgICBwZXJjZW50ID0gdGhpc1trVXBsb2FkZWRTaXplXSAvIHRoaXNba0JvZHlTaXplXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzW2tCb2R5U2l6ZV0gPT09IHRoaXNba1VwbG9hZGVkU2l6ZV0pIHtcbiAgICAgICAgICAgIHBlcmNlbnQgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGVyY2VudCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBlcmNlbnQsXG4gICAgICAgICAgICB0cmFuc2ZlcnJlZDogdGhpc1trVXBsb2FkZWRTaXplXSxcbiAgICAgICAgICAgIHRvdGFsOiB0aGlzW2tCb2R5U2l6ZV1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgVGhlIG9iamVjdCBjb250YWlucyB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG5cbiAgICAtIGBzdGFydGAgLSBUaW1lIHdoZW4gdGhlIHJlcXVlc3Qgc3RhcnRlZC5cbiAgICAtIGBzb2NrZXRgIC0gVGltZSB3aGVuIGEgc29ja2V0IHdhcyBhc3NpZ25lZCB0byB0aGUgcmVxdWVzdC5cbiAgICAtIGBsb29rdXBgIC0gVGltZSB3aGVuIHRoZSBETlMgbG9va3VwIGZpbmlzaGVkLlxuICAgIC0gYGNvbm5lY3RgIC0gVGltZSB3aGVuIHRoZSBzb2NrZXQgc3VjY2Vzc2Z1bGx5IGNvbm5lY3RlZC5cbiAgICAtIGBzZWN1cmVDb25uZWN0YCAtIFRpbWUgd2hlbiB0aGUgc29ja2V0IHNlY3VyZWx5IGNvbm5lY3RlZC5cbiAgICAtIGB1cGxvYWRgIC0gVGltZSB3aGVuIHRoZSByZXF1ZXN0IGZpbmlzaGVkIHVwbG9hZGluZy5cbiAgICAtIGByZXNwb25zZWAgLSBUaW1lIHdoZW4gdGhlIHJlcXVlc3QgZmlyZWQgYHJlc3BvbnNlYCBldmVudC5cbiAgICAtIGBlbmRgIC0gVGltZSB3aGVuIHRoZSByZXNwb25zZSBmaXJlZCBgZW5kYCBldmVudC5cbiAgICAtIGBlcnJvcmAgLSBUaW1lIHdoZW4gdGhlIHJlcXVlc3QgZmlyZWQgYGVycm9yYCBldmVudC5cbiAgICAtIGBhYm9ydGAgLSBUaW1lIHdoZW4gdGhlIHJlcXVlc3QgZmlyZWQgYGFib3J0YCBldmVudC5cbiAgICAtIGBwaGFzZXNgXG4gICAgICAgIC0gYHdhaXRgIC0gYHRpbWluZ3Muc29ja2V0IC0gdGltaW5ncy5zdGFydGBcbiAgICAgICAgLSBgZG5zYCAtIGB0aW1pbmdzLmxvb2t1cCAtIHRpbWluZ3Muc29ja2V0YFxuICAgICAgICAtIGB0Y3BgIC0gYHRpbWluZ3MuY29ubmVjdCAtIHRpbWluZ3MubG9va3VwYFxuICAgICAgICAtIGB0bHNgIC0gYHRpbWluZ3Muc2VjdXJlQ29ubmVjdCAtIHRpbWluZ3MuY29ubmVjdGBcbiAgICAgICAgLSBgcmVxdWVzdGAgLSBgdGltaW5ncy51cGxvYWQgLSAodGltaW5ncy5zZWN1cmVDb25uZWN0IHx8IHRpbWluZ3MuY29ubmVjdClgXG4gICAgICAgIC0gYGZpcnN0Qnl0ZWAgLSBgdGltaW5ncy5yZXNwb25zZSAtIHRpbWluZ3MudXBsb2FkYFxuICAgICAgICAtIGBkb3dubG9hZGAgLSBgdGltaW5ncy5lbmQgLSB0aW1pbmdzLnJlc3BvbnNlYFxuICAgICAgICAtIGB0b3RhbGAgLSBgKHRpbWluZ3MuZW5kIHx8IHRpbWluZ3MuZXJyb3IgfHwgdGltaW5ncy5hYm9ydCkgLSB0aW1pbmdzLnN0YXJ0YFxuXG4gICAgSWYgc29tZXRoaW5nIGhhcyBub3QgYmVlbiBtZWFzdXJlZCB5ZXQsIGl0IHdpbGwgYmUgYHVuZGVmaW5lZGAuXG5cbiAgICBfX05vdGVfXzogVGhlIHRpbWUgaXMgYSBgbnVtYmVyYCByZXByZXNlbnRpbmcgdGhlIG1pbGxpc2Vjb25kcyBlbGFwc2VkIHNpbmNlIHRoZSBVTklYIGVwb2NoLlxuICAgICovXG4gICAgZ2V0IHRpbWluZ3MoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIChfYSA9IHRoaXNba1JlcXVlc3RdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudGltaW5ncztcbiAgICB9XG4gICAgLyoqXG4gICAgV2hldGhlciB0aGUgcmVzcG9uc2Ugd2FzIHJldHJpZXZlZCBmcm9tIHRoZSBjYWNoZS5cbiAgICAqL1xuICAgIGdldCBpc0Zyb21DYWNoZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNba0lzRnJvbUNhY2hlXTtcbiAgICB9XG4gICAgcGlwZShkZXN0aW5hdGlvbiwgb3B0aW9ucykge1xuICAgICAgICBpZiAodGhpc1trU3RhcnRlZFJlYWRpbmddKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBwaXBlLiBUaGUgcmVzcG9uc2UgaGFzIGJlZW4gZW1pdHRlZCBhbHJlYWR5LicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZXN0aW5hdGlvbiBpbnN0YW5jZW9mIGh0dHBfMS5TZXJ2ZXJSZXNwb25zZSkge1xuICAgICAgICAgICAgdGhpc1trU2VydmVyUmVzcG9uc2VzUGlwZWRdLmFkZChkZXN0aW5hdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1cGVyLnBpcGUoZGVzdGluYXRpb24sIG9wdGlvbnMpO1xuICAgIH1cbiAgICB1bnBpcGUoZGVzdGluYXRpb24pIHtcbiAgICAgICAgaWYgKGRlc3RpbmF0aW9uIGluc3RhbmNlb2YgaHR0cF8xLlNlcnZlclJlc3BvbnNlKSB7XG4gICAgICAgICAgICB0aGlzW2tTZXJ2ZXJSZXNwb25zZXNQaXBlZF0uZGVsZXRlKGRlc3RpbmF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci51bnBpcGUoZGVzdGluYXRpb24pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5leHBvcnRzLmRlZmF1bHQgPSBSZXF1ZXN0O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/dns-ip-version.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/got/dist/source/core/utils/dns-ip-version.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.dnsLookupIpVersionToFamily = exports.isDnsLookupIpVersion = void 0;\nconst conversionTable = {\n    auto: 0,\n    ipv4: 4,\n    ipv6: 6\n};\nexports.isDnsLookupIpVersion = (value) => {\n    return value in conversionTable;\n};\nexports.dnsLookupIpVersionToFamily = (dnsLookupIpVersion) => {\n    if (exports.isDnsLookupIpVersion(dnsLookupIpVersion)) {\n        return conversionTable[dnsLookupIpVersion];\n    }\n    throw new Error('Invalid DNS lookup IP version');\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2dvdC9kaXN0L3NvdXJjZS9jb3JlL3V0aWxzL2Rucy1pcC12ZXJzaW9uLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtDQUFrQyxHQUFHLDRCQUE0QjtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0Bwb3J0a2V5L25leHQtZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9zd2FybS1qcy9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL2NvcmUvdXRpbHMvZG5zLWlwLXZlcnNpb24uanM/ZDA5ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZG5zTG9va3VwSXBWZXJzaW9uVG9GYW1pbHkgPSBleHBvcnRzLmlzRG5zTG9va3VwSXBWZXJzaW9uID0gdm9pZCAwO1xuY29uc3QgY29udmVyc2lvblRhYmxlID0ge1xuICAgIGF1dG86IDAsXG4gICAgaXB2NDogNCxcbiAgICBpcHY2OiA2XG59O1xuZXhwb3J0cy5pc0Ruc0xvb2t1cElwVmVyc2lvbiA9ICh2YWx1ZSkgPT4ge1xuICAgIHJldHVybiB2YWx1ZSBpbiBjb252ZXJzaW9uVGFibGU7XG59O1xuZXhwb3J0cy5kbnNMb29rdXBJcFZlcnNpb25Ub0ZhbWlseSA9IChkbnNMb29rdXBJcFZlcnNpb24pID0+IHtcbiAgICBpZiAoZXhwb3J0cy5pc0Ruc0xvb2t1cElwVmVyc2lvbihkbnNMb29rdXBJcFZlcnNpb24pKSB7XG4gICAgICAgIHJldHVybiBjb252ZXJzaW9uVGFibGVbZG5zTG9va3VwSXBWZXJzaW9uXTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIEROUyBsb29rdXAgSVAgdmVyc2lvbicpO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/dns-ip-version.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/get-body-size.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/got/dist/source/core/utils/get-body-size.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst fs_1 = __webpack_require__(/*! fs */ \"fs\");\nconst util_1 = __webpack_require__(/*! util */ \"util\");\nconst is_1 = __webpack_require__(/*! @sindresorhus/is */ \"(ssr)/./node_modules/@sindresorhus/is/dist/index.js\");\nconst is_form_data_1 = __webpack_require__(/*! ./is-form-data */ \"(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/is-form-data.js\");\nconst statAsync = util_1.promisify(fs_1.stat);\nexports[\"default\"] = async (body, headers) => {\n    if (headers && 'content-length' in headers) {\n        return Number(headers['content-length']);\n    }\n    if (!body) {\n        return 0;\n    }\n    if (is_1.default.string(body)) {\n        return Buffer.byteLength(body);\n    }\n    if (is_1.default.buffer(body)) {\n        return body.length;\n    }\n    if (is_form_data_1.default(body)) {\n        return util_1.promisify(body.getLength.bind(body))();\n    }\n    if (body instanceof fs_1.ReadStream) {\n        const { size } = await statAsync(body.path);\n        if (size === 0) {\n            return undefined;\n        }\n        return size;\n    }\n    return undefined;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2dvdC9kaXN0L3NvdXJjZS9jb3JlL3V0aWxzL2dldC1ib2R5LXNpemUuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsYUFBYSxtQkFBTyxDQUFDLGNBQUk7QUFDekIsZUFBZSxtQkFBTyxDQUFDLGtCQUFNO0FBQzdCLGFBQWEsbUJBQU8sQ0FBQyw2RUFBa0I7QUFDdkMsdUJBQXVCLG1CQUFPLENBQUMsNkdBQWdCO0FBQy9DO0FBQ0Esa0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixPQUFPO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBvcnRrZXkvbmV4dC1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL3N3YXJtLWpzL25vZGVfbW9kdWxlcy9nb3QvZGlzdC9zb3VyY2UvY29yZS91dGlscy9nZXQtYm9keS1zaXplLmpzP2VmMGMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBmc18xID0gcmVxdWlyZShcImZzXCIpO1xuY29uc3QgdXRpbF8xID0gcmVxdWlyZShcInV0aWxcIik7XG5jb25zdCBpc18xID0gcmVxdWlyZShcIkBzaW5kcmVzb3JodXMvaXNcIik7XG5jb25zdCBpc19mb3JtX2RhdGFfMSA9IHJlcXVpcmUoXCIuL2lzLWZvcm0tZGF0YVwiKTtcbmNvbnN0IHN0YXRBc3luYyA9IHV0aWxfMS5wcm9taXNpZnkoZnNfMS5zdGF0KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGFzeW5jIChib2R5LCBoZWFkZXJzKSA9PiB7XG4gICAgaWYgKGhlYWRlcnMgJiYgJ2NvbnRlbnQtbGVuZ3RoJyBpbiBoZWFkZXJzKSB7XG4gICAgICAgIHJldHVybiBOdW1iZXIoaGVhZGVyc1snY29udGVudC1sZW5ndGgnXSk7XG4gICAgfVxuICAgIGlmICghYm9keSkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgaWYgKGlzXzEuZGVmYXVsdC5zdHJpbmcoYm9keSkpIHtcbiAgICAgICAgcmV0dXJuIEJ1ZmZlci5ieXRlTGVuZ3RoKGJvZHkpO1xuICAgIH1cbiAgICBpZiAoaXNfMS5kZWZhdWx0LmJ1ZmZlcihib2R5KSkge1xuICAgICAgICByZXR1cm4gYm9keS5sZW5ndGg7XG4gICAgfVxuICAgIGlmIChpc19mb3JtX2RhdGFfMS5kZWZhdWx0KGJvZHkpKSB7XG4gICAgICAgIHJldHVybiB1dGlsXzEucHJvbWlzaWZ5KGJvZHkuZ2V0TGVuZ3RoLmJpbmQoYm9keSkpKCk7XG4gICAgfVxuICAgIGlmIChib2R5IGluc3RhbmNlb2YgZnNfMS5SZWFkU3RyZWFtKSB7XG4gICAgICAgIGNvbnN0IHsgc2l6ZSB9ID0gYXdhaXQgc3RhdEFzeW5jKGJvZHkucGF0aCk7XG4gICAgICAgIGlmIChzaXplID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaXplO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/get-body-size.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/get-buffer.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/got/dist/source/core/utils/get-buffer.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n// TODO: Update https://github.com/sindresorhus/get-stream\nconst getBuffer = async (stream) => {\n    const chunks = [];\n    let length = 0;\n    for await (const chunk of stream) {\n        chunks.push(chunk);\n        length += Buffer.byteLength(chunk);\n    }\n    if (Buffer.isBuffer(chunks[0])) {\n        return Buffer.concat(chunks, length);\n    }\n    return Buffer.from(chunks.join(''));\n};\nexports[\"default\"] = getBuffer;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2dvdC9kaXN0L3NvdXJjZS9jb3JlL3V0aWxzL2dldC1idWZmZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL0Bwb3J0a2V5L25leHQtZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9zd2FybS1qcy9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL2NvcmUvdXRpbHMvZ2V0LWJ1ZmZlci5qcz83M2M4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8gVE9ETzogVXBkYXRlIGh0dHBzOi8vZ2l0aHViLmNvbS9zaW5kcmVzb3JodXMvZ2V0LXN0cmVhbVxuY29uc3QgZ2V0QnVmZmVyID0gYXN5bmMgKHN0cmVhbSkgPT4ge1xuICAgIGNvbnN0IGNodW5rcyA9IFtdO1xuICAgIGxldCBsZW5ndGggPSAwO1xuICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2Ygc3RyZWFtKSB7XG4gICAgICAgIGNodW5rcy5wdXNoKGNodW5rKTtcbiAgICAgICAgbGVuZ3RoICs9IEJ1ZmZlci5ieXRlTGVuZ3RoKGNodW5rKTtcbiAgICB9XG4gICAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihjaHVua3NbMF0pKSB7XG4gICAgICAgIHJldHVybiBCdWZmZXIuY29uY2F0KGNodW5rcywgbGVuZ3RoKTtcbiAgICB9XG4gICAgcmV0dXJuIEJ1ZmZlci5mcm9tKGNodW5rcy5qb2luKCcnKSk7XG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gZ2V0QnVmZmVyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/get-buffer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/is-form-data.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/got/dist/source/core/utils/is-form-data.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst is_1 = __webpack_require__(/*! @sindresorhus/is */ \"(ssr)/./node_modules/@sindresorhus/is/dist/index.js\");\nexports[\"default\"] = (body) => is_1.default.nodeStream(body) && is_1.default.function_(body.getBoundary);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2dvdC9kaXN0L3NvdXJjZS9jb3JlL3V0aWxzL2lzLWZvcm0tZGF0YS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxhQUFhLG1CQUFPLENBQUMsNkVBQWtCO0FBQ3ZDLGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBvcnRrZXkvbmV4dC1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL3N3YXJtLWpzL25vZGVfbW9kdWxlcy9nb3QvZGlzdC9zb3VyY2UvY29yZS91dGlscy9pcy1mb3JtLWRhdGEuanM/MWM1NyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGlzXzEgPSByZXF1aXJlKFwiQHNpbmRyZXNvcmh1cy9pc1wiKTtcbmV4cG9ydHMuZGVmYXVsdCA9IChib2R5KSA9PiBpc18xLmRlZmF1bHQubm9kZVN0cmVhbShib2R5KSAmJiBpc18xLmRlZmF1bHQuZnVuY3Rpb25fKGJvZHkuZ2V0Qm91bmRhcnkpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/is-form-data.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/is-response-ok.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/got/dist/source/core/utils/is-response-ok.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.isResponseOk = void 0;\nexports.isResponseOk = (response) => {\n    const { statusCode } = response;\n    const limitStatusCode = response.request.options.followRedirect ? 299 : 399;\n    return (statusCode >= 200 && statusCode <= limitStatusCode) || statusCode === 304;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2dvdC9kaXN0L3NvdXJjZS9jb3JlL3V0aWxzL2lzLXJlc3BvbnNlLW9rLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG9CQUFvQjtBQUNwQixvQkFBb0I7QUFDcEIsWUFBWSxhQUFhO0FBQ3pCO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0Bwb3J0a2V5L25leHQtZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9zd2FybS1qcy9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL2NvcmUvdXRpbHMvaXMtcmVzcG9uc2Utb2suanM/ZWFmYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaXNSZXNwb25zZU9rID0gdm9pZCAwO1xuZXhwb3J0cy5pc1Jlc3BvbnNlT2sgPSAocmVzcG9uc2UpID0+IHtcbiAgICBjb25zdCB7IHN0YXR1c0NvZGUgfSA9IHJlc3BvbnNlO1xuICAgIGNvbnN0IGxpbWl0U3RhdHVzQ29kZSA9IHJlc3BvbnNlLnJlcXVlc3Qub3B0aW9ucy5mb2xsb3dSZWRpcmVjdCA/IDI5OSA6IDM5OTtcbiAgICByZXR1cm4gKHN0YXR1c0NvZGUgPj0gMjAwICYmIHN0YXR1c0NvZGUgPD0gbGltaXRTdGF0dXNDb2RlKSB8fCBzdGF0dXNDb2RlID09PSAzMDQ7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/is-response-ok.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/options-to-url.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/got/dist/source/core/utils/options-to-url.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/* istanbul ignore file: deprecated */\nconst url_1 = __webpack_require__(/*! url */ \"url\");\nconst keys = [\n    'protocol',\n    'host',\n    'hostname',\n    'port',\n    'pathname',\n    'search'\n];\nexports[\"default\"] = (origin, options) => {\n    var _a, _b;\n    if (options.path) {\n        if (options.pathname) {\n            throw new TypeError('Parameters `path` and `pathname` are mutually exclusive.');\n        }\n        if (options.search) {\n            throw new TypeError('Parameters `path` and `search` are mutually exclusive.');\n        }\n        if (options.searchParams) {\n            throw new TypeError('Parameters `path` and `searchParams` are mutually exclusive.');\n        }\n    }\n    if (options.search && options.searchParams) {\n        throw new TypeError('Parameters `search` and `searchParams` are mutually exclusive.');\n    }\n    if (!origin) {\n        if (!options.protocol) {\n            throw new TypeError('No URL protocol specified');\n        }\n        origin = `${options.protocol}//${(_b = (_a = options.hostname) !== null && _a !== void 0 ? _a : options.host) !== null && _b !== void 0 ? _b : ''}`;\n    }\n    const url = new url_1.URL(origin);\n    if (options.path) {\n        const searchIndex = options.path.indexOf('?');\n        if (searchIndex === -1) {\n            options.pathname = options.path;\n        }\n        else {\n            options.pathname = options.path.slice(0, searchIndex);\n            options.search = options.path.slice(searchIndex + 1);\n        }\n        delete options.path;\n    }\n    for (const key of keys) {\n        if (options[key]) {\n            url[key] = options[key].toString();\n        }\n    }\n    return url;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2dvdC9kaXN0L3NvdXJjZS9jb3JlL3V0aWxzL29wdGlvbnMtdG8tdXJsLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEO0FBQ0EsY0FBYyxtQkFBTyxDQUFDLGdCQUFLO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGlCQUFpQixJQUFJLGlIQUFpSDtBQUMxSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBvcnRrZXkvbmV4dC1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL3N3YXJtLWpzL25vZGVfbW9kdWxlcy9nb3QvZGlzdC9zb3VyY2UvY29yZS91dGlscy9vcHRpb25zLXRvLXVybC5qcz84NDNiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyogaXN0YW5idWwgaWdub3JlIGZpbGU6IGRlcHJlY2F0ZWQgKi9cbmNvbnN0IHVybF8xID0gcmVxdWlyZShcInVybFwiKTtcbmNvbnN0IGtleXMgPSBbXG4gICAgJ3Byb3RvY29sJyxcbiAgICAnaG9zdCcsXG4gICAgJ2hvc3RuYW1lJyxcbiAgICAncG9ydCcsXG4gICAgJ3BhdGhuYW1lJyxcbiAgICAnc2VhcmNoJ1xuXTtcbmV4cG9ydHMuZGVmYXVsdCA9IChvcmlnaW4sIG9wdGlvbnMpID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGlmIChvcHRpb25zLnBhdGgpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMucGF0aG5hbWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1BhcmFtZXRlcnMgYHBhdGhgIGFuZCBgcGF0aG5hbWVgIGFyZSBtdXR1YWxseSBleGNsdXNpdmUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuc2VhcmNoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQYXJhbWV0ZXJzIGBwYXRoYCBhbmQgYHNlYXJjaGAgYXJlIG11dHVhbGx5IGV4Y2x1c2l2ZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5zZWFyY2hQYXJhbXMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1BhcmFtZXRlcnMgYHBhdGhgIGFuZCBgc2VhcmNoUGFyYW1zYCBhcmUgbXV0dWFsbHkgZXhjbHVzaXZlLicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnNlYXJjaCAmJiBvcHRpb25zLnNlYXJjaFBhcmFtcykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQYXJhbWV0ZXJzIGBzZWFyY2hgIGFuZCBgc2VhcmNoUGFyYW1zYCBhcmUgbXV0dWFsbHkgZXhjbHVzaXZlLicpO1xuICAgIH1cbiAgICBpZiAoIW9yaWdpbikge1xuICAgICAgICBpZiAoIW9wdGlvbnMucHJvdG9jb2wpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vIFVSTCBwcm90b2NvbCBzcGVjaWZpZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBvcmlnaW4gPSBgJHtvcHRpb25zLnByb3RvY29sfS8vJHsoX2IgPSAoX2EgPSBvcHRpb25zLmhvc3RuYW1lKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBvcHRpb25zLmhvc3QpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICcnfWA7XG4gICAgfVxuICAgIGNvbnN0IHVybCA9IG5ldyB1cmxfMS5VUkwob3JpZ2luKTtcbiAgICBpZiAob3B0aW9ucy5wYXRoKSB7XG4gICAgICAgIGNvbnN0IHNlYXJjaEluZGV4ID0gb3B0aW9ucy5wYXRoLmluZGV4T2YoJz8nKTtcbiAgICAgICAgaWYgKHNlYXJjaEluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgb3B0aW9ucy5wYXRobmFtZSA9IG9wdGlvbnMucGF0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMucGF0aG5hbWUgPSBvcHRpb25zLnBhdGguc2xpY2UoMCwgc2VhcmNoSW5kZXgpO1xuICAgICAgICAgICAgb3B0aW9ucy5zZWFyY2ggPSBvcHRpb25zLnBhdGguc2xpY2Uoc2VhcmNoSW5kZXggKyAxKTtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgb3B0aW9ucy5wYXRoO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgICAgIGlmIChvcHRpb25zW2tleV0pIHtcbiAgICAgICAgICAgIHVybFtrZXldID0gb3B0aW9uc1trZXldLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVybDtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/options-to-url.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/proxy-events.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/got/dist/source/core/utils/proxy-events.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nfunction default_1(from, to, events) {\n    const fns = {};\n    for (const event of events) {\n        fns[event] = (...args) => {\n            to.emit(event, ...args);\n        };\n        from.on(event, fns[event]);\n    }\n    return () => {\n        for (const event of events) {\n            from.off(event, fns[event]);\n        }\n    };\n}\nexports[\"default\"] = default_1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2dvdC9kaXN0L3NvdXJjZS9jb3JlL3V0aWxzL3Byb3h5LWV2ZW50cy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AcG9ydGtleS9uZXh0LWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2dvdC9kaXN0L3NvdXJjZS9jb3JlL3V0aWxzL3Byb3h5LWV2ZW50cy5qcz9mYWRmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZnVuY3Rpb24gZGVmYXVsdF8xKGZyb20sIHRvLCBldmVudHMpIHtcbiAgICBjb25zdCBmbnMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGV2ZW50IG9mIGV2ZW50cykge1xuICAgICAgICBmbnNbZXZlbnRdID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgIHRvLmVtaXQoZXZlbnQsIC4uLmFyZ3MpO1xuICAgICAgICB9O1xuICAgICAgICBmcm9tLm9uKGV2ZW50LCBmbnNbZXZlbnRdKTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBldmVudCBvZiBldmVudHMpIHtcbiAgICAgICAgICAgIGZyb20ub2ZmKGV2ZW50LCBmbnNbZXZlbnRdKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5leHBvcnRzLmRlZmF1bHQgPSBkZWZhdWx0XzE7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/proxy-events.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/timed-out.js":
/*!************************************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/got/dist/source/core/utils/timed-out.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.TimeoutError = void 0;\nconst net = __webpack_require__(/*! net */ \"net\");\nconst unhandle_1 = __webpack_require__(/*! ./unhandle */ \"(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/unhandle.js\");\nconst reentry = Symbol('reentry');\nconst noop = () => { };\nclass TimeoutError extends Error {\n    constructor(threshold, event) {\n        super(`Timeout awaiting '${event}' for ${threshold}ms`);\n        this.event = event;\n        this.name = 'TimeoutError';\n        this.code = 'ETIMEDOUT';\n    }\n}\nexports.TimeoutError = TimeoutError;\nexports[\"default\"] = (request, delays, options) => {\n    if (reentry in request) {\n        return noop;\n    }\n    request[reentry] = true;\n    const cancelers = [];\n    const { once, unhandleAll } = unhandle_1.default();\n    const addTimeout = (delay, callback, event) => {\n        var _a;\n        const timeout = setTimeout(callback, delay, delay, event);\n        (_a = timeout.unref) === null || _a === void 0 ? void 0 : _a.call(timeout);\n        const cancel = () => {\n            clearTimeout(timeout);\n        };\n        cancelers.push(cancel);\n        return cancel;\n    };\n    const { host, hostname } = options;\n    const timeoutHandler = (delay, event) => {\n        request.destroy(new TimeoutError(delay, event));\n    };\n    const cancelTimeouts = () => {\n        for (const cancel of cancelers) {\n            cancel();\n        }\n        unhandleAll();\n    };\n    request.once('error', error => {\n        cancelTimeouts();\n        // Save original behavior\n        /* istanbul ignore next */\n        if (request.listenerCount('error') === 0) {\n            throw error;\n        }\n    });\n    request.once('close', cancelTimeouts);\n    once(request, 'response', (response) => {\n        once(response, 'end', cancelTimeouts);\n    });\n    if (typeof delays.request !== 'undefined') {\n        addTimeout(delays.request, timeoutHandler, 'request');\n    }\n    if (typeof delays.socket !== 'undefined') {\n        const socketTimeoutHandler = () => {\n            timeoutHandler(delays.socket, 'socket');\n        };\n        request.setTimeout(delays.socket, socketTimeoutHandler);\n        // `request.setTimeout(0)` causes a memory leak.\n        // We can just remove the listener and forget about the timer - it's unreffed.\n        // See https://github.com/sindresorhus/got/issues/690\n        cancelers.push(() => {\n            request.removeListener('timeout', socketTimeoutHandler);\n        });\n    }\n    once(request, 'socket', (socket) => {\n        var _a;\n        const { socketPath } = request;\n        /* istanbul ignore next: hard to test */\n        if (socket.connecting) {\n            const hasPath = Boolean(socketPath !== null && socketPath !== void 0 ? socketPath : net.isIP((_a = hostname !== null && hostname !== void 0 ? hostname : host) !== null && _a !== void 0 ? _a : '') !== 0);\n            if (typeof delays.lookup !== 'undefined' && !hasPath && typeof socket.address().address === 'undefined') {\n                const cancelTimeout = addTimeout(delays.lookup, timeoutHandler, 'lookup');\n                once(socket, 'lookup', cancelTimeout);\n            }\n            if (typeof delays.connect !== 'undefined') {\n                const timeConnect = () => addTimeout(delays.connect, timeoutHandler, 'connect');\n                if (hasPath) {\n                    once(socket, 'connect', timeConnect());\n                }\n                else {\n                    once(socket, 'lookup', (error) => {\n                        if (error === null) {\n                            once(socket, 'connect', timeConnect());\n                        }\n                    });\n                }\n            }\n            if (typeof delays.secureConnect !== 'undefined' && options.protocol === 'https:') {\n                once(socket, 'connect', () => {\n                    const cancelTimeout = addTimeout(delays.secureConnect, timeoutHandler, 'secureConnect');\n                    once(socket, 'secureConnect', cancelTimeout);\n                });\n            }\n        }\n        if (typeof delays.send !== 'undefined') {\n            const timeRequest = () => addTimeout(delays.send, timeoutHandler, 'send');\n            /* istanbul ignore next: hard to test */\n            if (socket.connecting) {\n                once(socket, 'connect', () => {\n                    once(request, 'upload-complete', timeRequest());\n                });\n            }\n            else {\n                once(request, 'upload-complete', timeRequest());\n            }\n        }\n    });\n    if (typeof delays.response !== 'undefined') {\n        once(request, 'upload-complete', () => {\n            const cancelTimeout = addTimeout(delays.response, timeoutHandler, 'response');\n            once(request, 'response', cancelTimeout);\n        });\n    }\n    return cancelTimeouts;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2dvdC9kaXN0L3NvdXJjZS9jb3JlL3V0aWxzL3RpbWVkLW91dC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxvQkFBb0I7QUFDcEIsWUFBWSxtQkFBTyxDQUFDLGdCQUFLO0FBQ3pCLG1CQUFtQixtQkFBTyxDQUFDLHFHQUFZO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLE1BQU0sUUFBUSxVQUFVO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEIsa0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxvQkFBb0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGlCQUFpQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGFBQWE7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0Bwb3J0a2V5L25leHQtZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9zd2FybS1qcy9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL2NvcmUvdXRpbHMvdGltZWQtb3V0LmpzP2M5ZGIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlRpbWVvdXRFcnJvciA9IHZvaWQgMDtcbmNvbnN0IG5ldCA9IHJlcXVpcmUoXCJuZXRcIik7XG5jb25zdCB1bmhhbmRsZV8xID0gcmVxdWlyZShcIi4vdW5oYW5kbGVcIik7XG5jb25zdCByZWVudHJ5ID0gU3ltYm9sKCdyZWVudHJ5Jyk7XG5jb25zdCBub29wID0gKCkgPT4geyB9O1xuY2xhc3MgVGltZW91dEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHRocmVzaG9sZCwgZXZlbnQpIHtcbiAgICAgICAgc3VwZXIoYFRpbWVvdXQgYXdhaXRpbmcgJyR7ZXZlbnR9JyBmb3IgJHt0aHJlc2hvbGR9bXNgKTtcbiAgICAgICAgdGhpcy5ldmVudCA9IGV2ZW50O1xuICAgICAgICB0aGlzLm5hbWUgPSAnVGltZW91dEVycm9yJztcbiAgICAgICAgdGhpcy5jb2RlID0gJ0VUSU1FRE9VVCc7XG4gICAgfVxufVxuZXhwb3J0cy5UaW1lb3V0RXJyb3IgPSBUaW1lb3V0RXJyb3I7XG5leHBvcnRzLmRlZmF1bHQgPSAocmVxdWVzdCwgZGVsYXlzLCBvcHRpb25zKSA9PiB7XG4gICAgaWYgKHJlZW50cnkgaW4gcmVxdWVzdCkge1xuICAgICAgICByZXR1cm4gbm9vcDtcbiAgICB9XG4gICAgcmVxdWVzdFtyZWVudHJ5XSA9IHRydWU7XG4gICAgY29uc3QgY2FuY2VsZXJzID0gW107XG4gICAgY29uc3QgeyBvbmNlLCB1bmhhbmRsZUFsbCB9ID0gdW5oYW5kbGVfMS5kZWZhdWx0KCk7XG4gICAgY29uc3QgYWRkVGltZW91dCA9IChkZWxheSwgY2FsbGJhY2ssIGV2ZW50KSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgdGltZW91dCA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIGRlbGF5LCBkZWxheSwgZXZlbnQpO1xuICAgICAgICAoX2EgPSB0aW1lb3V0LnVucmVmKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0aW1lb3V0KTtcbiAgICAgICAgY29uc3QgY2FuY2VsID0gKCkgPT4ge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICB9O1xuICAgICAgICBjYW5jZWxlcnMucHVzaChjYW5jZWwpO1xuICAgICAgICByZXR1cm4gY2FuY2VsO1xuICAgIH07XG4gICAgY29uc3QgeyBob3N0LCBob3N0bmFtZSB9ID0gb3B0aW9ucztcbiAgICBjb25zdCB0aW1lb3V0SGFuZGxlciA9IChkZWxheSwgZXZlbnQpID0+IHtcbiAgICAgICAgcmVxdWVzdC5kZXN0cm95KG5ldyBUaW1lb3V0RXJyb3IoZGVsYXksIGV2ZW50KSk7XG4gICAgfTtcbiAgICBjb25zdCBjYW5jZWxUaW1lb3V0cyA9ICgpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBjYW5jZWwgb2YgY2FuY2VsZXJzKSB7XG4gICAgICAgICAgICBjYW5jZWwoKTtcbiAgICAgICAgfVxuICAgICAgICB1bmhhbmRsZUFsbCgpO1xuICAgIH07XG4gICAgcmVxdWVzdC5vbmNlKCdlcnJvcicsIGVycm9yID0+IHtcbiAgICAgICAgY2FuY2VsVGltZW91dHMoKTtcbiAgICAgICAgLy8gU2F2ZSBvcmlnaW5hbCBiZWhhdmlvclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBpZiAocmVxdWVzdC5saXN0ZW5lckNvdW50KCdlcnJvcicpID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJlcXVlc3Qub25jZSgnY2xvc2UnLCBjYW5jZWxUaW1lb3V0cyk7XG4gICAgb25jZShyZXF1ZXN0LCAncmVzcG9uc2UnLCAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgb25jZShyZXNwb25zZSwgJ2VuZCcsIGNhbmNlbFRpbWVvdXRzKTtcbiAgICB9KTtcbiAgICBpZiAodHlwZW9mIGRlbGF5cy5yZXF1ZXN0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBhZGRUaW1lb3V0KGRlbGF5cy5yZXF1ZXN0LCB0aW1lb3V0SGFuZGxlciwgJ3JlcXVlc3QnKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBkZWxheXMuc29ja2V0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zdCBzb2NrZXRUaW1lb3V0SGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgICAgIHRpbWVvdXRIYW5kbGVyKGRlbGF5cy5zb2NrZXQsICdzb2NrZXQnKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVxdWVzdC5zZXRUaW1lb3V0KGRlbGF5cy5zb2NrZXQsIHNvY2tldFRpbWVvdXRIYW5kbGVyKTtcbiAgICAgICAgLy8gYHJlcXVlc3Quc2V0VGltZW91dCgwKWAgY2F1c2VzIGEgbWVtb3J5IGxlYWsuXG4gICAgICAgIC8vIFdlIGNhbiBqdXN0IHJlbW92ZSB0aGUgbGlzdGVuZXIgYW5kIGZvcmdldCBhYm91dCB0aGUgdGltZXIgLSBpdCdzIHVucmVmZmVkLlxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3NpbmRyZXNvcmh1cy9nb3QvaXNzdWVzLzY5MFxuICAgICAgICBjYW5jZWxlcnMucHVzaCgoKSA9PiB7XG4gICAgICAgICAgICByZXF1ZXN0LnJlbW92ZUxpc3RlbmVyKCd0aW1lb3V0Jywgc29ja2V0VGltZW91dEhhbmRsZXIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgb25jZShyZXF1ZXN0LCAnc29ja2V0JywgKHNvY2tldCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHsgc29ja2V0UGF0aCB9ID0gcmVxdWVzdDtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IGhhcmQgdG8gdGVzdCAqL1xuICAgICAgICBpZiAoc29ja2V0LmNvbm5lY3RpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IGhhc1BhdGggPSBCb29sZWFuKHNvY2tldFBhdGggIT09IG51bGwgJiYgc29ja2V0UGF0aCAhPT0gdm9pZCAwID8gc29ja2V0UGF0aCA6IG5ldC5pc0lQKChfYSA9IGhvc3RuYW1lICE9PSBudWxsICYmIGhvc3RuYW1lICE9PSB2b2lkIDAgPyBob3N0bmFtZSA6IGhvc3QpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICcnKSAhPT0gMCk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGRlbGF5cy5sb29rdXAgIT09ICd1bmRlZmluZWQnICYmICFoYXNQYXRoICYmIHR5cGVvZiBzb2NrZXQuYWRkcmVzcygpLmFkZHJlc3MgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FuY2VsVGltZW91dCA9IGFkZFRpbWVvdXQoZGVsYXlzLmxvb2t1cCwgdGltZW91dEhhbmRsZXIsICdsb29rdXAnKTtcbiAgICAgICAgICAgICAgICBvbmNlKHNvY2tldCwgJ2xvb2t1cCcsIGNhbmNlbFRpbWVvdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBkZWxheXMuY29ubmVjdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lQ29ubmVjdCA9ICgpID0+IGFkZFRpbWVvdXQoZGVsYXlzLmNvbm5lY3QsIHRpbWVvdXRIYW5kbGVyLCAnY29ubmVjdCcpO1xuICAgICAgICAgICAgICAgIGlmIChoYXNQYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uY2Uoc29ja2V0LCAnY29ubmVjdCcsIHRpbWVDb25uZWN0KCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb25jZShzb2NrZXQsICdsb29rdXAnLCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2Uoc29ja2V0LCAnY29ubmVjdCcsIHRpbWVDb25uZWN0KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIGRlbGF5cy5zZWN1cmVDb25uZWN0ICE9PSAndW5kZWZpbmVkJyAmJiBvcHRpb25zLnByb3RvY29sID09PSAnaHR0cHM6Jykge1xuICAgICAgICAgICAgICAgIG9uY2Uoc29ja2V0LCAnY29ubmVjdCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FuY2VsVGltZW91dCA9IGFkZFRpbWVvdXQoZGVsYXlzLnNlY3VyZUNvbm5lY3QsIHRpbWVvdXRIYW5kbGVyLCAnc2VjdXJlQ29ubmVjdCcpO1xuICAgICAgICAgICAgICAgICAgICBvbmNlKHNvY2tldCwgJ3NlY3VyZUNvbm5lY3QnLCBjYW5jZWxUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGRlbGF5cy5zZW5kICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgY29uc3QgdGltZVJlcXVlc3QgPSAoKSA9PiBhZGRUaW1lb3V0KGRlbGF5cy5zZW5kLCB0aW1lb3V0SGFuZGxlciwgJ3NlbmQnKTtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBoYXJkIHRvIHRlc3QgKi9cbiAgICAgICAgICAgIGlmIChzb2NrZXQuY29ubmVjdGluZykge1xuICAgICAgICAgICAgICAgIG9uY2Uoc29ja2V0LCAnY29ubmVjdCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgb25jZShyZXF1ZXN0LCAndXBsb2FkLWNvbXBsZXRlJywgdGltZVJlcXVlc3QoKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvbmNlKHJlcXVlc3QsICd1cGxvYWQtY29tcGxldGUnLCB0aW1lUmVxdWVzdCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmICh0eXBlb2YgZGVsYXlzLnJlc3BvbnNlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBvbmNlKHJlcXVlc3QsICd1cGxvYWQtY29tcGxldGUnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjYW5jZWxUaW1lb3V0ID0gYWRkVGltZW91dChkZWxheXMucmVzcG9uc2UsIHRpbWVvdXRIYW5kbGVyLCAncmVzcG9uc2UnKTtcbiAgICAgICAgICAgIG9uY2UocmVxdWVzdCwgJ3Jlc3BvbnNlJywgY2FuY2VsVGltZW91dCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gY2FuY2VsVGltZW91dHM7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/timed-out.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/unhandle.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/got/dist/source/core/utils/unhandle.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n// When attaching listeners, it's very easy to forget about them.\n// Especially if you do error handling and set timeouts.\n// So instead of checking if it's proper to throw an error on every timeout ever,\n// use this simple tool which will remove all listeners you have attached.\nexports[\"default\"] = () => {\n    const handlers = [];\n    return {\n        once(origin, event, fn) {\n            origin.once(event, fn);\n            handlers.push({ origin, event, fn });\n        },\n        unhandleAll() {\n            for (const handler of handlers) {\n                const { origin, event, fn } = handler;\n                origin.removeListener(event, fn);\n            }\n            handlers.length = 0;\n        }\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2dvdC9kaXN0L3NvdXJjZS9jb3JlL3V0aWxzL3VuaGFuZGxlLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixtQkFBbUI7QUFDL0MsU0FBUztBQUNUO0FBQ0E7QUFDQSx3QkFBd0Isb0JBQW9CO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0Bwb3J0a2V5L25leHQtZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9zd2FybS1qcy9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL2NvcmUvdXRpbHMvdW5oYW5kbGUuanM/Y2NiZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8vIFdoZW4gYXR0YWNoaW5nIGxpc3RlbmVycywgaXQncyB2ZXJ5IGVhc3kgdG8gZm9yZ2V0IGFib3V0IHRoZW0uXG4vLyBFc3BlY2lhbGx5IGlmIHlvdSBkbyBlcnJvciBoYW5kbGluZyBhbmQgc2V0IHRpbWVvdXRzLlxuLy8gU28gaW5zdGVhZCBvZiBjaGVja2luZyBpZiBpdCdzIHByb3BlciB0byB0aHJvdyBhbiBlcnJvciBvbiBldmVyeSB0aW1lb3V0IGV2ZXIsXG4vLyB1c2UgdGhpcyBzaW1wbGUgdG9vbCB3aGljaCB3aWxsIHJlbW92ZSBhbGwgbGlzdGVuZXJzIHlvdSBoYXZlIGF0dGFjaGVkLlxuZXhwb3J0cy5kZWZhdWx0ID0gKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZXJzID0gW107XG4gICAgcmV0dXJuIHtcbiAgICAgICAgb25jZShvcmlnaW4sIGV2ZW50LCBmbikge1xuICAgICAgICAgICAgb3JpZ2luLm9uY2UoZXZlbnQsIGZuKTtcbiAgICAgICAgICAgIGhhbmRsZXJzLnB1c2goeyBvcmlnaW4sIGV2ZW50LCBmbiB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgdW5oYW5kbGVBbGwoKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGhhbmRsZXIgb2YgaGFuZGxlcnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IG9yaWdpbiwgZXZlbnQsIGZuIH0gPSBoYW5kbGVyO1xuICAgICAgICAgICAgICAgIG9yaWdpbi5yZW1vdmVMaXN0ZW5lcihldmVudCwgZm4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGFuZGxlcnMubGVuZ3RoID0gMDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/unhandle.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/url-to-options.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/got/dist/source/core/utils/url-to-options.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst is_1 = __webpack_require__(/*! @sindresorhus/is */ \"(ssr)/./node_modules/@sindresorhus/is/dist/index.js\");\nexports[\"default\"] = (url) => {\n    // Cast to URL\n    url = url;\n    const options = {\n        protocol: url.protocol,\n        hostname: is_1.default.string(url.hostname) && url.hostname.startsWith('[') ? url.hostname.slice(1, -1) : url.hostname,\n        host: url.host,\n        hash: url.hash,\n        search: url.search,\n        pathname: url.pathname,\n        href: url.href,\n        path: `${url.pathname || ''}${url.search || ''}`\n    };\n    if (is_1.default.string(url.port) && url.port.length > 0) {\n        options.port = Number(url.port);\n    }\n    if (url.username || url.password) {\n        options.auth = `${url.username || ''}:${url.password || ''}`;\n    }\n    return options;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2dvdC9kaXN0L3NvdXJjZS9jb3JlL3V0aWxzL3VybC10by1vcHRpb25zLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGFBQWEsbUJBQU8sQ0FBQyw2RUFBa0I7QUFDdkMsa0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixtQkFBbUIsRUFBRSxpQkFBaUI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixtQkFBbUIsR0FBRyxtQkFBbUI7QUFDbkU7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBvcnRrZXkvbmV4dC1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL3N3YXJtLWpzL25vZGVfbW9kdWxlcy9nb3QvZGlzdC9zb3VyY2UvY29yZS91dGlscy91cmwtdG8tb3B0aW9ucy5qcz9hZTA2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgaXNfMSA9IHJlcXVpcmUoXCJAc2luZHJlc29yaHVzL2lzXCIpO1xuZXhwb3J0cy5kZWZhdWx0ID0gKHVybCkgPT4ge1xuICAgIC8vIENhc3QgdG8gVVJMXG4gICAgdXJsID0gdXJsO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIHByb3RvY29sOiB1cmwucHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lOiBpc18xLmRlZmF1bHQuc3RyaW5nKHVybC5ob3N0bmFtZSkgJiYgdXJsLmhvc3RuYW1lLnN0YXJ0c1dpdGgoJ1snKSA/IHVybC5ob3N0bmFtZS5zbGljZSgxLCAtMSkgOiB1cmwuaG9zdG5hbWUsXG4gICAgICAgIGhvc3Q6IHVybC5ob3N0LFxuICAgICAgICBoYXNoOiB1cmwuaGFzaCxcbiAgICAgICAgc2VhcmNoOiB1cmwuc2VhcmNoLFxuICAgICAgICBwYXRobmFtZTogdXJsLnBhdGhuYW1lLFxuICAgICAgICBocmVmOiB1cmwuaHJlZixcbiAgICAgICAgcGF0aDogYCR7dXJsLnBhdGhuYW1lIHx8ICcnfSR7dXJsLnNlYXJjaCB8fCAnJ31gXG4gICAgfTtcbiAgICBpZiAoaXNfMS5kZWZhdWx0LnN0cmluZyh1cmwucG9ydCkgJiYgdXJsLnBvcnQubGVuZ3RoID4gMCkge1xuICAgICAgICBvcHRpb25zLnBvcnQgPSBOdW1iZXIodXJsLnBvcnQpO1xuICAgIH1cbiAgICBpZiAodXJsLnVzZXJuYW1lIHx8IHVybC5wYXNzd29yZCkge1xuICAgICAgICBvcHRpb25zLmF1dGggPSBgJHt1cmwudXNlcm5hbWUgfHwgJyd9OiR7dXJsLnBhc3N3b3JkIHx8ICcnfWA7XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25zO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/url-to-options.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/weakable-map.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/got/dist/source/core/utils/weakable-map.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nclass WeakableMap {\n    constructor() {\n        this.weakMap = new WeakMap();\n        this.map = new Map();\n    }\n    set(key, value) {\n        if (typeof key === 'object') {\n            this.weakMap.set(key, value);\n        }\n        else {\n            this.map.set(key, value);\n        }\n    }\n    get(key) {\n        if (typeof key === 'object') {\n            return this.weakMap.get(key);\n        }\n        return this.map.get(key);\n    }\n    has(key) {\n        if (typeof key === 'object') {\n            return this.weakMap.has(key);\n        }\n        return this.map.has(key);\n    }\n}\nexports[\"default\"] = WeakableMap;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2dvdC9kaXN0L3NvdXJjZS9jb3JlL3V0aWxzL3dlYWthYmxlLW1hcC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AcG9ydGtleS9uZXh0LWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2dvdC9kaXN0L3NvdXJjZS9jb3JlL3V0aWxzL3dlYWthYmxlLW1hcC5qcz9kNTg0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY2xhc3MgV2Vha2FibGVNYXAge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLndlYWtNYXAgPSBuZXcgV2Vha01hcCgpO1xuICAgICAgICB0aGlzLm1hcCA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBrZXkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICB0aGlzLndlYWtNYXAuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tYXAuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldChrZXkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBrZXkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy53ZWFrTWFwLmdldChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLm1hcC5nZXQoa2V5KTtcbiAgICB9XG4gICAgaGFzKGtleSkge1xuICAgICAgICBpZiAodHlwZW9mIGtleSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLndlYWtNYXAuaGFzKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubWFwLmhhcyhrZXkpO1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IFdlYWthYmxlTWFwO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/utils/weakable-map.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/create.js":
/*!**********************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/got/dist/source/create.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.defaultHandler = void 0;\nconst is_1 = __webpack_require__(/*! @sindresorhus/is */ \"(ssr)/./node_modules/@sindresorhus/is/dist/index.js\");\nconst as_promise_1 = __webpack_require__(/*! ./as-promise */ \"(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/as-promise/index.js\");\nconst create_rejection_1 = __webpack_require__(/*! ./as-promise/create-rejection */ \"(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/as-promise/create-rejection.js\");\nconst core_1 = __webpack_require__(/*! ./core */ \"(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/core/index.js\");\nconst deep_freeze_1 = __webpack_require__(/*! ./utils/deep-freeze */ \"(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/utils/deep-freeze.js\");\nconst errors = {\n    RequestError: as_promise_1.RequestError,\n    CacheError: as_promise_1.CacheError,\n    ReadError: as_promise_1.ReadError,\n    HTTPError: as_promise_1.HTTPError,\n    MaxRedirectsError: as_promise_1.MaxRedirectsError,\n    TimeoutError: as_promise_1.TimeoutError,\n    ParseError: as_promise_1.ParseError,\n    CancelError: as_promise_1.CancelError,\n    UnsupportedProtocolError: as_promise_1.UnsupportedProtocolError,\n    UploadError: as_promise_1.UploadError\n};\n// The `delay` package weighs 10KB (!)\nconst delay = async (ms) => new Promise(resolve => {\n    setTimeout(resolve, ms);\n});\nconst { normalizeArguments } = core_1.default;\nconst mergeOptions = (...sources) => {\n    let mergedOptions;\n    for (const source of sources) {\n        mergedOptions = normalizeArguments(undefined, source, mergedOptions);\n    }\n    return mergedOptions;\n};\nconst getPromiseOrStream = (options) => options.isStream ? new core_1.default(undefined, options) : as_promise_1.default(options);\nconst isGotInstance = (value) => ('defaults' in value && 'options' in value.defaults);\nconst aliases = [\n    'get',\n    'post',\n    'put',\n    'patch',\n    'head',\n    'delete'\n];\nexports.defaultHandler = (options, next) => next(options);\nconst callInitHooks = (hooks, options) => {\n    if (hooks) {\n        for (const hook of hooks) {\n            hook(options);\n        }\n    }\n};\nconst create = (defaults) => {\n    // Proxy properties from next handlers\n    defaults._rawHandlers = defaults.handlers;\n    defaults.handlers = defaults.handlers.map(fn => ((options, next) => {\n        // This will be assigned by assigning result\n        let root;\n        const result = fn(options, newOptions => {\n            root = next(newOptions);\n            return root;\n        });\n        if (result !== root && !options.isStream && root) {\n            const typedResult = result;\n            const { then: promiseThen, catch: promiseCatch, finally: promiseFianlly } = typedResult;\n            Object.setPrototypeOf(typedResult, Object.getPrototypeOf(root));\n            Object.defineProperties(typedResult, Object.getOwnPropertyDescriptors(root));\n            // These should point to the new promise\n            // eslint-disable-next-line promise/prefer-await-to-then\n            typedResult.then = promiseThen;\n            typedResult.catch = promiseCatch;\n            typedResult.finally = promiseFianlly;\n        }\n        return result;\n    }));\n    // Got interface\n    const got = ((url, options = {}, _defaults) => {\n        var _a, _b;\n        let iteration = 0;\n        const iterateHandlers = (newOptions) => {\n            return defaults.handlers[iteration++](newOptions, iteration === defaults.handlers.length ? getPromiseOrStream : iterateHandlers);\n        };\n        // TODO: Remove this in Got 12.\n        if (is_1.default.plainObject(url)) {\n            const mergedOptions = {\n                ...url,\n                ...options\n            };\n            core_1.setNonEnumerableProperties([url, options], mergedOptions);\n            options = mergedOptions;\n            url = undefined;\n        }\n        try {\n            // Call `init` hooks\n            let initHookError;\n            try {\n                callInitHooks(defaults.options.hooks.init, options);\n                callInitHooks((_a = options.hooks) === null || _a === void 0 ? void 0 : _a.init, options);\n            }\n            catch (error) {\n                initHookError = error;\n            }\n            // Normalize options & call handlers\n            const normalizedOptions = normalizeArguments(url, options, _defaults !== null && _defaults !== void 0 ? _defaults : defaults.options);\n            normalizedOptions[core_1.kIsNormalizedAlready] = true;\n            if (initHookError) {\n                throw new as_promise_1.RequestError(initHookError.message, initHookError, normalizedOptions);\n            }\n            return iterateHandlers(normalizedOptions);\n        }\n        catch (error) {\n            if (options.isStream) {\n                throw error;\n            }\n            else {\n                return create_rejection_1.default(error, defaults.options.hooks.beforeError, (_b = options.hooks) === null || _b === void 0 ? void 0 : _b.beforeError);\n            }\n        }\n    });\n    got.extend = (...instancesOrOptions) => {\n        const optionsArray = [defaults.options];\n        let handlers = [...defaults._rawHandlers];\n        let isMutableDefaults;\n        for (const value of instancesOrOptions) {\n            if (isGotInstance(value)) {\n                optionsArray.push(value.defaults.options);\n                handlers.push(...value.defaults._rawHandlers);\n                isMutableDefaults = value.defaults.mutableDefaults;\n            }\n            else {\n                optionsArray.push(value);\n                if ('handlers' in value) {\n                    handlers.push(...value.handlers);\n                }\n                isMutableDefaults = value.mutableDefaults;\n            }\n        }\n        handlers = handlers.filter(handler => handler !== exports.defaultHandler);\n        if (handlers.length === 0) {\n            handlers.push(exports.defaultHandler);\n        }\n        return create({\n            options: mergeOptions(...optionsArray),\n            handlers,\n            mutableDefaults: Boolean(isMutableDefaults)\n        });\n    };\n    // Pagination\n    const paginateEach = (async function* (url, options) {\n        // TODO: Remove this `@ts-expect-error` when upgrading to TypeScript 4.\n        // Error: Argument of type 'Merge<Options, PaginationOptions<T, R>> | undefined' is not assignable to parameter of type 'Options | undefined'.\n        // @ts-expect-error\n        let normalizedOptions = normalizeArguments(url, options, defaults.options);\n        normalizedOptions.resolveBodyOnly = false;\n        const pagination = normalizedOptions.pagination;\n        if (!is_1.default.object(pagination)) {\n            throw new TypeError('`options.pagination` must be implemented');\n        }\n        const all = [];\n        let { countLimit } = pagination;\n        let numberOfRequests = 0;\n        while (numberOfRequests < pagination.requestLimit) {\n            if (numberOfRequests !== 0) {\n                // eslint-disable-next-line no-await-in-loop\n                await delay(pagination.backoff);\n            }\n            // @ts-expect-error FIXME!\n            // TODO: Throw when result is not an instance of Response\n            // eslint-disable-next-line no-await-in-loop\n            const result = (await got(undefined, undefined, normalizedOptions));\n            // eslint-disable-next-line no-await-in-loop\n            const parsed = await pagination.transform(result);\n            const current = [];\n            for (const item of parsed) {\n                if (pagination.filter(item, all, current)) {\n                    if (!pagination.shouldContinue(item, all, current)) {\n                        return;\n                    }\n                    yield item;\n                    if (pagination.stackAllItems) {\n                        all.push(item);\n                    }\n                    current.push(item);\n                    if (--countLimit <= 0) {\n                        return;\n                    }\n                }\n            }\n            const optionsToMerge = pagination.paginate(result, all, current);\n            if (optionsToMerge === false) {\n                return;\n            }\n            if (optionsToMerge === result.request.options) {\n                normalizedOptions = result.request.options;\n            }\n            else if (optionsToMerge !== undefined) {\n                normalizedOptions = normalizeArguments(undefined, optionsToMerge, normalizedOptions);\n            }\n            numberOfRequests++;\n        }\n    });\n    got.paginate = paginateEach;\n    got.paginate.all = (async (url, options) => {\n        const results = [];\n        for await (const item of paginateEach(url, options)) {\n            results.push(item);\n        }\n        return results;\n    });\n    // For those who like very descriptive names\n    got.paginate.each = paginateEach;\n    // Stream API\n    got.stream = ((url, options) => got(url, { ...options, isStream: true }));\n    // Shortcuts\n    for (const method of aliases) {\n        got[method] = ((url, options) => got(url, { ...options, method }));\n        got.stream[method] = ((url, options) => {\n            return got(url, { ...options, method, isStream: true });\n        });\n    }\n    Object.assign(got, errors);\n    Object.defineProperty(got, 'defaults', {\n        value: defaults.mutableDefaults ? defaults : deep_freeze_1.default(defaults),\n        writable: defaults.mutableDefaults,\n        configurable: defaults.mutableDefaults,\n        enumerable: true\n    });\n    got.mergeOptions = mergeOptions;\n    return got;\n};\nexports[\"default\"] = create;\n__exportStar(__webpack_require__(/*! ./types */ \"(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/types.js\"), exports);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2dvdC9kaXN0L3NvdXJjZS9jcmVhdGUuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0EsbUNBQW1DLG9DQUFvQyxnQkFBZ0I7QUFDdkYsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHNCQUFzQjtBQUN0QixhQUFhLG1CQUFPLENBQUMsNkVBQWtCO0FBQ3ZDLHFCQUFxQixtQkFBTyxDQUFDLG9HQUFjO0FBQzNDLDJCQUEyQixtQkFBTyxDQUFDLGdJQUErQjtBQUNsRSxlQUFlLG1CQUFPLENBQUMsd0ZBQVE7QUFDL0Isc0JBQXNCLG1CQUFPLENBQUMsNEdBQXFCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxRQUFRLHFCQUFxQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxvQkFBb0Isa0VBQWtFO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGFBQWE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLDRCQUE0QjtBQUMzRTtBQUNBO0FBQ0Esb0RBQW9ELG9CQUFvQjtBQUN4RTtBQUNBLDhCQUE4QixvQ0FBb0M7QUFDbEUsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGtCQUFlO0FBQ2YsYUFBYSxtQkFBTyxDQUFDLG9GQUFTIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBvcnRrZXkvbmV4dC1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL3N3YXJtLWpzL25vZGVfbW9kdWxlcy9nb3QvZGlzdC9zb3VyY2UvY3JlYXRlLmpzPzAwZmYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fZXhwb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19leHBvcnRTdGFyKSB8fCBmdW5jdGlvbihtLCBleHBvcnRzKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBvcnRzLCBwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZGVmYXVsdEhhbmRsZXIgPSB2b2lkIDA7XG5jb25zdCBpc18xID0gcmVxdWlyZShcIkBzaW5kcmVzb3JodXMvaXNcIik7XG5jb25zdCBhc19wcm9taXNlXzEgPSByZXF1aXJlKFwiLi9hcy1wcm9taXNlXCIpO1xuY29uc3QgY3JlYXRlX3JlamVjdGlvbl8xID0gcmVxdWlyZShcIi4vYXMtcHJvbWlzZS9jcmVhdGUtcmVqZWN0aW9uXCIpO1xuY29uc3QgY29yZV8xID0gcmVxdWlyZShcIi4vY29yZVwiKTtcbmNvbnN0IGRlZXBfZnJlZXplXzEgPSByZXF1aXJlKFwiLi91dGlscy9kZWVwLWZyZWV6ZVwiKTtcbmNvbnN0IGVycm9ycyA9IHtcbiAgICBSZXF1ZXN0RXJyb3I6IGFzX3Byb21pc2VfMS5SZXF1ZXN0RXJyb3IsXG4gICAgQ2FjaGVFcnJvcjogYXNfcHJvbWlzZV8xLkNhY2hlRXJyb3IsXG4gICAgUmVhZEVycm9yOiBhc19wcm9taXNlXzEuUmVhZEVycm9yLFxuICAgIEhUVFBFcnJvcjogYXNfcHJvbWlzZV8xLkhUVFBFcnJvcixcbiAgICBNYXhSZWRpcmVjdHNFcnJvcjogYXNfcHJvbWlzZV8xLk1heFJlZGlyZWN0c0Vycm9yLFxuICAgIFRpbWVvdXRFcnJvcjogYXNfcHJvbWlzZV8xLlRpbWVvdXRFcnJvcixcbiAgICBQYXJzZUVycm9yOiBhc19wcm9taXNlXzEuUGFyc2VFcnJvcixcbiAgICBDYW5jZWxFcnJvcjogYXNfcHJvbWlzZV8xLkNhbmNlbEVycm9yLFxuICAgIFVuc3VwcG9ydGVkUHJvdG9jb2xFcnJvcjogYXNfcHJvbWlzZV8xLlVuc3VwcG9ydGVkUHJvdG9jb2xFcnJvcixcbiAgICBVcGxvYWRFcnJvcjogYXNfcHJvbWlzZV8xLlVwbG9hZEVycm9yXG59O1xuLy8gVGhlIGBkZWxheWAgcGFja2FnZSB3ZWlnaHMgMTBLQiAoISlcbmNvbnN0IGRlbGF5ID0gYXN5bmMgKG1zKSA9PiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKTtcbn0pO1xuY29uc3QgeyBub3JtYWxpemVBcmd1bWVudHMgfSA9IGNvcmVfMS5kZWZhdWx0O1xuY29uc3QgbWVyZ2VPcHRpb25zID0gKC4uLnNvdXJjZXMpID0+IHtcbiAgICBsZXQgbWVyZ2VkT3B0aW9ucztcbiAgICBmb3IgKGNvbnN0IHNvdXJjZSBvZiBzb3VyY2VzKSB7XG4gICAgICAgIG1lcmdlZE9wdGlvbnMgPSBub3JtYWxpemVBcmd1bWVudHModW5kZWZpbmVkLCBzb3VyY2UsIG1lcmdlZE9wdGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gbWVyZ2VkT3B0aW9ucztcbn07XG5jb25zdCBnZXRQcm9taXNlT3JTdHJlYW0gPSAob3B0aW9ucykgPT4gb3B0aW9ucy5pc1N0cmVhbSA/IG5ldyBjb3JlXzEuZGVmYXVsdCh1bmRlZmluZWQsIG9wdGlvbnMpIDogYXNfcHJvbWlzZV8xLmRlZmF1bHQob3B0aW9ucyk7XG5jb25zdCBpc0dvdEluc3RhbmNlID0gKHZhbHVlKSA9PiAoJ2RlZmF1bHRzJyBpbiB2YWx1ZSAmJiAnb3B0aW9ucycgaW4gdmFsdWUuZGVmYXVsdHMpO1xuY29uc3QgYWxpYXNlcyA9IFtcbiAgICAnZ2V0JyxcbiAgICAncG9zdCcsXG4gICAgJ3B1dCcsXG4gICAgJ3BhdGNoJyxcbiAgICAnaGVhZCcsXG4gICAgJ2RlbGV0ZSdcbl07XG5leHBvcnRzLmRlZmF1bHRIYW5kbGVyID0gKG9wdGlvbnMsIG5leHQpID0+IG5leHQob3B0aW9ucyk7XG5jb25zdCBjYWxsSW5pdEhvb2tzID0gKGhvb2tzLCBvcHRpb25zKSA9PiB7XG4gICAgaWYgKGhvb2tzKSB7XG4gICAgICAgIGZvciAoY29uc3QgaG9vayBvZiBob29rcykge1xuICAgICAgICAgICAgaG9vayhvcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5jb25zdCBjcmVhdGUgPSAoZGVmYXVsdHMpID0+IHtcbiAgICAvLyBQcm94eSBwcm9wZXJ0aWVzIGZyb20gbmV4dCBoYW5kbGVyc1xuICAgIGRlZmF1bHRzLl9yYXdIYW5kbGVycyA9IGRlZmF1bHRzLmhhbmRsZXJzO1xuICAgIGRlZmF1bHRzLmhhbmRsZXJzID0gZGVmYXVsdHMuaGFuZGxlcnMubWFwKGZuID0+ICgob3B0aW9ucywgbmV4dCkgPT4ge1xuICAgICAgICAvLyBUaGlzIHdpbGwgYmUgYXNzaWduZWQgYnkgYXNzaWduaW5nIHJlc3VsdFxuICAgICAgICBsZXQgcm9vdDtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gZm4ob3B0aW9ucywgbmV3T3B0aW9ucyA9PiB7XG4gICAgICAgICAgICByb290ID0gbmV4dChuZXdPcHRpb25zKTtcbiAgICAgICAgICAgIHJldHVybiByb290O1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHJlc3VsdCAhPT0gcm9vdCAmJiAhb3B0aW9ucy5pc1N0cmVhbSAmJiByb290KSB7XG4gICAgICAgICAgICBjb25zdCB0eXBlZFJlc3VsdCA9IHJlc3VsdDtcbiAgICAgICAgICAgIGNvbnN0IHsgdGhlbjogcHJvbWlzZVRoZW4sIGNhdGNoOiBwcm9taXNlQ2F0Y2gsIGZpbmFsbHk6IHByb21pc2VGaWFubGx5IH0gPSB0eXBlZFJlc3VsdDtcbiAgICAgICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0eXBlZFJlc3VsdCwgT2JqZWN0LmdldFByb3RvdHlwZU9mKHJvb3QpKTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHR5cGVkUmVzdWx0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyb290KSk7XG4gICAgICAgICAgICAvLyBUaGVzZSBzaG91bGQgcG9pbnQgdG8gdGhlIG5ldyBwcm9taXNlXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJvbWlzZS9wcmVmZXItYXdhaXQtdG8tdGhlblxuICAgICAgICAgICAgdHlwZWRSZXN1bHQudGhlbiA9IHByb21pc2VUaGVuO1xuICAgICAgICAgICAgdHlwZWRSZXN1bHQuY2F0Y2ggPSBwcm9taXNlQ2F0Y2g7XG4gICAgICAgICAgICB0eXBlZFJlc3VsdC5maW5hbGx5ID0gcHJvbWlzZUZpYW5sbHk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KSk7XG4gICAgLy8gR290IGludGVyZmFjZVxuICAgIGNvbnN0IGdvdCA9ICgodXJsLCBvcHRpb25zID0ge30sIF9kZWZhdWx0cykgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBsZXQgaXRlcmF0aW9uID0gMDtcbiAgICAgICAgY29uc3QgaXRlcmF0ZUhhbmRsZXJzID0gKG5ld09wdGlvbnMpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0cy5oYW5kbGVyc1tpdGVyYXRpb24rK10obmV3T3B0aW9ucywgaXRlcmF0aW9uID09PSBkZWZhdWx0cy5oYW5kbGVycy5sZW5ndGggPyBnZXRQcm9taXNlT3JTdHJlYW0gOiBpdGVyYXRlSGFuZGxlcnMpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBUT0RPOiBSZW1vdmUgdGhpcyBpbiBHb3QgMTIuXG4gICAgICAgIGlmIChpc18xLmRlZmF1bHQucGxhaW5PYmplY3QodXJsKSkge1xuICAgICAgICAgICAgY29uc3QgbWVyZ2VkT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAuLi51cmwsXG4gICAgICAgICAgICAgICAgLi4ub3B0aW9uc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvcmVfMS5zZXROb25FbnVtZXJhYmxlUHJvcGVydGllcyhbdXJsLCBvcHRpb25zXSwgbWVyZ2VkT3B0aW9ucyk7XG4gICAgICAgICAgICBvcHRpb25zID0gbWVyZ2VkT3B0aW9ucztcbiAgICAgICAgICAgIHVybCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2FsbCBgaW5pdGAgaG9va3NcbiAgICAgICAgICAgIGxldCBpbml0SG9va0Vycm9yO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjYWxsSW5pdEhvb2tzKGRlZmF1bHRzLm9wdGlvbnMuaG9va3MuaW5pdCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgY2FsbEluaXRIb29rcygoX2EgPSBvcHRpb25zLmhvb2tzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaW5pdCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpbml0SG9va0Vycm9yID0gZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBOb3JtYWxpemUgb3B0aW9ucyAmIGNhbGwgaGFuZGxlcnNcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRPcHRpb25zID0gbm9ybWFsaXplQXJndW1lbnRzKHVybCwgb3B0aW9ucywgX2RlZmF1bHRzICE9PSBudWxsICYmIF9kZWZhdWx0cyAhPT0gdm9pZCAwID8gX2RlZmF1bHRzIDogZGVmYXVsdHMub3B0aW9ucyk7XG4gICAgICAgICAgICBub3JtYWxpemVkT3B0aW9uc1tjb3JlXzEua0lzTm9ybWFsaXplZEFscmVhZHldID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChpbml0SG9va0Vycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGFzX3Byb21pc2VfMS5SZXF1ZXN0RXJyb3IoaW5pdEhvb2tFcnJvci5tZXNzYWdlLCBpbml0SG9va0Vycm9yLCBub3JtYWxpemVkT3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaXRlcmF0ZUhhbmRsZXJzKG5vcm1hbGl6ZWRPcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmlzU3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlX3JlamVjdGlvbl8xLmRlZmF1bHQoZXJyb3IsIGRlZmF1bHRzLm9wdGlvbnMuaG9va3MuYmVmb3JlRXJyb3IsIChfYiA9IG9wdGlvbnMuaG9va3MpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5iZWZvcmVFcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBnb3QuZXh0ZW5kID0gKC4uLmluc3RhbmNlc09yT3B0aW9ucykgPT4ge1xuICAgICAgICBjb25zdCBvcHRpb25zQXJyYXkgPSBbZGVmYXVsdHMub3B0aW9uc107XG4gICAgICAgIGxldCBoYW5kbGVycyA9IFsuLi5kZWZhdWx0cy5fcmF3SGFuZGxlcnNdO1xuICAgICAgICBsZXQgaXNNdXRhYmxlRGVmYXVsdHM7XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgaW5zdGFuY2VzT3JPcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAoaXNHb3RJbnN0YW5jZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zQXJyYXkucHVzaCh2YWx1ZS5kZWZhdWx0cy5vcHRpb25zKTtcbiAgICAgICAgICAgICAgICBoYW5kbGVycy5wdXNoKC4uLnZhbHVlLmRlZmF1bHRzLl9yYXdIYW5kbGVycyk7XG4gICAgICAgICAgICAgICAgaXNNdXRhYmxlRGVmYXVsdHMgPSB2YWx1ZS5kZWZhdWx0cy5tdXRhYmxlRGVmYXVsdHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zQXJyYXkucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKCdoYW5kbGVycycgaW4gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlcnMucHVzaCguLi52YWx1ZS5oYW5kbGVycyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlzTXV0YWJsZURlZmF1bHRzID0gdmFsdWUubXV0YWJsZURlZmF1bHRzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGhhbmRsZXJzID0gaGFuZGxlcnMuZmlsdGVyKGhhbmRsZXIgPT4gaGFuZGxlciAhPT0gZXhwb3J0cy5kZWZhdWx0SGFuZGxlcik7XG4gICAgICAgIGlmIChoYW5kbGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGhhbmRsZXJzLnB1c2goZXhwb3J0cy5kZWZhdWx0SGFuZGxlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNyZWF0ZSh7XG4gICAgICAgICAgICBvcHRpb25zOiBtZXJnZU9wdGlvbnMoLi4ub3B0aW9uc0FycmF5KSxcbiAgICAgICAgICAgIGhhbmRsZXJzLFxuICAgICAgICAgICAgbXV0YWJsZURlZmF1bHRzOiBCb29sZWFuKGlzTXV0YWJsZURlZmF1bHRzKVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8vIFBhZ2luYXRpb25cbiAgICBjb25zdCBwYWdpbmF0ZUVhY2ggPSAoYXN5bmMgZnVuY3Rpb24qICh1cmwsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gVE9ETzogUmVtb3ZlIHRoaXMgYEB0cy1leHBlY3QtZXJyb3JgIHdoZW4gdXBncmFkaW5nIHRvIFR5cGVTY3JpcHQgNC5cbiAgICAgICAgLy8gRXJyb3I6IEFyZ3VtZW50IG9mIHR5cGUgJ01lcmdlPE9wdGlvbnMsIFBhZ2luYXRpb25PcHRpb25zPFQsIFI+PiB8IHVuZGVmaW5lZCcgaXMgbm90IGFzc2lnbmFibGUgdG8gcGFyYW1ldGVyIG9mIHR5cGUgJ09wdGlvbnMgfCB1bmRlZmluZWQnLlxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgIGxldCBub3JtYWxpemVkT3B0aW9ucyA9IG5vcm1hbGl6ZUFyZ3VtZW50cyh1cmwsIG9wdGlvbnMsIGRlZmF1bHRzLm9wdGlvbnMpO1xuICAgICAgICBub3JtYWxpemVkT3B0aW9ucy5yZXNvbHZlQm9keU9ubHkgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgcGFnaW5hdGlvbiA9IG5vcm1hbGl6ZWRPcHRpb25zLnBhZ2luYXRpb247XG4gICAgICAgIGlmICghaXNfMS5kZWZhdWx0Lm9iamVjdChwYWdpbmF0aW9uKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYG9wdGlvbnMucGFnaW5hdGlvbmAgbXVzdCBiZSBpbXBsZW1lbnRlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFsbCA9IFtdO1xuICAgICAgICBsZXQgeyBjb3VudExpbWl0IH0gPSBwYWdpbmF0aW9uO1xuICAgICAgICBsZXQgbnVtYmVyT2ZSZXF1ZXN0cyA9IDA7XG4gICAgICAgIHdoaWxlIChudW1iZXJPZlJlcXVlc3RzIDwgcGFnaW5hdGlvbi5yZXF1ZXN0TGltaXQpIHtcbiAgICAgICAgICAgIGlmIChudW1iZXJPZlJlcXVlc3RzICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWF3YWl0LWluLWxvb3BcbiAgICAgICAgICAgICAgICBhd2FpdCBkZWxheShwYWdpbmF0aW9uLmJhY2tvZmYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBGSVhNRSFcbiAgICAgICAgICAgIC8vIFRPRE86IFRocm93IHdoZW4gcmVzdWx0IGlzIG5vdCBhbiBpbnN0YW5jZSBvZiBSZXNwb25zZVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWF3YWl0LWluLWxvb3BcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IChhd2FpdCBnb3QodW5kZWZpbmVkLCB1bmRlZmluZWQsIG5vcm1hbGl6ZWRPcHRpb25zKSk7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYXdhaXQtaW4tbG9vcFxuICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gYXdhaXQgcGFnaW5hdGlvbi50cmFuc2Zvcm0ocmVzdWx0KTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBwYXJzZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFnaW5hdGlvbi5maWx0ZXIoaXRlbSwgYWxsLCBjdXJyZW50KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXBhZ2luYXRpb24uc2hvdWxkQ29udGludWUoaXRlbSwgYWxsLCBjdXJyZW50KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIGl0ZW07XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYWdpbmF0aW9uLnN0YWNrQWxsSXRlbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbC5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKC0tY291bnRMaW1pdCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zVG9NZXJnZSA9IHBhZ2luYXRpb24ucGFnaW5hdGUocmVzdWx0LCBhbGwsIGN1cnJlbnQpO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnNUb01lcmdlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zVG9NZXJnZSA9PT0gcmVzdWx0LnJlcXVlc3Qub3B0aW9ucykge1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRPcHRpb25zID0gcmVzdWx0LnJlcXVlc3Qub3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG9wdGlvbnNUb01lcmdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkT3B0aW9ucyA9IG5vcm1hbGl6ZUFyZ3VtZW50cyh1bmRlZmluZWQsIG9wdGlvbnNUb01lcmdlLCBub3JtYWxpemVkT3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBudW1iZXJPZlJlcXVlc3RzKys7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBnb3QucGFnaW5hdGUgPSBwYWdpbmF0ZUVhY2g7XG4gICAgZ290LnBhZ2luYXRlLmFsbCA9IChhc3luYyAodXJsLCBvcHRpb25zKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBpdGVtIG9mIHBhZ2luYXRlRWFjaCh1cmwsIG9wdGlvbnMpKSB7XG4gICAgICAgICAgICByZXN1bHRzLnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfSk7XG4gICAgLy8gRm9yIHRob3NlIHdobyBsaWtlIHZlcnkgZGVzY3JpcHRpdmUgbmFtZXNcbiAgICBnb3QucGFnaW5hdGUuZWFjaCA9IHBhZ2luYXRlRWFjaDtcbiAgICAvLyBTdHJlYW0gQVBJXG4gICAgZ290LnN0cmVhbSA9ICgodXJsLCBvcHRpb25zKSA9PiBnb3QodXJsLCB7IC4uLm9wdGlvbnMsIGlzU3RyZWFtOiB0cnVlIH0pKTtcbiAgICAvLyBTaG9ydGN1dHNcbiAgICBmb3IgKGNvbnN0IG1ldGhvZCBvZiBhbGlhc2VzKSB7XG4gICAgICAgIGdvdFttZXRob2RdID0gKCh1cmwsIG9wdGlvbnMpID0+IGdvdCh1cmwsIHsgLi4ub3B0aW9ucywgbWV0aG9kIH0pKTtcbiAgICAgICAgZ290LnN0cmVhbVttZXRob2RdID0gKCh1cmwsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBnb3QodXJsLCB7IC4uLm9wdGlvbnMsIG1ldGhvZCwgaXNTdHJlYW06IHRydWUgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBPYmplY3QuYXNzaWduKGdvdCwgZXJyb3JzKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZ290LCAnZGVmYXVsdHMnLCB7XG4gICAgICAgIHZhbHVlOiBkZWZhdWx0cy5tdXRhYmxlRGVmYXVsdHMgPyBkZWZhdWx0cyA6IGRlZXBfZnJlZXplXzEuZGVmYXVsdChkZWZhdWx0cyksXG4gICAgICAgIHdyaXRhYmxlOiBkZWZhdWx0cy5tdXRhYmxlRGVmYXVsdHMsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogZGVmYXVsdHMubXV0YWJsZURlZmF1bHRzLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgZ290Lm1lcmdlT3B0aW9ucyA9IG1lcmdlT3B0aW9ucztcbiAgICByZXR1cm4gZ290O1xufTtcbmV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi90eXBlc1wiKSwgZXhwb3J0cyk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/create.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/got/dist/source/index.js ***!
  \*********************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst url_1 = __webpack_require__(/*! url */ \"url\");\nconst create_1 = __webpack_require__(/*! ./create */ \"(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/create.js\");\nconst defaults = {\n    options: {\n        method: 'GET',\n        retry: {\n            limit: 2,\n            methods: [\n                'GET',\n                'PUT',\n                'HEAD',\n                'DELETE',\n                'OPTIONS',\n                'TRACE'\n            ],\n            statusCodes: [\n                408,\n                413,\n                429,\n                500,\n                502,\n                503,\n                504,\n                521,\n                522,\n                524\n            ],\n            errorCodes: [\n                'ETIMEDOUT',\n                'ECONNRESET',\n                'EADDRINUSE',\n                'ECONNREFUSED',\n                'EPIPE',\n                'ENOTFOUND',\n                'ENETUNREACH',\n                'EAI_AGAIN'\n            ],\n            maxRetryAfter: undefined,\n            calculateDelay: ({ computedValue }) => computedValue\n        },\n        timeout: {},\n        headers: {\n            'user-agent': 'got (https://github.com/sindresorhus/got)'\n        },\n        hooks: {\n            init: [],\n            beforeRequest: [],\n            beforeRedirect: [],\n            beforeRetry: [],\n            beforeError: [],\n            afterResponse: []\n        },\n        cache: undefined,\n        dnsCache: undefined,\n        decompress: true,\n        throwHttpErrors: true,\n        followRedirect: true,\n        isStream: false,\n        responseType: 'text',\n        resolveBodyOnly: false,\n        maxRedirects: 10,\n        prefixUrl: '',\n        methodRewriting: true,\n        ignoreInvalidCookies: false,\n        context: {},\n        // TODO: Set this to `true` when Got 12 gets released\n        http2: false,\n        allowGetBody: false,\n        https: undefined,\n        pagination: {\n            transform: (response) => {\n                if (response.request.options.responseType === 'json') {\n                    return response.body;\n                }\n                return JSON.parse(response.body);\n            },\n            paginate: response => {\n                if (!Reflect.has(response.headers, 'link')) {\n                    return false;\n                }\n                const items = response.headers.link.split(',');\n                let next;\n                for (const item of items) {\n                    const parsed = item.split(';');\n                    if (parsed[1].includes('next')) {\n                        next = parsed[0].trimStart().trim();\n                        next = next.slice(1, -1);\n                        break;\n                    }\n                }\n                if (next) {\n                    const options = {\n                        url: new url_1.URL(next)\n                    };\n                    return options;\n                }\n                return false;\n            },\n            filter: () => true,\n            shouldContinue: () => true,\n            countLimit: Infinity,\n            backoff: 0,\n            requestLimit: 10000,\n            stackAllItems: true\n        },\n        parseJson: (text) => JSON.parse(text),\n        stringifyJson: (object) => JSON.stringify(object),\n        cacheOptions: {}\n    },\n    handlers: [create_1.defaultHandler],\n    mutableDefaults: false\n};\nconst got = create_1.default(defaults);\nexports[\"default\"] = got;\n// For CommonJS default export support\nmodule.exports = got;\nmodule.exports[\"default\"] = got;\nmodule.exports.__esModule = true; // Workaround for TS issue: https://github.com/sindresorhus/got/pull/1267\n__exportStar(__webpack_require__(/*! ./create */ \"(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/create.js\"), exports);\n__exportStar(__webpack_require__(/*! ./as-promise */ \"(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/as-promise/index.js\"), exports);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2dvdC9kaXN0L3NvdXJjZS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQSxtQ0FBbUMsb0NBQW9DLGdCQUFnQjtBQUN2RixDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsY0FBYyxtQkFBTyxDQUFDLGdCQUFLO0FBQzNCLGlCQUFpQixtQkFBTyxDQUFDLHNGQUFVO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixlQUFlO0FBQzlDLFNBQVM7QUFDVCxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Q7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFlO0FBQ2Y7QUFDQTtBQUNBLHlCQUFzQjtBQUN0Qix5QkFBeUIsU0FBUztBQUNsQyxhQUFhLG1CQUFPLENBQUMsc0ZBQVU7QUFDL0IsYUFBYSxtQkFBTyxDQUFDLG9HQUFjIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBvcnRrZXkvbmV4dC1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL3N3YXJtLWpzL25vZGVfbW9kdWxlcy9nb3QvZGlzdC9zb3VyY2UvaW5kZXguanM/NzE1YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9KTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19leHBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2V4cG9ydFN0YXIpIHx8IGZ1bmN0aW9uKG0sIGV4cG9ydHMpIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGV4cG9ydHMsIHApKSBfX2NyZWF0ZUJpbmRpbmcoZXhwb3J0cywgbSwgcCk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgdXJsXzEgPSByZXF1aXJlKFwidXJsXCIpO1xuY29uc3QgY3JlYXRlXzEgPSByZXF1aXJlKFwiLi9jcmVhdGVcIik7XG5jb25zdCBkZWZhdWx0cyA9IHtcbiAgICBvcHRpb25zOiB7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHJldHJ5OiB7XG4gICAgICAgICAgICBsaW1pdDogMixcbiAgICAgICAgICAgIG1ldGhvZHM6IFtcbiAgICAgICAgICAgICAgICAnR0VUJyxcbiAgICAgICAgICAgICAgICAnUFVUJyxcbiAgICAgICAgICAgICAgICAnSEVBRCcsXG4gICAgICAgICAgICAgICAgJ0RFTEVURScsXG4gICAgICAgICAgICAgICAgJ09QVElPTlMnLFxuICAgICAgICAgICAgICAgICdUUkFDRSdcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBzdGF0dXNDb2RlczogW1xuICAgICAgICAgICAgICAgIDQwOCxcbiAgICAgICAgICAgICAgICA0MTMsXG4gICAgICAgICAgICAgICAgNDI5LFxuICAgICAgICAgICAgICAgIDUwMCxcbiAgICAgICAgICAgICAgICA1MDIsXG4gICAgICAgICAgICAgICAgNTAzLFxuICAgICAgICAgICAgICAgIDUwNCxcbiAgICAgICAgICAgICAgICA1MjEsXG4gICAgICAgICAgICAgICAgNTIyLFxuICAgICAgICAgICAgICAgIDUyNFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGVycm9yQ29kZXM6IFtcbiAgICAgICAgICAgICAgICAnRVRJTUVET1VUJyxcbiAgICAgICAgICAgICAgICAnRUNPTk5SRVNFVCcsXG4gICAgICAgICAgICAgICAgJ0VBRERSSU5VU0UnLFxuICAgICAgICAgICAgICAgICdFQ09OTlJFRlVTRUQnLFxuICAgICAgICAgICAgICAgICdFUElQRScsXG4gICAgICAgICAgICAgICAgJ0VOT1RGT1VORCcsXG4gICAgICAgICAgICAgICAgJ0VORVRVTlJFQUNIJyxcbiAgICAgICAgICAgICAgICAnRUFJX0FHQUlOJ1xuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIG1heFJldHJ5QWZ0ZXI6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNhbGN1bGF0ZURlbGF5OiAoeyBjb21wdXRlZFZhbHVlIH0pID0+IGNvbXB1dGVkVmFsdWVcbiAgICAgICAgfSxcbiAgICAgICAgdGltZW91dDoge30sXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICd1c2VyLWFnZW50JzogJ2dvdCAoaHR0cHM6Ly9naXRodWIuY29tL3NpbmRyZXNvcmh1cy9nb3QpJ1xuICAgICAgICB9LFxuICAgICAgICBob29rczoge1xuICAgICAgICAgICAgaW5pdDogW10sXG4gICAgICAgICAgICBiZWZvcmVSZXF1ZXN0OiBbXSxcbiAgICAgICAgICAgIGJlZm9yZVJlZGlyZWN0OiBbXSxcbiAgICAgICAgICAgIGJlZm9yZVJldHJ5OiBbXSxcbiAgICAgICAgICAgIGJlZm9yZUVycm9yOiBbXSxcbiAgICAgICAgICAgIGFmdGVyUmVzcG9uc2U6IFtdXG4gICAgICAgIH0sXG4gICAgICAgIGNhY2hlOiB1bmRlZmluZWQsXG4gICAgICAgIGRuc0NhY2hlOiB1bmRlZmluZWQsXG4gICAgICAgIGRlY29tcHJlc3M6IHRydWUsXG4gICAgICAgIHRocm93SHR0cEVycm9yczogdHJ1ZSxcbiAgICAgICAgZm9sbG93UmVkaXJlY3Q6IHRydWUsXG4gICAgICAgIGlzU3RyZWFtOiBmYWxzZSxcbiAgICAgICAgcmVzcG9uc2VUeXBlOiAndGV4dCcsXG4gICAgICAgIHJlc29sdmVCb2R5T25seTogZmFsc2UsXG4gICAgICAgIG1heFJlZGlyZWN0czogMTAsXG4gICAgICAgIHByZWZpeFVybDogJycsXG4gICAgICAgIG1ldGhvZFJld3JpdGluZzogdHJ1ZSxcbiAgICAgICAgaWdub3JlSW52YWxpZENvb2tpZXM6IGZhbHNlLFxuICAgICAgICBjb250ZXh0OiB7fSxcbiAgICAgICAgLy8gVE9ETzogU2V0IHRoaXMgdG8gYHRydWVgIHdoZW4gR290IDEyIGdldHMgcmVsZWFzZWRcbiAgICAgICAgaHR0cDI6IGZhbHNlLFxuICAgICAgICBhbGxvd0dldEJvZHk6IGZhbHNlLFxuICAgICAgICBodHRwczogdW5kZWZpbmVkLFxuICAgICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5yZXF1ZXN0Lm9wdGlvbnMucmVzcG9uc2VUeXBlID09PSAnanNvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmJvZHk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhZ2luYXRlOiByZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFSZWZsZWN0LmhhcyhyZXNwb25zZS5oZWFkZXJzLCAnbGluaycpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbXMgPSByZXNwb25zZS5oZWFkZXJzLmxpbmsuc3BsaXQoJywnKTtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dDtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gaXRlbS5zcGxpdCgnOycpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VkWzFdLmluY2x1ZGVzKCduZXh0JykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQgPSBwYXJzZWRbMF0udHJpbVN0YXJ0KCkudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCA9IG5leHQuc2xpY2UoMSwgLTEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogbmV3IHVybF8xLlVSTChuZXh0KVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpbHRlcjogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgIHNob3VsZENvbnRpbnVlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgY291bnRMaW1pdDogSW5maW5pdHksXG4gICAgICAgICAgICBiYWNrb2ZmOiAwLFxuICAgICAgICAgICAgcmVxdWVzdExpbWl0OiAxMDAwMCxcbiAgICAgICAgICAgIHN0YWNrQWxsSXRlbXM6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgcGFyc2VKc29uOiAodGV4dCkgPT4gSlNPTi5wYXJzZSh0ZXh0KSxcbiAgICAgICAgc3RyaW5naWZ5SnNvbjogKG9iamVjdCkgPT4gSlNPTi5zdHJpbmdpZnkob2JqZWN0KSxcbiAgICAgICAgY2FjaGVPcHRpb25zOiB7fVxuICAgIH0sXG4gICAgaGFuZGxlcnM6IFtjcmVhdGVfMS5kZWZhdWx0SGFuZGxlcl0sXG4gICAgbXV0YWJsZURlZmF1bHRzOiBmYWxzZVxufTtcbmNvbnN0IGdvdCA9IGNyZWF0ZV8xLmRlZmF1bHQoZGVmYXVsdHMpO1xuZXhwb3J0cy5kZWZhdWx0ID0gZ290O1xuLy8gRm9yIENvbW1vbkpTIGRlZmF1bHQgZXhwb3J0IHN1cHBvcnRcbm1vZHVsZS5leHBvcnRzID0gZ290O1xubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IGdvdDtcbm1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlOyAvLyBXb3JrYXJvdW5kIGZvciBUUyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL3NpbmRyZXNvcmh1cy9nb3QvcHVsbC8xMjY3XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vY3JlYXRlXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9hcy1wcm9taXNlXCIpLCBleHBvcnRzKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/types.js":
/*!*********************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/got/dist/source/types.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2dvdC9kaXN0L3NvdXJjZS90eXBlcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0Bwb3J0a2V5L25leHQtZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9zd2FybS1qcy9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL3R5cGVzLmpzPzdkOTEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/types.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/utils/deep-freeze.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/got/dist/source/utils/deep-freeze.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst is_1 = __webpack_require__(/*! @sindresorhus/is */ \"(ssr)/./node_modules/@sindresorhus/is/dist/index.js\");\nfunction deepFreeze(object) {\n    for (const value of Object.values(object)) {\n        if (is_1.default.plainObject(value) || is_1.default.array(value)) {\n            deepFreeze(value);\n        }\n    }\n    return Object.freeze(object);\n}\nexports[\"default\"] = deepFreeze;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2dvdC9kaXN0L3NvdXJjZS91dGlscy9kZWVwLWZyZWV6ZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxhQUFhLG1CQUFPLENBQUMsNkVBQWtCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL0Bwb3J0a2V5L25leHQtZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9zd2FybS1qcy9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL3V0aWxzL2RlZXAtZnJlZXplLmpzP2M5ODciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBpc18xID0gcmVxdWlyZShcIkBzaW5kcmVzb3JodXMvaXNcIik7XG5mdW5jdGlvbiBkZWVwRnJlZXplKG9iamVjdCkge1xuICAgIGZvciAoY29uc3QgdmFsdWUgb2YgT2JqZWN0LnZhbHVlcyhvYmplY3QpKSB7XG4gICAgICAgIGlmIChpc18xLmRlZmF1bHQucGxhaW5PYmplY3QodmFsdWUpIHx8IGlzXzEuZGVmYXVsdC5hcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGRlZXBGcmVlemUodmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBPYmplY3QuZnJlZXplKG9iamVjdCk7XG59XG5leHBvcnRzLmRlZmF1bHQgPSBkZWVwRnJlZXplO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/utils/deep-freeze.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/utils/deprecation-warning.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/got/dist/source/utils/deprecation-warning.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst alreadyWarned = new Set();\nexports[\"default\"] = (message) => {\n    if (alreadyWarned.has(message)) {\n        return;\n    }\n    alreadyWarned.add(message);\n    // @ts-expect-error Missing types.\n    process.emitWarning(`Got: ${message}`, {\n        type: 'DeprecationWarning'\n    });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2dvdC9kaXN0L3NvdXJjZS91dGlscy9kZXByZWNhdGlvbi13YXJuaW5nLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEO0FBQ0Esa0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLFFBQVE7QUFDeEM7QUFDQSxLQUFLO0FBQ0wiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AcG9ydGtleS9uZXh0LWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2dvdC9kaXN0L3NvdXJjZS91dGlscy9kZXByZWNhdGlvbi13YXJuaW5nLmpzPzU1YTQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBhbHJlYWR5V2FybmVkID0gbmV3IFNldCgpO1xuZXhwb3J0cy5kZWZhdWx0ID0gKG1lc3NhZ2UpID0+IHtcbiAgICBpZiAoYWxyZWFkeVdhcm5lZC5oYXMobWVzc2FnZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhbHJlYWR5V2FybmVkLmFkZChtZXNzYWdlKTtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIE1pc3NpbmcgdHlwZXMuXG4gICAgcHJvY2Vzcy5lbWl0V2FybmluZyhgR290OiAke21lc3NhZ2V9YCwge1xuICAgICAgICB0eXBlOiAnRGVwcmVjYXRpb25XYXJuaW5nJ1xuICAgIH0pO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/got/dist/source/utils/deprecation-warning.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/http2-wrapper/source/agent.js":
/*!**************************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/http2-wrapper/source/agent.js ***!
  \**************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\nconst EventEmitter = __webpack_require__(/*! events */ \"events\");\nconst tls = __webpack_require__(/*! tls */ \"tls\");\nconst http2 = __webpack_require__(/*! http2 */ \"http2\");\nconst QuickLRU = __webpack_require__(/*! quick-lru */ \"(ssr)/./node_modules/quick-lru/index.js\");\n\nconst kCurrentStreamsCount = Symbol('currentStreamsCount');\nconst kRequest = Symbol('request');\nconst kOriginSet = Symbol('cachedOriginSet');\nconst kGracefullyClosing = Symbol('gracefullyClosing');\n\nconst nameKeys = [\n\t// `http2.connect()` options\n\t'maxDeflateDynamicTableSize',\n\t'maxSessionMemory',\n\t'maxHeaderListPairs',\n\t'maxOutstandingPings',\n\t'maxReservedRemoteStreams',\n\t'maxSendHeaderBlockLength',\n\t'paddingStrategy',\n\n\t// `tls.connect()` options\n\t'localAddress',\n\t'path',\n\t'rejectUnauthorized',\n\t'minDHSize',\n\n\t// `tls.createSecureContext()` options\n\t'ca',\n\t'cert',\n\t'clientCertEngine',\n\t'ciphers',\n\t'key',\n\t'pfx',\n\t'servername',\n\t'minVersion',\n\t'maxVersion',\n\t'secureProtocol',\n\t'crl',\n\t'honorCipherOrder',\n\t'ecdhCurve',\n\t'dhparam',\n\t'secureOptions',\n\t'sessionIdContext'\n];\n\nconst getSortedIndex = (array, value, compare) => {\n\tlet low = 0;\n\tlet high = array.length;\n\n\twhile (low < high) {\n\t\tconst mid = (low + high) >>> 1;\n\n\t\t/* istanbul ignore next */\n\t\tif (compare(array[mid], value)) {\n\t\t\t// This never gets called because we use descending sort. Better to have this anyway.\n\t\t\tlow = mid + 1;\n\t\t} else {\n\t\t\thigh = mid;\n\t\t}\n\t}\n\n\treturn low;\n};\n\nconst compareSessions = (a, b) => {\n\treturn a.remoteSettings.maxConcurrentStreams > b.remoteSettings.maxConcurrentStreams;\n};\n\n// See https://tools.ietf.org/html/rfc8336\nconst closeCoveredSessions = (where, session) => {\n\t// Clients SHOULD NOT emit new requests on any connection whose Origin\n\t// Set is a proper subset of another connection's Origin Set, and they\n\t// SHOULD close it once all outstanding requests are satisfied.\n\tfor (const coveredSession of where) {\n\t\tif (\n\t\t\t// The set is a proper subset when its length is less than the other set.\n\t\t\tcoveredSession[kOriginSet].length < session[kOriginSet].length &&\n\n\t\t\t// And the other set includes all elements of the subset.\n\t\t\tcoveredSession[kOriginSet].every(origin => session[kOriginSet].includes(origin)) &&\n\n\t\t\t// Makes sure that the session can handle all requests from the covered session.\n\t\t\tcoveredSession[kCurrentStreamsCount] + session[kCurrentStreamsCount] <= session.remoteSettings.maxConcurrentStreams\n\t\t) {\n\t\t\t// This allows pending requests to finish and prevents making new requests.\n\t\t\tgracefullyClose(coveredSession);\n\t\t}\n\t}\n};\n\n// This is basically inverted `closeCoveredSessions(...)`.\nconst closeSessionIfCovered = (where, coveredSession) => {\n\tfor (const session of where) {\n\t\tif (\n\t\t\tcoveredSession[kOriginSet].length < session[kOriginSet].length &&\n\t\t\tcoveredSession[kOriginSet].every(origin => session[kOriginSet].includes(origin)) &&\n\t\t\tcoveredSession[kCurrentStreamsCount] + session[kCurrentStreamsCount] <= session.remoteSettings.maxConcurrentStreams\n\t\t) {\n\t\t\tgracefullyClose(coveredSession);\n\t\t}\n\t}\n};\n\nconst getSessions = ({agent, isFree}) => {\n\tconst result = {};\n\n\t// eslint-disable-next-line guard-for-in\n\tfor (const normalizedOptions in agent.sessions) {\n\t\tconst sessions = agent.sessions[normalizedOptions];\n\n\t\tconst filtered = sessions.filter(session => {\n\t\t\tconst result = session[Agent.kCurrentStreamsCount] < session.remoteSettings.maxConcurrentStreams;\n\n\t\t\treturn isFree ? result : !result;\n\t\t});\n\n\t\tif (filtered.length !== 0) {\n\t\t\tresult[normalizedOptions] = filtered;\n\t\t}\n\t}\n\n\treturn result;\n};\n\nconst gracefullyClose = session => {\n\tsession[kGracefullyClosing] = true;\n\n\tif (session[kCurrentStreamsCount] === 0) {\n\t\tsession.close();\n\t}\n};\n\nclass Agent extends EventEmitter {\n\tconstructor({timeout = 60000, maxSessions = Infinity, maxFreeSessions = 10, maxCachedTlsSessions = 100} = {}) {\n\t\tsuper();\n\n\t\t// A session is considered busy when its current streams count\n\t\t// is equal to or greater than the `maxConcurrentStreams` value.\n\n\t\t// A session is considered free when its current streams count\n\t\t// is less than the `maxConcurrentStreams` value.\n\n\t\t// SESSIONS[NORMALIZED_OPTIONS] = [];\n\t\tthis.sessions = {};\n\n\t\t// The queue for creating new sessions. It looks like this:\n\t\t// QUEUE[NORMALIZED_OPTIONS][NORMALIZED_ORIGIN] = ENTRY_FUNCTION\n\t\t//\n\t\t// The entry function has `listeners`, `completed` and `destroyed` properties.\n\t\t// `listeners` is an array of objects containing `resolve` and `reject` functions.\n\t\t// `completed` is a boolean. It's set to true after ENTRY_FUNCTION is executed.\n\t\t// `destroyed` is a boolean. If it's set to true, the session will be destroyed if hasn't connected yet.\n\t\tthis.queue = {};\n\n\t\t// Each session will use this timeout value.\n\t\tthis.timeout = timeout;\n\n\t\t// Max sessions in total\n\t\tthis.maxSessions = maxSessions;\n\n\t\t// Max free sessions in total\n\t\t// TODO: decreasing `maxFreeSessions` should close some sessions\n\t\tthis.maxFreeSessions = maxFreeSessions;\n\n\t\tthis._freeSessionsCount = 0;\n\t\tthis._sessionsCount = 0;\n\n\t\t// We don't support push streams by default.\n\t\tthis.settings = {\n\t\t\tenablePush: false\n\t\t};\n\n\t\t// Reusing TLS sessions increases performance.\n\t\tthis.tlsSessionCache = new QuickLRU({maxSize: maxCachedTlsSessions});\n\t}\n\n\tstatic normalizeOrigin(url, servername) {\n\t\tif (typeof url === 'string') {\n\t\t\turl = new URL(url);\n\t\t}\n\n\t\tif (servername && url.hostname !== servername) {\n\t\t\turl.hostname = servername;\n\t\t}\n\n\t\treturn url.origin;\n\t}\n\n\tnormalizeOptions(options) {\n\t\tlet normalized = '';\n\n\t\tif (options) {\n\t\t\tfor (const key of nameKeys) {\n\t\t\t\tif (options[key]) {\n\t\t\t\t\tnormalized += `:${options[key]}`;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn normalized;\n\t}\n\n\t_tryToCreateNewSession(normalizedOptions, normalizedOrigin) {\n\t\tif (!(normalizedOptions in this.queue) || !(normalizedOrigin in this.queue[normalizedOptions])) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst item = this.queue[normalizedOptions][normalizedOrigin];\n\n\t\t// The entry function can be run only once.\n\t\t// BUG: The session may be never created when:\n\t\t// - the first condition is false AND\n\t\t// - this function is never called with the same arguments in the future.\n\t\tif (this._sessionsCount < this.maxSessions && !item.completed) {\n\t\t\titem.completed = true;\n\n\t\t\titem();\n\t\t}\n\t}\n\n\tgetSession(origin, options, listeners) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif (Array.isArray(listeners)) {\n\t\t\t\tlisteners = [...listeners];\n\n\t\t\t\t// Resolve the current promise ASAP, we're just moving the listeners.\n\t\t\t\t// They will be executed at a different time.\n\t\t\t\tresolve();\n\t\t\t} else {\n\t\t\t\tlisteners = [{resolve, reject}];\n\t\t\t}\n\n\t\t\tconst normalizedOptions = this.normalizeOptions(options);\n\t\t\tconst normalizedOrigin = Agent.normalizeOrigin(origin, options && options.servername);\n\n\t\t\tif (normalizedOrigin === undefined) {\n\t\t\t\tfor (const {reject} of listeners) {\n\t\t\t\t\treject(new TypeError('The `origin` argument needs to be a string or an URL object'));\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (normalizedOptions in this.sessions) {\n\t\t\t\tconst sessions = this.sessions[normalizedOptions];\n\n\t\t\t\tlet maxConcurrentStreams = -1;\n\t\t\t\tlet currentStreamsCount = -1;\n\t\t\t\tlet optimalSession;\n\n\t\t\t\t// We could just do this.sessions[normalizedOptions].find(...) but that isn't optimal.\n\t\t\t\t// Additionally, we are looking for session which has biggest current pending streams count.\n\t\t\t\tfor (const session of sessions) {\n\t\t\t\t\tconst sessionMaxConcurrentStreams = session.remoteSettings.maxConcurrentStreams;\n\n\t\t\t\t\tif (sessionMaxConcurrentStreams < maxConcurrentStreams) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (session[kOriginSet].includes(normalizedOrigin)) {\n\t\t\t\t\t\tconst sessionCurrentStreamsCount = session[kCurrentStreamsCount];\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tsessionCurrentStreamsCount >= sessionMaxConcurrentStreams ||\n\t\t\t\t\t\t\tsession[kGracefullyClosing] ||\n\t\t\t\t\t\t\t// Unfortunately the `close` event isn't called immediately,\n\t\t\t\t\t\t\t// so `session.destroyed` is `true`, but `session.closed` is `false`.\n\t\t\t\t\t\t\tsession.destroyed\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// We only need set this once.\n\t\t\t\t\t\tif (!optimalSession) {\n\t\t\t\t\t\t\tmaxConcurrentStreams = sessionMaxConcurrentStreams;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// We're looking for the session which has biggest current pending stream count,\n\t\t\t\t\t\t// in order to minimalize the amount of active sessions.\n\t\t\t\t\t\tif (sessionCurrentStreamsCount > currentStreamsCount) {\n\t\t\t\t\t\t\toptimalSession = session;\n\t\t\t\t\t\t\tcurrentStreamsCount = sessionCurrentStreamsCount;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (optimalSession) {\n\t\t\t\t\t/* istanbul ignore next: safety check */\n\t\t\t\t\tif (listeners.length !== 1) {\n\t\t\t\t\t\tfor (const {reject} of listeners) {\n\t\t\t\t\t\t\tconst error = new Error(\n\t\t\t\t\t\t\t\t`Expected the length of listeners to be 1, got ${listeners.length}.\\n` +\n\t\t\t\t\t\t\t\t'Please report this to https://github.com/szmarczak/http2-wrapper/'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\treject(error);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tlisteners[0].resolve(optimalSession);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (normalizedOptions in this.queue) {\n\t\t\t\tif (normalizedOrigin in this.queue[normalizedOptions]) {\n\t\t\t\t\t// There's already an item in the queue, just attach ourselves to it.\n\t\t\t\t\tthis.queue[normalizedOptions][normalizedOrigin].listeners.push(...listeners);\n\n\t\t\t\t\t// This shouldn't be executed here.\n\t\t\t\t\t// See the comment inside _tryToCreateNewSession.\n\t\t\t\t\tthis._tryToCreateNewSession(normalizedOptions, normalizedOrigin);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.queue[normalizedOptions] = {};\n\t\t\t}\n\n\t\t\t// The entry must be removed from the queue IMMEDIATELY when:\n\t\t\t// 1. the session connects successfully,\n\t\t\t// 2. an error occurs.\n\t\t\tconst removeFromQueue = () => {\n\t\t\t\t// Our entry can be replaced. We cannot remove the new one.\n\t\t\t\tif (normalizedOptions in this.queue && this.queue[normalizedOptions][normalizedOrigin] === entry) {\n\t\t\t\t\tdelete this.queue[normalizedOptions][normalizedOrigin];\n\n\t\t\t\t\tif (Object.keys(this.queue[normalizedOptions]).length === 0) {\n\t\t\t\t\t\tdelete this.queue[normalizedOptions];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// The main logic is here\n\t\t\tconst entry = () => {\n\t\t\t\tconst name = `${normalizedOrigin}:${normalizedOptions}`;\n\t\t\t\tlet receivedSettings = false;\n\n\t\t\t\ttry {\n\t\t\t\t\tconst session = http2.connect(origin, {\n\t\t\t\t\t\tcreateConnection: this.createConnection,\n\t\t\t\t\t\tsettings: this.settings,\n\t\t\t\t\t\tsession: this.tlsSessionCache.get(name),\n\t\t\t\t\t\t...options\n\t\t\t\t\t});\n\t\t\t\t\tsession[kCurrentStreamsCount] = 0;\n\t\t\t\t\tsession[kGracefullyClosing] = false;\n\n\t\t\t\t\tconst isFree = () => session[kCurrentStreamsCount] < session.remoteSettings.maxConcurrentStreams;\n\t\t\t\t\tlet wasFree = true;\n\n\t\t\t\t\tsession.socket.once('session', tlsSession => {\n\t\t\t\t\t\tthis.tlsSessionCache.set(name, tlsSession);\n\t\t\t\t\t});\n\n\t\t\t\t\tsession.once('error', error => {\n\t\t\t\t\t\t// Listeners are empty when the session successfully connected.\n\t\t\t\t\t\tfor (const {reject} of listeners) {\n\t\t\t\t\t\t\treject(error);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// The connection got broken, purge the cache.\n\t\t\t\t\t\tthis.tlsSessionCache.delete(name);\n\t\t\t\t\t});\n\n\t\t\t\t\tsession.setTimeout(this.timeout, () => {\n\t\t\t\t\t\t// Terminates all streams owned by this session.\n\t\t\t\t\t\t// TODO: Maybe the streams should have a \"Session timed out\" error?\n\t\t\t\t\t\tsession.destroy();\n\t\t\t\t\t});\n\n\t\t\t\t\tsession.once('close', () => {\n\t\t\t\t\t\tif (receivedSettings) {\n\t\t\t\t\t\t\t// 1. If it wasn't free then no need to decrease because\n\t\t\t\t\t\t\t//    it has been decreased already in session.request().\n\t\t\t\t\t\t\t// 2. `stream.once('close')` won't increment the count\n\t\t\t\t\t\t\t//    because the session is already closed.\n\t\t\t\t\t\t\tif (wasFree) {\n\t\t\t\t\t\t\t\tthis._freeSessionsCount--;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis._sessionsCount--;\n\n\t\t\t\t\t\t\t// This cannot be moved to the stream logic,\n\t\t\t\t\t\t\t// because there may be a session that hadn't made a single request.\n\t\t\t\t\t\t\tconst where = this.sessions[normalizedOptions];\n\t\t\t\t\t\t\twhere.splice(where.indexOf(session), 1);\n\n\t\t\t\t\t\t\tif (where.length === 0) {\n\t\t\t\t\t\t\t\tdelete this.sessions[normalizedOptions];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Broken connection\n\t\t\t\t\t\t\tconst error = new Error('Session closed without receiving a SETTINGS frame');\n\t\t\t\t\t\t\terror.code = 'HTTP2WRAPPER_NOSETTINGS';\n\n\t\t\t\t\t\t\tfor (const {reject} of listeners) {\n\t\t\t\t\t\t\t\treject(error);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tremoveFromQueue();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// There may be another session awaiting.\n\t\t\t\t\t\tthis._tryToCreateNewSession(normalizedOptions, normalizedOrigin);\n\t\t\t\t\t});\n\n\t\t\t\t\t// Iterates over the queue and processes listeners.\n\t\t\t\t\tconst processListeners = () => {\n\t\t\t\t\t\tif (!(normalizedOptions in this.queue) || !isFree()) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (const origin of session[kOriginSet]) {\n\t\t\t\t\t\t\tif (origin in this.queue[normalizedOptions]) {\n\t\t\t\t\t\t\t\tconst {listeners} = this.queue[normalizedOptions][origin];\n\n\t\t\t\t\t\t\t\t// Prevents session overloading.\n\t\t\t\t\t\t\t\twhile (listeners.length !== 0 && isFree()) {\n\t\t\t\t\t\t\t\t\t// We assume `resolve(...)` calls `request(...)` *directly*,\n\t\t\t\t\t\t\t\t\t// otherwise the session will get overloaded.\n\t\t\t\t\t\t\t\t\tlisteners.shift().resolve(session);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tconst where = this.queue[normalizedOptions];\n\t\t\t\t\t\t\t\tif (where[origin].listeners.length === 0) {\n\t\t\t\t\t\t\t\t\tdelete where[origin];\n\n\t\t\t\t\t\t\t\t\tif (Object.keys(where).length === 0) {\n\t\t\t\t\t\t\t\t\t\tdelete this.queue[normalizedOptions];\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// We're no longer free, no point in continuing.\n\t\t\t\t\t\t\t\tif (!isFree()) {\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\t// The Origin Set cannot shrink. No need to check if it suddenly became covered by another one.\n\t\t\t\t\tsession.on('origin', () => {\n\t\t\t\t\t\tsession[kOriginSet] = session.originSet;\n\n\t\t\t\t\t\tif (!isFree()) {\n\t\t\t\t\t\t\t// The session is full.\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tprocessListeners();\n\n\t\t\t\t\t\t// Close covered sessions (if possible).\n\t\t\t\t\t\tcloseCoveredSessions(this.sessions[normalizedOptions], session);\n\t\t\t\t\t});\n\n\t\t\t\t\tsession.once('remoteSettings', () => {\n\t\t\t\t\t\t// Fix Node.js bug preventing the process from exiting\n\t\t\t\t\t\tsession.ref();\n\t\t\t\t\t\tsession.unref();\n\n\t\t\t\t\t\tthis._sessionsCount++;\n\n\t\t\t\t\t\t// The Agent could have been destroyed already.\n\t\t\t\t\t\tif (entry.destroyed) {\n\t\t\t\t\t\t\tconst error = new Error('Agent has been destroyed');\n\n\t\t\t\t\t\t\tfor (const listener of listeners) {\n\t\t\t\t\t\t\t\tlistener.reject(error);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tsession.destroy();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsession[kOriginSet] = session.originSet;\n\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst where = this.sessions;\n\n\t\t\t\t\t\t\tif (normalizedOptions in where) {\n\t\t\t\t\t\t\t\tconst sessions = where[normalizedOptions];\n\t\t\t\t\t\t\t\tsessions.splice(getSortedIndex(sessions, session, compareSessions), 0, session);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twhere[normalizedOptions] = [session];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis._freeSessionsCount += 1;\n\t\t\t\t\t\treceivedSettings = true;\n\n\t\t\t\t\t\tthis.emit('session', session);\n\n\t\t\t\t\t\tprocessListeners();\n\t\t\t\t\t\tremoveFromQueue();\n\n\t\t\t\t\t\t// TODO: Close last recently used (or least used?) session\n\t\t\t\t\t\tif (session[kCurrentStreamsCount] === 0 && this._freeSessionsCount > this.maxFreeSessions) {\n\t\t\t\t\t\t\tsession.close();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Check if we haven't managed to execute all listeners.\n\t\t\t\t\t\tif (listeners.length !== 0) {\n\t\t\t\t\t\t\t// Request for a new session with predefined listeners.\n\t\t\t\t\t\t\tthis.getSession(normalizedOrigin, options, listeners);\n\t\t\t\t\t\t\tlisteners.length = 0;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// `session.remoteSettings.maxConcurrentStreams` might get increased\n\t\t\t\t\t\tsession.on('remoteSettings', () => {\n\t\t\t\t\t\t\tprocessListeners();\n\n\t\t\t\t\t\t\t// In case the Origin Set changes\n\t\t\t\t\t\t\tcloseCoveredSessions(this.sessions[normalizedOptions], session);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\t// Shim `session.request()` in order to catch all streams\n\t\t\t\t\tsession[kRequest] = session.request;\n\t\t\t\t\tsession.request = (headers, streamOptions) => {\n\t\t\t\t\t\tif (session[kGracefullyClosing]) {\n\t\t\t\t\t\t\tthrow new Error('The session is gracefully closing. No new streams are allowed.');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst stream = session[kRequest](headers, streamOptions);\n\n\t\t\t\t\t\t// The process won't exit until the session is closed or all requests are gone.\n\t\t\t\t\t\tsession.ref();\n\n\t\t\t\t\t\t++session[kCurrentStreamsCount];\n\n\t\t\t\t\t\tif (session[kCurrentStreamsCount] === session.remoteSettings.maxConcurrentStreams) {\n\t\t\t\t\t\t\tthis._freeSessionsCount--;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstream.once('close', () => {\n\t\t\t\t\t\t\twasFree = isFree();\n\n\t\t\t\t\t\t\t--session[kCurrentStreamsCount];\n\n\t\t\t\t\t\t\tif (!session.destroyed && !session.closed) {\n\t\t\t\t\t\t\t\tcloseSessionIfCovered(this.sessions[normalizedOptions], session);\n\n\t\t\t\t\t\t\t\tif (isFree() && !session.closed) {\n\t\t\t\t\t\t\t\t\tif (!wasFree) {\n\t\t\t\t\t\t\t\t\t\tthis._freeSessionsCount++;\n\n\t\t\t\t\t\t\t\t\t\twasFree = true;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tconst isEmpty = session[kCurrentStreamsCount] === 0;\n\n\t\t\t\t\t\t\t\t\tif (isEmpty) {\n\t\t\t\t\t\t\t\t\t\tsession.unref();\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tisEmpty &&\n\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\tthis._freeSessionsCount > this.maxFreeSessions ||\n\t\t\t\t\t\t\t\t\t\t\tsession[kGracefullyClosing]\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tsession.close();\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tcloseCoveredSessions(this.sessions[normalizedOptions], session);\n\t\t\t\t\t\t\t\t\t\tprocessListeners();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn stream;\n\t\t\t\t\t};\n\t\t\t\t} catch (error) {\n\t\t\t\t\tfor (const listener of listeners) {\n\t\t\t\t\t\tlistener.reject(error);\n\t\t\t\t\t}\n\n\t\t\t\t\tremoveFromQueue();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tentry.listeners = listeners;\n\t\t\tentry.completed = false;\n\t\t\tentry.destroyed = false;\n\n\t\t\tthis.queue[normalizedOptions][normalizedOrigin] = entry;\n\t\t\tthis._tryToCreateNewSession(normalizedOptions, normalizedOrigin);\n\t\t});\n\t}\n\n\trequest(origin, options, headers, streamOptions) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.getSession(origin, options, [{\n\t\t\t\treject,\n\t\t\t\tresolve: session => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tresolve(session.request(headers, streamOptions));\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\treject(error);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}]);\n\t\t});\n\t}\n\n\tcreateConnection(origin, options) {\n\t\treturn Agent.connect(origin, options);\n\t}\n\n\tstatic connect(origin, options) {\n\t\toptions.ALPNProtocols = ['h2'];\n\n\t\tconst port = origin.port || 443;\n\t\tconst host = origin.hostname || origin.host;\n\n\t\tif (typeof options.servername === 'undefined') {\n\t\t\toptions.servername = host;\n\t\t}\n\n\t\treturn tls.connect(port, host, options);\n\t}\n\n\tcloseFreeSessions() {\n\t\tfor (const sessions of Object.values(this.sessions)) {\n\t\t\tfor (const session of sessions) {\n\t\t\t\tif (session[kCurrentStreamsCount] === 0) {\n\t\t\t\t\tsession.close();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tdestroy(reason) {\n\t\tfor (const sessions of Object.values(this.sessions)) {\n\t\t\tfor (const session of sessions) {\n\t\t\t\tsession.destroy(reason);\n\t\t\t}\n\t\t}\n\n\t\tfor (const entriesOfAuthority of Object.values(this.queue)) {\n\t\t\tfor (const entry of Object.values(entriesOfAuthority)) {\n\t\t\t\tentry.destroyed = true;\n\t\t\t}\n\t\t}\n\n\t\t// New requests should NOT attach to destroyed sessions\n\t\tthis.queue = {};\n\t}\n\n\tget freeSessions() {\n\t\treturn getSessions({agent: this, isFree: true});\n\t}\n\n\tget busySessions() {\n\t\treturn getSessions({agent: this, isFree: false});\n\t}\n}\n\nAgent.kCurrentStreamsCount = kCurrentStreamsCount;\nAgent.kGracefullyClosing = kGracefullyClosing;\n\nmodule.exports = {\n\tAgent,\n\tglobalAgent: new Agent()\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2h0dHAyLXdyYXBwZXIvc291cmNlL2FnZW50LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IscUJBQXFCLG1CQUFPLENBQUMsc0JBQVE7QUFDckMsWUFBWSxtQkFBTyxDQUFDLGdCQUFLO0FBQ3pCLGNBQWMsbUJBQU8sQ0FBQyxvQkFBTztBQUM3QixpQkFBaUIsbUJBQU8sQ0FBQywwREFBVzs7QUFFcEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0IsY0FBYztBQUNwQzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsY0FBYywyRkFBMkYsSUFBSTtBQUM3Rzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVDQUF1Qyw4QkFBOEI7QUFDckU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsYUFBYTtBQUNwQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxrQkFBa0IsZ0JBQWdCO0FBQ2xDOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFFBQVE7QUFDMUI7QUFDQSx5REFBeUQsaUJBQWlCO0FBQzFFO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQkFBb0IsaUJBQWlCLEdBQUcsa0JBQWtCO0FBQzFEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQTtBQUNBLGtCQUFrQixRQUFRO0FBQzFCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBLG1CQUFtQixRQUFRO0FBQzNCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLFdBQVc7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQiwwQkFBMEI7QUFDaEQ7O0FBRUE7QUFDQSxzQkFBc0IsMkJBQTJCO0FBQ2pEO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0Bwb3J0a2V5L25leHQtZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9zd2FybS1qcy9ub2RlX21vZHVsZXMvaHR0cDItd3JhcHBlci9zb3VyY2UvYWdlbnQuanM/MGI3YyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5jb25zdCBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKTtcbmNvbnN0IHRscyA9IHJlcXVpcmUoJ3RscycpO1xuY29uc3QgaHR0cDIgPSByZXF1aXJlKCdodHRwMicpO1xuY29uc3QgUXVpY2tMUlUgPSByZXF1aXJlKCdxdWljay1scnUnKTtcblxuY29uc3Qga0N1cnJlbnRTdHJlYW1zQ291bnQgPSBTeW1ib2woJ2N1cnJlbnRTdHJlYW1zQ291bnQnKTtcbmNvbnN0IGtSZXF1ZXN0ID0gU3ltYm9sKCdyZXF1ZXN0Jyk7XG5jb25zdCBrT3JpZ2luU2V0ID0gU3ltYm9sKCdjYWNoZWRPcmlnaW5TZXQnKTtcbmNvbnN0IGtHcmFjZWZ1bGx5Q2xvc2luZyA9IFN5bWJvbCgnZ3JhY2VmdWxseUNsb3NpbmcnKTtcblxuY29uc3QgbmFtZUtleXMgPSBbXG5cdC8vIGBodHRwMi5jb25uZWN0KClgIG9wdGlvbnNcblx0J21heERlZmxhdGVEeW5hbWljVGFibGVTaXplJyxcblx0J21heFNlc3Npb25NZW1vcnknLFxuXHQnbWF4SGVhZGVyTGlzdFBhaXJzJyxcblx0J21heE91dHN0YW5kaW5nUGluZ3MnLFxuXHQnbWF4UmVzZXJ2ZWRSZW1vdGVTdHJlYW1zJyxcblx0J21heFNlbmRIZWFkZXJCbG9ja0xlbmd0aCcsXG5cdCdwYWRkaW5nU3RyYXRlZ3knLFxuXG5cdC8vIGB0bHMuY29ubmVjdCgpYCBvcHRpb25zXG5cdCdsb2NhbEFkZHJlc3MnLFxuXHQncGF0aCcsXG5cdCdyZWplY3RVbmF1dGhvcml6ZWQnLFxuXHQnbWluREhTaXplJyxcblxuXHQvLyBgdGxzLmNyZWF0ZVNlY3VyZUNvbnRleHQoKWAgb3B0aW9uc1xuXHQnY2EnLFxuXHQnY2VydCcsXG5cdCdjbGllbnRDZXJ0RW5naW5lJyxcblx0J2NpcGhlcnMnLFxuXHQna2V5Jyxcblx0J3BmeCcsXG5cdCdzZXJ2ZXJuYW1lJyxcblx0J21pblZlcnNpb24nLFxuXHQnbWF4VmVyc2lvbicsXG5cdCdzZWN1cmVQcm90b2NvbCcsXG5cdCdjcmwnLFxuXHQnaG9ub3JDaXBoZXJPcmRlcicsXG5cdCdlY2RoQ3VydmUnLFxuXHQnZGhwYXJhbScsXG5cdCdzZWN1cmVPcHRpb25zJyxcblx0J3Nlc3Npb25JZENvbnRleHQnXG5dO1xuXG5jb25zdCBnZXRTb3J0ZWRJbmRleCA9IChhcnJheSwgdmFsdWUsIGNvbXBhcmUpID0+IHtcblx0bGV0IGxvdyA9IDA7XG5cdGxldCBoaWdoID0gYXJyYXkubGVuZ3RoO1xuXG5cdHdoaWxlIChsb3cgPCBoaWdoKSB7XG5cdFx0Y29uc3QgbWlkID0gKGxvdyArIGhpZ2gpID4+PiAxO1xuXG5cdFx0LyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cblx0XHRpZiAoY29tcGFyZShhcnJheVttaWRdLCB2YWx1ZSkpIHtcblx0XHRcdC8vIFRoaXMgbmV2ZXIgZ2V0cyBjYWxsZWQgYmVjYXVzZSB3ZSB1c2UgZGVzY2VuZGluZyBzb3J0LiBCZXR0ZXIgdG8gaGF2ZSB0aGlzIGFueXdheS5cblx0XHRcdGxvdyA9IG1pZCArIDE7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGhpZ2ggPSBtaWQ7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGxvdztcbn07XG5cbmNvbnN0IGNvbXBhcmVTZXNzaW9ucyA9IChhLCBiKSA9PiB7XG5cdHJldHVybiBhLnJlbW90ZVNldHRpbmdzLm1heENvbmN1cnJlbnRTdHJlYW1zID4gYi5yZW1vdGVTZXR0aW5ncy5tYXhDb25jdXJyZW50U3RyZWFtcztcbn07XG5cbi8vIFNlZSBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjODMzNlxuY29uc3QgY2xvc2VDb3ZlcmVkU2Vzc2lvbnMgPSAod2hlcmUsIHNlc3Npb24pID0+IHtcblx0Ly8gQ2xpZW50cyBTSE9VTEQgTk9UIGVtaXQgbmV3IHJlcXVlc3RzIG9uIGFueSBjb25uZWN0aW9uIHdob3NlIE9yaWdpblxuXHQvLyBTZXQgaXMgYSBwcm9wZXIgc3Vic2V0IG9mIGFub3RoZXIgY29ubmVjdGlvbidzIE9yaWdpbiBTZXQsIGFuZCB0aGV5XG5cdC8vIFNIT1VMRCBjbG9zZSBpdCBvbmNlIGFsbCBvdXRzdGFuZGluZyByZXF1ZXN0cyBhcmUgc2F0aXNmaWVkLlxuXHRmb3IgKGNvbnN0IGNvdmVyZWRTZXNzaW9uIG9mIHdoZXJlKSB7XG5cdFx0aWYgKFxuXHRcdFx0Ly8gVGhlIHNldCBpcyBhIHByb3BlciBzdWJzZXQgd2hlbiBpdHMgbGVuZ3RoIGlzIGxlc3MgdGhhbiB0aGUgb3RoZXIgc2V0LlxuXHRcdFx0Y292ZXJlZFNlc3Npb25ba09yaWdpblNldF0ubGVuZ3RoIDwgc2Vzc2lvbltrT3JpZ2luU2V0XS5sZW5ndGggJiZcblxuXHRcdFx0Ly8gQW5kIHRoZSBvdGhlciBzZXQgaW5jbHVkZXMgYWxsIGVsZW1lbnRzIG9mIHRoZSBzdWJzZXQuXG5cdFx0XHRjb3ZlcmVkU2Vzc2lvbltrT3JpZ2luU2V0XS5ldmVyeShvcmlnaW4gPT4gc2Vzc2lvbltrT3JpZ2luU2V0XS5pbmNsdWRlcyhvcmlnaW4pKSAmJlxuXG5cdFx0XHQvLyBNYWtlcyBzdXJlIHRoYXQgdGhlIHNlc3Npb24gY2FuIGhhbmRsZSBhbGwgcmVxdWVzdHMgZnJvbSB0aGUgY292ZXJlZCBzZXNzaW9uLlxuXHRcdFx0Y292ZXJlZFNlc3Npb25ba0N1cnJlbnRTdHJlYW1zQ291bnRdICsgc2Vzc2lvbltrQ3VycmVudFN0cmVhbXNDb3VudF0gPD0gc2Vzc2lvbi5yZW1vdGVTZXR0aW5ncy5tYXhDb25jdXJyZW50U3RyZWFtc1xuXHRcdCkge1xuXHRcdFx0Ly8gVGhpcyBhbGxvd3MgcGVuZGluZyByZXF1ZXN0cyB0byBmaW5pc2ggYW5kIHByZXZlbnRzIG1ha2luZyBuZXcgcmVxdWVzdHMuXG5cdFx0XHRncmFjZWZ1bGx5Q2xvc2UoY292ZXJlZFNlc3Npb24pO1xuXHRcdH1cblx0fVxufTtcblxuLy8gVGhpcyBpcyBiYXNpY2FsbHkgaW52ZXJ0ZWQgYGNsb3NlQ292ZXJlZFNlc3Npb25zKC4uLilgLlxuY29uc3QgY2xvc2VTZXNzaW9uSWZDb3ZlcmVkID0gKHdoZXJlLCBjb3ZlcmVkU2Vzc2lvbikgPT4ge1xuXHRmb3IgKGNvbnN0IHNlc3Npb24gb2Ygd2hlcmUpIHtcblx0XHRpZiAoXG5cdFx0XHRjb3ZlcmVkU2Vzc2lvbltrT3JpZ2luU2V0XS5sZW5ndGggPCBzZXNzaW9uW2tPcmlnaW5TZXRdLmxlbmd0aCAmJlxuXHRcdFx0Y292ZXJlZFNlc3Npb25ba09yaWdpblNldF0uZXZlcnkob3JpZ2luID0+IHNlc3Npb25ba09yaWdpblNldF0uaW5jbHVkZXMob3JpZ2luKSkgJiZcblx0XHRcdGNvdmVyZWRTZXNzaW9uW2tDdXJyZW50U3RyZWFtc0NvdW50XSArIHNlc3Npb25ba0N1cnJlbnRTdHJlYW1zQ291bnRdIDw9IHNlc3Npb24ucmVtb3RlU2V0dGluZ3MubWF4Q29uY3VycmVudFN0cmVhbXNcblx0XHQpIHtcblx0XHRcdGdyYWNlZnVsbHlDbG9zZShjb3ZlcmVkU2Vzc2lvbik7XG5cdFx0fVxuXHR9XG59O1xuXG5jb25zdCBnZXRTZXNzaW9ucyA9ICh7YWdlbnQsIGlzRnJlZX0pID0+IHtcblx0Y29uc3QgcmVzdWx0ID0ge307XG5cblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGd1YXJkLWZvci1pblxuXHRmb3IgKGNvbnN0IG5vcm1hbGl6ZWRPcHRpb25zIGluIGFnZW50LnNlc3Npb25zKSB7XG5cdFx0Y29uc3Qgc2Vzc2lvbnMgPSBhZ2VudC5zZXNzaW9uc1tub3JtYWxpemVkT3B0aW9uc107XG5cblx0XHRjb25zdCBmaWx0ZXJlZCA9IHNlc3Npb25zLmZpbHRlcihzZXNzaW9uID0+IHtcblx0XHRcdGNvbnN0IHJlc3VsdCA9IHNlc3Npb25bQWdlbnQua0N1cnJlbnRTdHJlYW1zQ291bnRdIDwgc2Vzc2lvbi5yZW1vdGVTZXR0aW5ncy5tYXhDb25jdXJyZW50U3RyZWFtcztcblxuXHRcdFx0cmV0dXJuIGlzRnJlZSA/IHJlc3VsdCA6ICFyZXN1bHQ7XG5cdFx0fSk7XG5cblx0XHRpZiAoZmlsdGVyZWQubGVuZ3RoICE9PSAwKSB7XG5cdFx0XHRyZXN1bHRbbm9ybWFsaXplZE9wdGlvbnNdID0gZmlsdGVyZWQ7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJlc3VsdDtcbn07XG5cbmNvbnN0IGdyYWNlZnVsbHlDbG9zZSA9IHNlc3Npb24gPT4ge1xuXHRzZXNzaW9uW2tHcmFjZWZ1bGx5Q2xvc2luZ10gPSB0cnVlO1xuXG5cdGlmIChzZXNzaW9uW2tDdXJyZW50U3RyZWFtc0NvdW50XSA9PT0gMCkge1xuXHRcdHNlc3Npb24uY2xvc2UoKTtcblx0fVxufTtcblxuY2xhc3MgQWdlbnQgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuXHRjb25zdHJ1Y3Rvcih7dGltZW91dCA9IDYwMDAwLCBtYXhTZXNzaW9ucyA9IEluZmluaXR5LCBtYXhGcmVlU2Vzc2lvbnMgPSAxMCwgbWF4Q2FjaGVkVGxzU2Vzc2lvbnMgPSAxMDB9ID0ge30pIHtcblx0XHRzdXBlcigpO1xuXG5cdFx0Ly8gQSBzZXNzaW9uIGlzIGNvbnNpZGVyZWQgYnVzeSB3aGVuIGl0cyBjdXJyZW50IHN0cmVhbXMgY291bnRcblx0XHQvLyBpcyBlcXVhbCB0byBvciBncmVhdGVyIHRoYW4gdGhlIGBtYXhDb25jdXJyZW50U3RyZWFtc2AgdmFsdWUuXG5cblx0XHQvLyBBIHNlc3Npb24gaXMgY29uc2lkZXJlZCBmcmVlIHdoZW4gaXRzIGN1cnJlbnQgc3RyZWFtcyBjb3VudFxuXHRcdC8vIGlzIGxlc3MgdGhhbiB0aGUgYG1heENvbmN1cnJlbnRTdHJlYW1zYCB2YWx1ZS5cblxuXHRcdC8vIFNFU1NJT05TW05PUk1BTElaRURfT1BUSU9OU10gPSBbXTtcblx0XHR0aGlzLnNlc3Npb25zID0ge307XG5cblx0XHQvLyBUaGUgcXVldWUgZm9yIGNyZWF0aW5nIG5ldyBzZXNzaW9ucy4gSXQgbG9va3MgbGlrZSB0aGlzOlxuXHRcdC8vIFFVRVVFW05PUk1BTElaRURfT1BUSU9OU11bTk9STUFMSVpFRF9PUklHSU5dID0gRU5UUllfRlVOQ1RJT05cblx0XHQvL1xuXHRcdC8vIFRoZSBlbnRyeSBmdW5jdGlvbiBoYXMgYGxpc3RlbmVyc2AsIGBjb21wbGV0ZWRgIGFuZCBgZGVzdHJveWVkYCBwcm9wZXJ0aWVzLlxuXHRcdC8vIGBsaXN0ZW5lcnNgIGlzIGFuIGFycmF5IG9mIG9iamVjdHMgY29udGFpbmluZyBgcmVzb2x2ZWAgYW5kIGByZWplY3RgIGZ1bmN0aW9ucy5cblx0XHQvLyBgY29tcGxldGVkYCBpcyBhIGJvb2xlYW4uIEl0J3Mgc2V0IHRvIHRydWUgYWZ0ZXIgRU5UUllfRlVOQ1RJT04gaXMgZXhlY3V0ZWQuXG5cdFx0Ly8gYGRlc3Ryb3llZGAgaXMgYSBib29sZWFuLiBJZiBpdCdzIHNldCB0byB0cnVlLCB0aGUgc2Vzc2lvbiB3aWxsIGJlIGRlc3Ryb3llZCBpZiBoYXNuJ3QgY29ubmVjdGVkIHlldC5cblx0XHR0aGlzLnF1ZXVlID0ge307XG5cblx0XHQvLyBFYWNoIHNlc3Npb24gd2lsbCB1c2UgdGhpcyB0aW1lb3V0IHZhbHVlLlxuXHRcdHRoaXMudGltZW91dCA9IHRpbWVvdXQ7XG5cblx0XHQvLyBNYXggc2Vzc2lvbnMgaW4gdG90YWxcblx0XHR0aGlzLm1heFNlc3Npb25zID0gbWF4U2Vzc2lvbnM7XG5cblx0XHQvLyBNYXggZnJlZSBzZXNzaW9ucyBpbiB0b3RhbFxuXHRcdC8vIFRPRE86IGRlY3JlYXNpbmcgYG1heEZyZWVTZXNzaW9uc2Agc2hvdWxkIGNsb3NlIHNvbWUgc2Vzc2lvbnNcblx0XHR0aGlzLm1heEZyZWVTZXNzaW9ucyA9IG1heEZyZWVTZXNzaW9ucztcblxuXHRcdHRoaXMuX2ZyZWVTZXNzaW9uc0NvdW50ID0gMDtcblx0XHR0aGlzLl9zZXNzaW9uc0NvdW50ID0gMDtcblxuXHRcdC8vIFdlIGRvbid0IHN1cHBvcnQgcHVzaCBzdHJlYW1zIGJ5IGRlZmF1bHQuXG5cdFx0dGhpcy5zZXR0aW5ncyA9IHtcblx0XHRcdGVuYWJsZVB1c2g6IGZhbHNlXG5cdFx0fTtcblxuXHRcdC8vIFJldXNpbmcgVExTIHNlc3Npb25zIGluY3JlYXNlcyBwZXJmb3JtYW5jZS5cblx0XHR0aGlzLnRsc1Nlc3Npb25DYWNoZSA9IG5ldyBRdWlja0xSVSh7bWF4U2l6ZTogbWF4Q2FjaGVkVGxzU2Vzc2lvbnN9KTtcblx0fVxuXG5cdHN0YXRpYyBub3JtYWxpemVPcmlnaW4odXJsLCBzZXJ2ZXJuYW1lKSB7XG5cdFx0aWYgKHR5cGVvZiB1cmwgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHR1cmwgPSBuZXcgVVJMKHVybCk7XG5cdFx0fVxuXG5cdFx0aWYgKHNlcnZlcm5hbWUgJiYgdXJsLmhvc3RuYW1lICE9PSBzZXJ2ZXJuYW1lKSB7XG5cdFx0XHR1cmwuaG9zdG5hbWUgPSBzZXJ2ZXJuYW1lO1xuXHRcdH1cblxuXHRcdHJldHVybiB1cmwub3JpZ2luO1xuXHR9XG5cblx0bm9ybWFsaXplT3B0aW9ucyhvcHRpb25zKSB7XG5cdFx0bGV0IG5vcm1hbGl6ZWQgPSAnJztcblxuXHRcdGlmIChvcHRpb25zKSB7XG5cdFx0XHRmb3IgKGNvbnN0IGtleSBvZiBuYW1lS2V5cykge1xuXHRcdFx0XHRpZiAob3B0aW9uc1trZXldKSB7XG5cdFx0XHRcdFx0bm9ybWFsaXplZCArPSBgOiR7b3B0aW9uc1trZXldfWA7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gbm9ybWFsaXplZDtcblx0fVxuXG5cdF90cnlUb0NyZWF0ZU5ld1Nlc3Npb24obm9ybWFsaXplZE9wdGlvbnMsIG5vcm1hbGl6ZWRPcmlnaW4pIHtcblx0XHRpZiAoIShub3JtYWxpemVkT3B0aW9ucyBpbiB0aGlzLnF1ZXVlKSB8fCAhKG5vcm1hbGl6ZWRPcmlnaW4gaW4gdGhpcy5xdWV1ZVtub3JtYWxpemVkT3B0aW9uc10pKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29uc3QgaXRlbSA9IHRoaXMucXVldWVbbm9ybWFsaXplZE9wdGlvbnNdW25vcm1hbGl6ZWRPcmlnaW5dO1xuXG5cdFx0Ly8gVGhlIGVudHJ5IGZ1bmN0aW9uIGNhbiBiZSBydW4gb25seSBvbmNlLlxuXHRcdC8vIEJVRzogVGhlIHNlc3Npb24gbWF5IGJlIG5ldmVyIGNyZWF0ZWQgd2hlbjpcblx0XHQvLyAtIHRoZSBmaXJzdCBjb25kaXRpb24gaXMgZmFsc2UgQU5EXG5cdFx0Ly8gLSB0aGlzIGZ1bmN0aW9uIGlzIG5ldmVyIGNhbGxlZCB3aXRoIHRoZSBzYW1lIGFyZ3VtZW50cyBpbiB0aGUgZnV0dXJlLlxuXHRcdGlmICh0aGlzLl9zZXNzaW9uc0NvdW50IDwgdGhpcy5tYXhTZXNzaW9ucyAmJiAhaXRlbS5jb21wbGV0ZWQpIHtcblx0XHRcdGl0ZW0uY29tcGxldGVkID0gdHJ1ZTtcblxuXHRcdFx0aXRlbSgpO1xuXHRcdH1cblx0fVxuXG5cdGdldFNlc3Npb24ob3JpZ2luLCBvcHRpb25zLCBsaXN0ZW5lcnMpIHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0aWYgKEFycmF5LmlzQXJyYXkobGlzdGVuZXJzKSkge1xuXHRcdFx0XHRsaXN0ZW5lcnMgPSBbLi4ubGlzdGVuZXJzXTtcblxuXHRcdFx0XHQvLyBSZXNvbHZlIHRoZSBjdXJyZW50IHByb21pc2UgQVNBUCwgd2UncmUganVzdCBtb3ZpbmcgdGhlIGxpc3RlbmVycy5cblx0XHRcdFx0Ly8gVGhleSB3aWxsIGJlIGV4ZWN1dGVkIGF0IGEgZGlmZmVyZW50IHRpbWUuXG5cdFx0XHRcdHJlc29sdmUoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGxpc3RlbmVycyA9IFt7cmVzb2x2ZSwgcmVqZWN0fV07XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IG5vcm1hbGl6ZWRPcHRpb25zID0gdGhpcy5ub3JtYWxpemVPcHRpb25zKG9wdGlvbnMpO1xuXHRcdFx0Y29uc3Qgbm9ybWFsaXplZE9yaWdpbiA9IEFnZW50Lm5vcm1hbGl6ZU9yaWdpbihvcmlnaW4sIG9wdGlvbnMgJiYgb3B0aW9ucy5zZXJ2ZXJuYW1lKTtcblxuXHRcdFx0aWYgKG5vcm1hbGl6ZWRPcmlnaW4gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRmb3IgKGNvbnN0IHtyZWplY3R9IG9mIGxpc3RlbmVycykge1xuXHRcdFx0XHRcdHJlamVjdChuZXcgVHlwZUVycm9yKCdUaGUgYG9yaWdpbmAgYXJndW1lbnQgbmVlZHMgdG8gYmUgYSBzdHJpbmcgb3IgYW4gVVJMIG9iamVjdCcpKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKG5vcm1hbGl6ZWRPcHRpb25zIGluIHRoaXMuc2Vzc2lvbnMpIHtcblx0XHRcdFx0Y29uc3Qgc2Vzc2lvbnMgPSB0aGlzLnNlc3Npb25zW25vcm1hbGl6ZWRPcHRpb25zXTtcblxuXHRcdFx0XHRsZXQgbWF4Q29uY3VycmVudFN0cmVhbXMgPSAtMTtcblx0XHRcdFx0bGV0IGN1cnJlbnRTdHJlYW1zQ291bnQgPSAtMTtcblx0XHRcdFx0bGV0IG9wdGltYWxTZXNzaW9uO1xuXG5cdFx0XHRcdC8vIFdlIGNvdWxkIGp1c3QgZG8gdGhpcy5zZXNzaW9uc1tub3JtYWxpemVkT3B0aW9uc10uZmluZCguLi4pIGJ1dCB0aGF0IGlzbid0IG9wdGltYWwuXG5cdFx0XHRcdC8vIEFkZGl0aW9uYWxseSwgd2UgYXJlIGxvb2tpbmcgZm9yIHNlc3Npb24gd2hpY2ggaGFzIGJpZ2dlc3QgY3VycmVudCBwZW5kaW5nIHN0cmVhbXMgY291bnQuXG5cdFx0XHRcdGZvciAoY29uc3Qgc2Vzc2lvbiBvZiBzZXNzaW9ucykge1xuXHRcdFx0XHRcdGNvbnN0IHNlc3Npb25NYXhDb25jdXJyZW50U3RyZWFtcyA9IHNlc3Npb24ucmVtb3RlU2V0dGluZ3MubWF4Q29uY3VycmVudFN0cmVhbXM7XG5cblx0XHRcdFx0XHRpZiAoc2Vzc2lvbk1heENvbmN1cnJlbnRTdHJlYW1zIDwgbWF4Q29uY3VycmVudFN0cmVhbXMpIHtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChzZXNzaW9uW2tPcmlnaW5TZXRdLmluY2x1ZGVzKG5vcm1hbGl6ZWRPcmlnaW4pKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBzZXNzaW9uQ3VycmVudFN0cmVhbXNDb3VudCA9IHNlc3Npb25ba0N1cnJlbnRTdHJlYW1zQ291bnRdO1xuXG5cdFx0XHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0XHRcdHNlc3Npb25DdXJyZW50U3RyZWFtc0NvdW50ID49IHNlc3Npb25NYXhDb25jdXJyZW50U3RyZWFtcyB8fFxuXHRcdFx0XHRcdFx0XHRzZXNzaW9uW2tHcmFjZWZ1bGx5Q2xvc2luZ10gfHxcblx0XHRcdFx0XHRcdFx0Ly8gVW5mb3J0dW5hdGVseSB0aGUgYGNsb3NlYCBldmVudCBpc24ndCBjYWxsZWQgaW1tZWRpYXRlbHksXG5cdFx0XHRcdFx0XHRcdC8vIHNvIGBzZXNzaW9uLmRlc3Ryb3llZGAgaXMgYHRydWVgLCBidXQgYHNlc3Npb24uY2xvc2VkYCBpcyBgZmFsc2VgLlxuXHRcdFx0XHRcdFx0XHRzZXNzaW9uLmRlc3Ryb3llZFxuXHRcdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBXZSBvbmx5IG5lZWQgc2V0IHRoaXMgb25jZS5cblx0XHRcdFx0XHRcdGlmICghb3B0aW1hbFNlc3Npb24pIHtcblx0XHRcdFx0XHRcdFx0bWF4Q29uY3VycmVudFN0cmVhbXMgPSBzZXNzaW9uTWF4Q29uY3VycmVudFN0cmVhbXM7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIFdlJ3JlIGxvb2tpbmcgZm9yIHRoZSBzZXNzaW9uIHdoaWNoIGhhcyBiaWdnZXN0IGN1cnJlbnQgcGVuZGluZyBzdHJlYW0gY291bnQsXG5cdFx0XHRcdFx0XHQvLyBpbiBvcmRlciB0byBtaW5pbWFsaXplIHRoZSBhbW91bnQgb2YgYWN0aXZlIHNlc3Npb25zLlxuXHRcdFx0XHRcdFx0aWYgKHNlc3Npb25DdXJyZW50U3RyZWFtc0NvdW50ID4gY3VycmVudFN0cmVhbXNDb3VudCkge1xuXHRcdFx0XHRcdFx0XHRvcHRpbWFsU2Vzc2lvbiA9IHNlc3Npb247XG5cdFx0XHRcdFx0XHRcdGN1cnJlbnRTdHJlYW1zQ291bnQgPSBzZXNzaW9uQ3VycmVudFN0cmVhbXNDb3VudDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAob3B0aW1hbFNlc3Npb24pIHtcblx0XHRcdFx0XHQvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogc2FmZXR5IGNoZWNrICovXG5cdFx0XHRcdFx0aWYgKGxpc3RlbmVycy5sZW5ndGggIT09IDEpIHtcblx0XHRcdFx0XHRcdGZvciAoY29uc3Qge3JlamVjdH0gb2YgbGlzdGVuZXJzKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKFxuXHRcdFx0XHRcdFx0XHRcdGBFeHBlY3RlZCB0aGUgbGVuZ3RoIG9mIGxpc3RlbmVycyB0byBiZSAxLCBnb3QgJHtsaXN0ZW5lcnMubGVuZ3RofS5cXG5gICtcblx0XHRcdFx0XHRcdFx0XHQnUGxlYXNlIHJlcG9ydCB0aGlzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9zem1hcmN6YWsvaHR0cDItd3JhcHBlci8nXG5cdFx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGxpc3RlbmVyc1swXS5yZXNvbHZlKG9wdGltYWxTZXNzaW9uKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKG5vcm1hbGl6ZWRPcHRpb25zIGluIHRoaXMucXVldWUpIHtcblx0XHRcdFx0aWYgKG5vcm1hbGl6ZWRPcmlnaW4gaW4gdGhpcy5xdWV1ZVtub3JtYWxpemVkT3B0aW9uc10pIHtcblx0XHRcdFx0XHQvLyBUaGVyZSdzIGFscmVhZHkgYW4gaXRlbSBpbiB0aGUgcXVldWUsIGp1c3QgYXR0YWNoIG91cnNlbHZlcyB0byBpdC5cblx0XHRcdFx0XHR0aGlzLnF1ZXVlW25vcm1hbGl6ZWRPcHRpb25zXVtub3JtYWxpemVkT3JpZ2luXS5saXN0ZW5lcnMucHVzaCguLi5saXN0ZW5lcnMpO1xuXG5cdFx0XHRcdFx0Ly8gVGhpcyBzaG91bGRuJ3QgYmUgZXhlY3V0ZWQgaGVyZS5cblx0XHRcdFx0XHQvLyBTZWUgdGhlIGNvbW1lbnQgaW5zaWRlIF90cnlUb0NyZWF0ZU5ld1Nlc3Npb24uXG5cdFx0XHRcdFx0dGhpcy5fdHJ5VG9DcmVhdGVOZXdTZXNzaW9uKG5vcm1hbGl6ZWRPcHRpb25zLCBub3JtYWxpemVkT3JpZ2luKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMucXVldWVbbm9ybWFsaXplZE9wdGlvbnNdID0ge307XG5cdFx0XHR9XG5cblx0XHRcdC8vIFRoZSBlbnRyeSBtdXN0IGJlIHJlbW92ZWQgZnJvbSB0aGUgcXVldWUgSU1NRURJQVRFTFkgd2hlbjpcblx0XHRcdC8vIDEuIHRoZSBzZXNzaW9uIGNvbm5lY3RzIHN1Y2Nlc3NmdWxseSxcblx0XHRcdC8vIDIuIGFuIGVycm9yIG9jY3Vycy5cblx0XHRcdGNvbnN0IHJlbW92ZUZyb21RdWV1ZSA9ICgpID0+IHtcblx0XHRcdFx0Ly8gT3VyIGVudHJ5IGNhbiBiZSByZXBsYWNlZC4gV2UgY2Fubm90IHJlbW92ZSB0aGUgbmV3IG9uZS5cblx0XHRcdFx0aWYgKG5vcm1hbGl6ZWRPcHRpb25zIGluIHRoaXMucXVldWUgJiYgdGhpcy5xdWV1ZVtub3JtYWxpemVkT3B0aW9uc11bbm9ybWFsaXplZE9yaWdpbl0gPT09IGVudHJ5KSB7XG5cdFx0XHRcdFx0ZGVsZXRlIHRoaXMucXVldWVbbm9ybWFsaXplZE9wdGlvbnNdW25vcm1hbGl6ZWRPcmlnaW5dO1xuXG5cdFx0XHRcdFx0aWYgKE9iamVjdC5rZXlzKHRoaXMucXVldWVbbm9ybWFsaXplZE9wdGlvbnNdKS5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0XHRcdGRlbGV0ZSB0aGlzLnF1ZXVlW25vcm1hbGl6ZWRPcHRpb25zXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRcdC8vIFRoZSBtYWluIGxvZ2ljIGlzIGhlcmVcblx0XHRcdGNvbnN0IGVudHJ5ID0gKCkgPT4ge1xuXHRcdFx0XHRjb25zdCBuYW1lID0gYCR7bm9ybWFsaXplZE9yaWdpbn06JHtub3JtYWxpemVkT3B0aW9uc31gO1xuXHRcdFx0XHRsZXQgcmVjZWl2ZWRTZXR0aW5ncyA9IGZhbHNlO1xuXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Y29uc3Qgc2Vzc2lvbiA9IGh0dHAyLmNvbm5lY3Qob3JpZ2luLCB7XG5cdFx0XHRcdFx0XHRjcmVhdGVDb25uZWN0aW9uOiB0aGlzLmNyZWF0ZUNvbm5lY3Rpb24sXG5cdFx0XHRcdFx0XHRzZXR0aW5nczogdGhpcy5zZXR0aW5ncyxcblx0XHRcdFx0XHRcdHNlc3Npb246IHRoaXMudGxzU2Vzc2lvbkNhY2hlLmdldChuYW1lKSxcblx0XHRcdFx0XHRcdC4uLm9wdGlvbnNcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRzZXNzaW9uW2tDdXJyZW50U3RyZWFtc0NvdW50XSA9IDA7XG5cdFx0XHRcdFx0c2Vzc2lvbltrR3JhY2VmdWxseUNsb3NpbmddID0gZmFsc2U7XG5cblx0XHRcdFx0XHRjb25zdCBpc0ZyZWUgPSAoKSA9PiBzZXNzaW9uW2tDdXJyZW50U3RyZWFtc0NvdW50XSA8IHNlc3Npb24ucmVtb3RlU2V0dGluZ3MubWF4Q29uY3VycmVudFN0cmVhbXM7XG5cdFx0XHRcdFx0bGV0IHdhc0ZyZWUgPSB0cnVlO1xuXG5cdFx0XHRcdFx0c2Vzc2lvbi5zb2NrZXQub25jZSgnc2Vzc2lvbicsIHRsc1Nlc3Npb24gPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy50bHNTZXNzaW9uQ2FjaGUuc2V0KG5hbWUsIHRsc1Nlc3Npb24pO1xuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0c2Vzc2lvbi5vbmNlKCdlcnJvcicsIGVycm9yID0+IHtcblx0XHRcdFx0XHRcdC8vIExpc3RlbmVycyBhcmUgZW1wdHkgd2hlbiB0aGUgc2Vzc2lvbiBzdWNjZXNzZnVsbHkgY29ubmVjdGVkLlxuXHRcdFx0XHRcdFx0Zm9yIChjb25zdCB7cmVqZWN0fSBvZiBsaXN0ZW5lcnMpIHtcblx0XHRcdFx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gVGhlIGNvbm5lY3Rpb24gZ290IGJyb2tlbiwgcHVyZ2UgdGhlIGNhY2hlLlxuXHRcdFx0XHRcdFx0dGhpcy50bHNTZXNzaW9uQ2FjaGUuZGVsZXRlKG5hbWUpO1xuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0c2Vzc2lvbi5zZXRUaW1lb3V0KHRoaXMudGltZW91dCwgKCkgPT4ge1xuXHRcdFx0XHRcdFx0Ly8gVGVybWluYXRlcyBhbGwgc3RyZWFtcyBvd25lZCBieSB0aGlzIHNlc3Npb24uXG5cdFx0XHRcdFx0XHQvLyBUT0RPOiBNYXliZSB0aGUgc3RyZWFtcyBzaG91bGQgaGF2ZSBhIFwiU2Vzc2lvbiB0aW1lZCBvdXRcIiBlcnJvcj9cblx0XHRcdFx0XHRcdHNlc3Npb24uZGVzdHJveSgpO1xuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0c2Vzc2lvbi5vbmNlKCdjbG9zZScsICgpID0+IHtcblx0XHRcdFx0XHRcdGlmIChyZWNlaXZlZFNldHRpbmdzKSB7XG5cdFx0XHRcdFx0XHRcdC8vIDEuIElmIGl0IHdhc24ndCBmcmVlIHRoZW4gbm8gbmVlZCB0byBkZWNyZWFzZSBiZWNhdXNlXG5cdFx0XHRcdFx0XHRcdC8vICAgIGl0IGhhcyBiZWVuIGRlY3JlYXNlZCBhbHJlYWR5IGluIHNlc3Npb24ucmVxdWVzdCgpLlxuXHRcdFx0XHRcdFx0XHQvLyAyLiBgc3RyZWFtLm9uY2UoJ2Nsb3NlJylgIHdvbid0IGluY3JlbWVudCB0aGUgY291bnRcblx0XHRcdFx0XHRcdFx0Ly8gICAgYmVjYXVzZSB0aGUgc2Vzc2lvbiBpcyBhbHJlYWR5IGNsb3NlZC5cblx0XHRcdFx0XHRcdFx0aWYgKHdhc0ZyZWUpIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLl9mcmVlU2Vzc2lvbnNDb3VudC0tO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0dGhpcy5fc2Vzc2lvbnNDb3VudC0tO1xuXG5cdFx0XHRcdFx0XHRcdC8vIFRoaXMgY2Fubm90IGJlIG1vdmVkIHRvIHRoZSBzdHJlYW0gbG9naWMsXG5cdFx0XHRcdFx0XHRcdC8vIGJlY2F1c2UgdGhlcmUgbWF5IGJlIGEgc2Vzc2lvbiB0aGF0IGhhZG4ndCBtYWRlIGEgc2luZ2xlIHJlcXVlc3QuXG5cdFx0XHRcdFx0XHRcdGNvbnN0IHdoZXJlID0gdGhpcy5zZXNzaW9uc1tub3JtYWxpemVkT3B0aW9uc107XG5cdFx0XHRcdFx0XHRcdHdoZXJlLnNwbGljZSh3aGVyZS5pbmRleE9mKHNlc3Npb24pLCAxKTtcblxuXHRcdFx0XHRcdFx0XHRpZiAod2hlcmUubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdFx0XHRcdFx0ZGVsZXRlIHRoaXMuc2Vzc2lvbnNbbm9ybWFsaXplZE9wdGlvbnNdO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHQvLyBCcm9rZW4gY29ubmVjdGlvblxuXHRcdFx0XHRcdFx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcignU2Vzc2lvbiBjbG9zZWQgd2l0aG91dCByZWNlaXZpbmcgYSBTRVRUSU5HUyBmcmFtZScpO1xuXHRcdFx0XHRcdFx0XHRlcnJvci5jb2RlID0gJ0hUVFAyV1JBUFBFUl9OT1NFVFRJTkdTJztcblxuXHRcdFx0XHRcdFx0XHRmb3IgKGNvbnN0IHtyZWplY3R9IG9mIGxpc3RlbmVycykge1xuXHRcdFx0XHRcdFx0XHRcdHJlamVjdChlcnJvcik7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRyZW1vdmVGcm9tUXVldWUoKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gVGhlcmUgbWF5IGJlIGFub3RoZXIgc2Vzc2lvbiBhd2FpdGluZy5cblx0XHRcdFx0XHRcdHRoaXMuX3RyeVRvQ3JlYXRlTmV3U2Vzc2lvbihub3JtYWxpemVkT3B0aW9ucywgbm9ybWFsaXplZE9yaWdpbik7XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHQvLyBJdGVyYXRlcyBvdmVyIHRoZSBxdWV1ZSBhbmQgcHJvY2Vzc2VzIGxpc3RlbmVycy5cblx0XHRcdFx0XHRjb25zdCBwcm9jZXNzTGlzdGVuZXJzID0gKCkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKCEobm9ybWFsaXplZE9wdGlvbnMgaW4gdGhpcy5xdWV1ZSkgfHwgIWlzRnJlZSgpKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Zm9yIChjb25zdCBvcmlnaW4gb2Ygc2Vzc2lvbltrT3JpZ2luU2V0XSkge1xuXHRcdFx0XHRcdFx0XHRpZiAob3JpZ2luIGluIHRoaXMucXVldWVbbm9ybWFsaXplZE9wdGlvbnNdKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3Qge2xpc3RlbmVyc30gPSB0aGlzLnF1ZXVlW25vcm1hbGl6ZWRPcHRpb25zXVtvcmlnaW5dO1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gUHJldmVudHMgc2Vzc2lvbiBvdmVybG9hZGluZy5cblx0XHRcdFx0XHRcdFx0XHR3aGlsZSAobGlzdGVuZXJzLmxlbmd0aCAhPT0gMCAmJiBpc0ZyZWUoKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gV2UgYXNzdW1lIGByZXNvbHZlKC4uLilgIGNhbGxzIGByZXF1ZXN0KC4uLilgICpkaXJlY3RseSosXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBvdGhlcndpc2UgdGhlIHNlc3Npb24gd2lsbCBnZXQgb3ZlcmxvYWRlZC5cblx0XHRcdFx0XHRcdFx0XHRcdGxpc3RlbmVycy5zaGlmdCgpLnJlc29sdmUoc2Vzc2lvbik7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0Y29uc3Qgd2hlcmUgPSB0aGlzLnF1ZXVlW25vcm1hbGl6ZWRPcHRpb25zXTtcblx0XHRcdFx0XHRcdFx0XHRpZiAod2hlcmVbb3JpZ2luXS5saXN0ZW5lcnMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRkZWxldGUgd2hlcmVbb3JpZ2luXTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKE9iamVjdC5rZXlzKHdoZXJlKS5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZGVsZXRlIHRoaXMucXVldWVbbm9ybWFsaXplZE9wdGlvbnNdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBXZSdyZSBubyBsb25nZXIgZnJlZSwgbm8gcG9pbnQgaW4gY29udGludWluZy5cblx0XHRcdFx0XHRcdFx0XHRpZiAoIWlzRnJlZSgpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0Ly8gVGhlIE9yaWdpbiBTZXQgY2Fubm90IHNocmluay4gTm8gbmVlZCB0byBjaGVjayBpZiBpdCBzdWRkZW5seSBiZWNhbWUgY292ZXJlZCBieSBhbm90aGVyIG9uZS5cblx0XHRcdFx0XHRzZXNzaW9uLm9uKCdvcmlnaW4nLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRzZXNzaW9uW2tPcmlnaW5TZXRdID0gc2Vzc2lvbi5vcmlnaW5TZXQ7XG5cblx0XHRcdFx0XHRcdGlmICghaXNGcmVlKCkpIHtcblx0XHRcdFx0XHRcdFx0Ly8gVGhlIHNlc3Npb24gaXMgZnVsbC5cblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRwcm9jZXNzTGlzdGVuZXJzKCk7XG5cblx0XHRcdFx0XHRcdC8vIENsb3NlIGNvdmVyZWQgc2Vzc2lvbnMgKGlmIHBvc3NpYmxlKS5cblx0XHRcdFx0XHRcdGNsb3NlQ292ZXJlZFNlc3Npb25zKHRoaXMuc2Vzc2lvbnNbbm9ybWFsaXplZE9wdGlvbnNdLCBzZXNzaW9uKTtcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdHNlc3Npb24ub25jZSgncmVtb3RlU2V0dGluZ3MnLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHQvLyBGaXggTm9kZS5qcyBidWcgcHJldmVudGluZyB0aGUgcHJvY2VzcyBmcm9tIGV4aXRpbmdcblx0XHRcdFx0XHRcdHNlc3Npb24ucmVmKCk7XG5cdFx0XHRcdFx0XHRzZXNzaW9uLnVucmVmKCk7XG5cblx0XHRcdFx0XHRcdHRoaXMuX3Nlc3Npb25zQ291bnQrKztcblxuXHRcdFx0XHRcdFx0Ly8gVGhlIEFnZW50IGNvdWxkIGhhdmUgYmVlbiBkZXN0cm95ZWQgYWxyZWFkeS5cblx0XHRcdFx0XHRcdGlmIChlbnRyeS5kZXN0cm95ZWQpIHtcblx0XHRcdFx0XHRcdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ0FnZW50IGhhcyBiZWVuIGRlc3Ryb3llZCcpO1xuXG5cdFx0XHRcdFx0XHRcdGZvciAoY29uc3QgbGlzdGVuZXIgb2YgbGlzdGVuZXJzKSB7XG5cdFx0XHRcdFx0XHRcdFx0bGlzdGVuZXIucmVqZWN0KGVycm9yKTtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdHNlc3Npb24uZGVzdHJveSgpO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHNlc3Npb25ba09yaWdpblNldF0gPSBzZXNzaW9uLm9yaWdpblNldDtcblxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRjb25zdCB3aGVyZSA9IHRoaXMuc2Vzc2lvbnM7XG5cblx0XHRcdFx0XHRcdFx0aWYgKG5vcm1hbGl6ZWRPcHRpb25zIGluIHdoZXJlKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3Qgc2Vzc2lvbnMgPSB3aGVyZVtub3JtYWxpemVkT3B0aW9uc107XG5cdFx0XHRcdFx0XHRcdFx0c2Vzc2lvbnMuc3BsaWNlKGdldFNvcnRlZEluZGV4KHNlc3Npb25zLCBzZXNzaW9uLCBjb21wYXJlU2Vzc2lvbnMpLCAwLCBzZXNzaW9uKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR3aGVyZVtub3JtYWxpemVkT3B0aW9uc10gPSBbc2Vzc2lvbl07XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0dGhpcy5fZnJlZVNlc3Npb25zQ291bnQgKz0gMTtcblx0XHRcdFx0XHRcdHJlY2VpdmVkU2V0dGluZ3MgPSB0cnVlO1xuXG5cdFx0XHRcdFx0XHR0aGlzLmVtaXQoJ3Nlc3Npb24nLCBzZXNzaW9uKTtcblxuXHRcdFx0XHRcdFx0cHJvY2Vzc0xpc3RlbmVycygpO1xuXHRcdFx0XHRcdFx0cmVtb3ZlRnJvbVF1ZXVlKCk7XG5cblx0XHRcdFx0XHRcdC8vIFRPRE86IENsb3NlIGxhc3QgcmVjZW50bHkgdXNlZCAob3IgbGVhc3QgdXNlZD8pIHNlc3Npb25cblx0XHRcdFx0XHRcdGlmIChzZXNzaW9uW2tDdXJyZW50U3RyZWFtc0NvdW50XSA9PT0gMCAmJiB0aGlzLl9mcmVlU2Vzc2lvbnNDb3VudCA+IHRoaXMubWF4RnJlZVNlc3Npb25zKSB7XG5cdFx0XHRcdFx0XHRcdHNlc3Npb24uY2xvc2UoKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gQ2hlY2sgaWYgd2UgaGF2ZW4ndCBtYW5hZ2VkIHRvIGV4ZWN1dGUgYWxsIGxpc3RlbmVycy5cblx0XHRcdFx0XHRcdGlmIChsaXN0ZW5lcnMubGVuZ3RoICE9PSAwKSB7XG5cdFx0XHRcdFx0XHRcdC8vIFJlcXVlc3QgZm9yIGEgbmV3IHNlc3Npb24gd2l0aCBwcmVkZWZpbmVkIGxpc3RlbmVycy5cblx0XHRcdFx0XHRcdFx0dGhpcy5nZXRTZXNzaW9uKG5vcm1hbGl6ZWRPcmlnaW4sIG9wdGlvbnMsIGxpc3RlbmVycyk7XG5cdFx0XHRcdFx0XHRcdGxpc3RlbmVycy5sZW5ndGggPSAwO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBgc2Vzc2lvbi5yZW1vdGVTZXR0aW5ncy5tYXhDb25jdXJyZW50U3RyZWFtc2AgbWlnaHQgZ2V0IGluY3JlYXNlZFxuXHRcdFx0XHRcdFx0c2Vzc2lvbi5vbigncmVtb3RlU2V0dGluZ3MnLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHByb2Nlc3NMaXN0ZW5lcnMoKTtcblxuXHRcdFx0XHRcdFx0XHQvLyBJbiBjYXNlIHRoZSBPcmlnaW4gU2V0IGNoYW5nZXNcblx0XHRcdFx0XHRcdFx0Y2xvc2VDb3ZlcmVkU2Vzc2lvbnModGhpcy5zZXNzaW9uc1tub3JtYWxpemVkT3B0aW9uc10sIHNlc3Npb24pO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHQvLyBTaGltIGBzZXNzaW9uLnJlcXVlc3QoKWAgaW4gb3JkZXIgdG8gY2F0Y2ggYWxsIHN0cmVhbXNcblx0XHRcdFx0XHRzZXNzaW9uW2tSZXF1ZXN0XSA9IHNlc3Npb24ucmVxdWVzdDtcblx0XHRcdFx0XHRzZXNzaW9uLnJlcXVlc3QgPSAoaGVhZGVycywgc3RyZWFtT3B0aW9ucykgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHNlc3Npb25ba0dyYWNlZnVsbHlDbG9zaW5nXSkge1xuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1RoZSBzZXNzaW9uIGlzIGdyYWNlZnVsbHkgY2xvc2luZy4gTm8gbmV3IHN0cmVhbXMgYXJlIGFsbG93ZWQuJyk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGNvbnN0IHN0cmVhbSA9IHNlc3Npb25ba1JlcXVlc3RdKGhlYWRlcnMsIHN0cmVhbU9wdGlvbnMpO1xuXG5cdFx0XHRcdFx0XHQvLyBUaGUgcHJvY2VzcyB3b24ndCBleGl0IHVudGlsIHRoZSBzZXNzaW9uIGlzIGNsb3NlZCBvciBhbGwgcmVxdWVzdHMgYXJlIGdvbmUuXG5cdFx0XHRcdFx0XHRzZXNzaW9uLnJlZigpO1xuXG5cdFx0XHRcdFx0XHQrK3Nlc3Npb25ba0N1cnJlbnRTdHJlYW1zQ291bnRdO1xuXG5cdFx0XHRcdFx0XHRpZiAoc2Vzc2lvbltrQ3VycmVudFN0cmVhbXNDb3VudF0gPT09IHNlc3Npb24ucmVtb3RlU2V0dGluZ3MubWF4Q29uY3VycmVudFN0cmVhbXMpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5fZnJlZVNlc3Npb25zQ291bnQtLTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0c3RyZWFtLm9uY2UoJ2Nsb3NlJywgKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHR3YXNGcmVlID0gaXNGcmVlKCk7XG5cblx0XHRcdFx0XHRcdFx0LS1zZXNzaW9uW2tDdXJyZW50U3RyZWFtc0NvdW50XTtcblxuXHRcdFx0XHRcdFx0XHRpZiAoIXNlc3Npb24uZGVzdHJveWVkICYmICFzZXNzaW9uLmNsb3NlZCkge1xuXHRcdFx0XHRcdFx0XHRcdGNsb3NlU2Vzc2lvbklmQ292ZXJlZCh0aGlzLnNlc3Npb25zW25vcm1hbGl6ZWRPcHRpb25zXSwgc2Vzc2lvbik7XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAoaXNGcmVlKCkgJiYgIXNlc3Npb24uY2xvc2VkKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIXdhc0ZyZWUpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5fZnJlZVNlc3Npb25zQ291bnQrKztcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHR3YXNGcmVlID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgaXNFbXB0eSA9IHNlc3Npb25ba0N1cnJlbnRTdHJlYW1zQ291bnRdID09PSAwO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoaXNFbXB0eSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRzZXNzaW9uLnVucmVmKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdGlmIChcblx0XHRcdFx0XHRcdFx0XHRcdFx0aXNFbXB0eSAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5fZnJlZVNlc3Npb25zQ291bnQgPiB0aGlzLm1heEZyZWVTZXNzaW9ucyB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNlc3Npb25ba0dyYWNlZnVsbHlDbG9zaW5nXVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2Vzc2lvbi5jbG9zZSgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xvc2VDb3ZlcmVkU2Vzc2lvbnModGhpcy5zZXNzaW9uc1tub3JtYWxpemVkT3B0aW9uc10sIHNlc3Npb24pO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRwcm9jZXNzTGlzdGVuZXJzKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0cmV0dXJuIHN0cmVhbTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRcdGZvciAoY29uc3QgbGlzdGVuZXIgb2YgbGlzdGVuZXJzKSB7XG5cdFx0XHRcdFx0XHRsaXN0ZW5lci5yZWplY3QoZXJyb3IpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJlbW92ZUZyb21RdWV1ZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0XHRlbnRyeS5saXN0ZW5lcnMgPSBsaXN0ZW5lcnM7XG5cdFx0XHRlbnRyeS5jb21wbGV0ZWQgPSBmYWxzZTtcblx0XHRcdGVudHJ5LmRlc3Ryb3llZCA9IGZhbHNlO1xuXG5cdFx0XHR0aGlzLnF1ZXVlW25vcm1hbGl6ZWRPcHRpb25zXVtub3JtYWxpemVkT3JpZ2luXSA9IGVudHJ5O1xuXHRcdFx0dGhpcy5fdHJ5VG9DcmVhdGVOZXdTZXNzaW9uKG5vcm1hbGl6ZWRPcHRpb25zLCBub3JtYWxpemVkT3JpZ2luKTtcblx0XHR9KTtcblx0fVxuXG5cdHJlcXVlc3Qob3JpZ2luLCBvcHRpb25zLCBoZWFkZXJzLCBzdHJlYW1PcHRpb25zKSB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdHRoaXMuZ2V0U2Vzc2lvbihvcmlnaW4sIG9wdGlvbnMsIFt7XG5cdFx0XHRcdHJlamVjdCxcblx0XHRcdFx0cmVzb2x2ZTogc2Vzc2lvbiA9PiB7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdHJlc29sdmUoc2Vzc2lvbi5yZXF1ZXN0KGhlYWRlcnMsIHN0cmVhbU9wdGlvbnMpKTtcblx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1dKTtcblx0XHR9KTtcblx0fVxuXG5cdGNyZWF0ZUNvbm5lY3Rpb24ob3JpZ2luLCBvcHRpb25zKSB7XG5cdFx0cmV0dXJuIEFnZW50LmNvbm5lY3Qob3JpZ2luLCBvcHRpb25zKTtcblx0fVxuXG5cdHN0YXRpYyBjb25uZWN0KG9yaWdpbiwgb3B0aW9ucykge1xuXHRcdG9wdGlvbnMuQUxQTlByb3RvY29scyA9IFsnaDInXTtcblxuXHRcdGNvbnN0IHBvcnQgPSBvcmlnaW4ucG9ydCB8fCA0NDM7XG5cdFx0Y29uc3QgaG9zdCA9IG9yaWdpbi5ob3N0bmFtZSB8fCBvcmlnaW4uaG9zdDtcblxuXHRcdGlmICh0eXBlb2Ygb3B0aW9ucy5zZXJ2ZXJuYW1lID09PSAndW5kZWZpbmVkJykge1xuXHRcdFx0b3B0aW9ucy5zZXJ2ZXJuYW1lID0gaG9zdDtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGxzLmNvbm5lY3QocG9ydCwgaG9zdCwgb3B0aW9ucyk7XG5cdH1cblxuXHRjbG9zZUZyZWVTZXNzaW9ucygpIHtcblx0XHRmb3IgKGNvbnN0IHNlc3Npb25zIG9mIE9iamVjdC52YWx1ZXModGhpcy5zZXNzaW9ucykpIHtcblx0XHRcdGZvciAoY29uc3Qgc2Vzc2lvbiBvZiBzZXNzaW9ucykge1xuXHRcdFx0XHRpZiAoc2Vzc2lvbltrQ3VycmVudFN0cmVhbXNDb3VudF0gPT09IDApIHtcblx0XHRcdFx0XHRzZXNzaW9uLmNsb3NlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRkZXN0cm95KHJlYXNvbikge1xuXHRcdGZvciAoY29uc3Qgc2Vzc2lvbnMgb2YgT2JqZWN0LnZhbHVlcyh0aGlzLnNlc3Npb25zKSkge1xuXHRcdFx0Zm9yIChjb25zdCBzZXNzaW9uIG9mIHNlc3Npb25zKSB7XG5cdFx0XHRcdHNlc3Npb24uZGVzdHJveShyZWFzb24pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZvciAoY29uc3QgZW50cmllc09mQXV0aG9yaXR5IG9mIE9iamVjdC52YWx1ZXModGhpcy5xdWV1ZSkpIHtcblx0XHRcdGZvciAoY29uc3QgZW50cnkgb2YgT2JqZWN0LnZhbHVlcyhlbnRyaWVzT2ZBdXRob3JpdHkpKSB7XG5cdFx0XHRcdGVudHJ5LmRlc3Ryb3llZCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gTmV3IHJlcXVlc3RzIHNob3VsZCBOT1QgYXR0YWNoIHRvIGRlc3Ryb3llZCBzZXNzaW9uc1xuXHRcdHRoaXMucXVldWUgPSB7fTtcblx0fVxuXG5cdGdldCBmcmVlU2Vzc2lvbnMoKSB7XG5cdFx0cmV0dXJuIGdldFNlc3Npb25zKHthZ2VudDogdGhpcywgaXNGcmVlOiB0cnVlfSk7XG5cdH1cblxuXHRnZXQgYnVzeVNlc3Npb25zKCkge1xuXHRcdHJldHVybiBnZXRTZXNzaW9ucyh7YWdlbnQ6IHRoaXMsIGlzRnJlZTogZmFsc2V9KTtcblx0fVxufVxuXG5BZ2VudC5rQ3VycmVudFN0cmVhbXNDb3VudCA9IGtDdXJyZW50U3RyZWFtc0NvdW50O1xuQWdlbnQua0dyYWNlZnVsbHlDbG9zaW5nID0ga0dyYWNlZnVsbHlDbG9zaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcblx0QWdlbnQsXG5cdGdsb2JhbEFnZW50OiBuZXcgQWdlbnQoKVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/http2-wrapper/source/agent.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/http2-wrapper/source/auto.js":
/*!*************************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/http2-wrapper/source/auto.js ***!
  \*************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\nconst http = __webpack_require__(/*! http */ \"http\");\nconst https = __webpack_require__(/*! https */ \"https\");\nconst resolveALPN = __webpack_require__(/*! resolve-alpn */ \"(ssr)/./node_modules/resolve-alpn/index.js\");\nconst QuickLRU = __webpack_require__(/*! quick-lru */ \"(ssr)/./node_modules/quick-lru/index.js\");\nconst Http2ClientRequest = __webpack_require__(/*! ./client-request */ \"(ssr)/./node_modules/swarm-js/node_modules/http2-wrapper/source/client-request.js\");\nconst calculateServerName = __webpack_require__(/*! ./utils/calculate-server-name */ \"(ssr)/./node_modules/swarm-js/node_modules/http2-wrapper/source/utils/calculate-server-name.js\");\nconst urlToOptions = __webpack_require__(/*! ./utils/url-to-options */ \"(ssr)/./node_modules/swarm-js/node_modules/http2-wrapper/source/utils/url-to-options.js\");\n\nconst cache = new QuickLRU({maxSize: 100});\nconst queue = new Map();\n\nconst installSocket = (agent, socket, options) => {\n\tsocket._httpMessage = {shouldKeepAlive: true};\n\n\tconst onFree = () => {\n\t\tagent.emit('free', socket, options);\n\t};\n\n\tsocket.on('free', onFree);\n\n\tconst onClose = () => {\n\t\tagent.removeSocket(socket, options);\n\t};\n\n\tsocket.on('close', onClose);\n\n\tconst onRemove = () => {\n\t\tagent.removeSocket(socket, options);\n\t\tsocket.off('close', onClose);\n\t\tsocket.off('free', onFree);\n\t\tsocket.off('agentRemove', onRemove);\n\t};\n\n\tsocket.on('agentRemove', onRemove);\n\n\tagent.emit('free', socket, options);\n};\n\nconst resolveProtocol = async options => {\n\tconst name = `${options.host}:${options.port}:${options.ALPNProtocols.sort()}`;\n\n\tif (!cache.has(name)) {\n\t\tif (queue.has(name)) {\n\t\t\tconst result = await queue.get(name);\n\t\t\treturn result.alpnProtocol;\n\t\t}\n\n\t\tconst {path, agent} = options;\n\t\toptions.path = options.socketPath;\n\n\t\tconst resultPromise = resolveALPN(options);\n\t\tqueue.set(name, resultPromise);\n\n\t\ttry {\n\t\t\tconst {socket, alpnProtocol} = await resultPromise;\n\t\t\tcache.set(name, alpnProtocol);\n\n\t\t\toptions.path = path;\n\n\t\t\tif (alpnProtocol === 'h2') {\n\t\t\t\t// https://github.com/nodejs/node/issues/33343\n\t\t\t\tsocket.destroy();\n\t\t\t} else {\n\t\t\t\tconst {globalAgent} = https;\n\t\t\t\tconst defaultCreateConnection = https.Agent.prototype.createConnection;\n\n\t\t\t\tif (agent) {\n\t\t\t\t\tif (agent.createConnection === defaultCreateConnection) {\n\t\t\t\t\t\tinstallSocket(agent, socket, options);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsocket.destroy();\n\t\t\t\t\t}\n\t\t\t\t} else if (globalAgent.createConnection === defaultCreateConnection) {\n\t\t\t\t\tinstallSocket(globalAgent, socket, options);\n\t\t\t\t} else {\n\t\t\t\t\tsocket.destroy();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tqueue.delete(name);\n\n\t\t\treturn alpnProtocol;\n\t\t} catch (error) {\n\t\t\tqueue.delete(name);\n\n\t\t\tthrow error;\n\t\t}\n\t}\n\n\treturn cache.get(name);\n};\n\nmodule.exports = async (input, options, callback) => {\n\tif (typeof input === 'string' || input instanceof URL) {\n\t\tinput = urlToOptions(new URL(input));\n\t}\n\n\tif (typeof options === 'function') {\n\t\tcallback = options;\n\t\toptions = undefined;\n\t}\n\n\toptions = {\n\t\tALPNProtocols: ['h2', 'http/1.1'],\n\t\t...input,\n\t\t...options,\n\t\tresolveSocket: true\n\t};\n\n\tif (!Array.isArray(options.ALPNProtocols) || options.ALPNProtocols.length === 0) {\n\t\tthrow new Error('The `ALPNProtocols` option must be an Array with at least one entry');\n\t}\n\n\toptions.protocol = options.protocol || 'https:';\n\tconst isHttps = options.protocol === 'https:';\n\n\toptions.host = options.hostname || options.host || 'localhost';\n\toptions.session = options.tlsSession;\n\toptions.servername = options.servername || calculateServerName(options);\n\toptions.port = options.port || (isHttps ? 443 : 80);\n\toptions._defaultAgent = isHttps ? https.globalAgent : http.globalAgent;\n\n\tconst agents = options.agent;\n\n\tif (agents) {\n\t\tif (agents.addRequest) {\n\t\t\tthrow new Error('The `options.agent` object can contain only `http`, `https` or `http2` properties');\n\t\t}\n\n\t\toptions.agent = agents[isHttps ? 'https' : 'http'];\n\t}\n\n\tif (isHttps) {\n\t\tconst protocol = await resolveProtocol(options);\n\n\t\tif (protocol === 'h2') {\n\t\t\tif (agents) {\n\t\t\t\toptions.agent = agents.http2;\n\t\t\t}\n\n\t\t\treturn new Http2ClientRequest(options, callback);\n\t\t}\n\t}\n\n\treturn http.request(options, callback);\n};\n\nmodule.exports.protocolCache = cache;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2h0dHAyLXdyYXBwZXIvc291cmNlL2F1dG8uanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYixhQUFhLG1CQUFPLENBQUMsa0JBQU07QUFDM0IsY0FBYyxtQkFBTyxDQUFDLG9CQUFPO0FBQzdCLG9CQUFvQixtQkFBTyxDQUFDLGdFQUFjO0FBQzFDLGlCQUFpQixtQkFBTyxDQUFDLDBEQUFXO0FBQ3BDLDJCQUEyQixtQkFBTyxDQUFDLDJHQUFrQjtBQUNyRCw0QkFBNEIsbUJBQU8sQ0FBQyxxSUFBK0I7QUFDbkUscUJBQXFCLG1CQUFPLENBQUMsdUhBQXdCOztBQUVyRCw0QkFBNEIsYUFBYTtBQUN6Qzs7QUFFQTtBQUNBLHdCQUF3Qjs7QUFFeEI7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQixhQUFhLEdBQUcsYUFBYSxHQUFHLDZCQUE2Qjs7QUFFOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTLGFBQWE7QUFDdEI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFVBQVUsc0JBQXNCO0FBQ2hDOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxXQUFXLGFBQWE7QUFDeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSw0QkFBNEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AcG9ydGtleS9uZXh0LWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2h0dHAyLXdyYXBwZXIvc291cmNlL2F1dG8uanM/M2Q4YSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5jb25zdCBodHRwID0gcmVxdWlyZSgnaHR0cCcpO1xuY29uc3QgaHR0cHMgPSByZXF1aXJlKCdodHRwcycpO1xuY29uc3QgcmVzb2x2ZUFMUE4gPSByZXF1aXJlKCdyZXNvbHZlLWFscG4nKTtcbmNvbnN0IFF1aWNrTFJVID0gcmVxdWlyZSgncXVpY2stbHJ1Jyk7XG5jb25zdCBIdHRwMkNsaWVudFJlcXVlc3QgPSByZXF1aXJlKCcuL2NsaWVudC1yZXF1ZXN0Jyk7XG5jb25zdCBjYWxjdWxhdGVTZXJ2ZXJOYW1lID0gcmVxdWlyZSgnLi91dGlscy9jYWxjdWxhdGUtc2VydmVyLW5hbWUnKTtcbmNvbnN0IHVybFRvT3B0aW9ucyA9IHJlcXVpcmUoJy4vdXRpbHMvdXJsLXRvLW9wdGlvbnMnKTtcblxuY29uc3QgY2FjaGUgPSBuZXcgUXVpY2tMUlUoe21heFNpemU6IDEwMH0pO1xuY29uc3QgcXVldWUgPSBuZXcgTWFwKCk7XG5cbmNvbnN0IGluc3RhbGxTb2NrZXQgPSAoYWdlbnQsIHNvY2tldCwgb3B0aW9ucykgPT4ge1xuXHRzb2NrZXQuX2h0dHBNZXNzYWdlID0ge3Nob3VsZEtlZXBBbGl2ZTogdHJ1ZX07XG5cblx0Y29uc3Qgb25GcmVlID0gKCkgPT4ge1xuXHRcdGFnZW50LmVtaXQoJ2ZyZWUnLCBzb2NrZXQsIG9wdGlvbnMpO1xuXHR9O1xuXG5cdHNvY2tldC5vbignZnJlZScsIG9uRnJlZSk7XG5cblx0Y29uc3Qgb25DbG9zZSA9ICgpID0+IHtcblx0XHRhZ2VudC5yZW1vdmVTb2NrZXQoc29ja2V0LCBvcHRpb25zKTtcblx0fTtcblxuXHRzb2NrZXQub24oJ2Nsb3NlJywgb25DbG9zZSk7XG5cblx0Y29uc3Qgb25SZW1vdmUgPSAoKSA9PiB7XG5cdFx0YWdlbnQucmVtb3ZlU29ja2V0KHNvY2tldCwgb3B0aW9ucyk7XG5cdFx0c29ja2V0Lm9mZignY2xvc2UnLCBvbkNsb3NlKTtcblx0XHRzb2NrZXQub2ZmKCdmcmVlJywgb25GcmVlKTtcblx0XHRzb2NrZXQub2ZmKCdhZ2VudFJlbW92ZScsIG9uUmVtb3ZlKTtcblx0fTtcblxuXHRzb2NrZXQub24oJ2FnZW50UmVtb3ZlJywgb25SZW1vdmUpO1xuXG5cdGFnZW50LmVtaXQoJ2ZyZWUnLCBzb2NrZXQsIG9wdGlvbnMpO1xufTtcblxuY29uc3QgcmVzb2x2ZVByb3RvY29sID0gYXN5bmMgb3B0aW9ucyA9PiB7XG5cdGNvbnN0IG5hbWUgPSBgJHtvcHRpb25zLmhvc3R9OiR7b3B0aW9ucy5wb3J0fToke29wdGlvbnMuQUxQTlByb3RvY29scy5zb3J0KCl9YDtcblxuXHRpZiAoIWNhY2hlLmhhcyhuYW1lKSkge1xuXHRcdGlmIChxdWV1ZS5oYXMobmFtZSkpIHtcblx0XHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHF1ZXVlLmdldChuYW1lKTtcblx0XHRcdHJldHVybiByZXN1bHQuYWxwblByb3RvY29sO1xuXHRcdH1cblxuXHRcdGNvbnN0IHtwYXRoLCBhZ2VudH0gPSBvcHRpb25zO1xuXHRcdG9wdGlvbnMucGF0aCA9IG9wdGlvbnMuc29ja2V0UGF0aDtcblxuXHRcdGNvbnN0IHJlc3VsdFByb21pc2UgPSByZXNvbHZlQUxQTihvcHRpb25zKTtcblx0XHRxdWV1ZS5zZXQobmFtZSwgcmVzdWx0UHJvbWlzZSk7XG5cblx0XHR0cnkge1xuXHRcdFx0Y29uc3Qge3NvY2tldCwgYWxwblByb3RvY29sfSA9IGF3YWl0IHJlc3VsdFByb21pc2U7XG5cdFx0XHRjYWNoZS5zZXQobmFtZSwgYWxwblByb3RvY29sKTtcblxuXHRcdFx0b3B0aW9ucy5wYXRoID0gcGF0aDtcblxuXHRcdFx0aWYgKGFscG5Qcm90b2NvbCA9PT0gJ2gyJykge1xuXHRcdFx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvaXNzdWVzLzMzMzQzXG5cdFx0XHRcdHNvY2tldC5kZXN0cm95KCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zdCB7Z2xvYmFsQWdlbnR9ID0gaHR0cHM7XG5cdFx0XHRcdGNvbnN0IGRlZmF1bHRDcmVhdGVDb25uZWN0aW9uID0gaHR0cHMuQWdlbnQucHJvdG90eXBlLmNyZWF0ZUNvbm5lY3Rpb247XG5cblx0XHRcdFx0aWYgKGFnZW50KSB7XG5cdFx0XHRcdFx0aWYgKGFnZW50LmNyZWF0ZUNvbm5lY3Rpb24gPT09IGRlZmF1bHRDcmVhdGVDb25uZWN0aW9uKSB7XG5cdFx0XHRcdFx0XHRpbnN0YWxsU29ja2V0KGFnZW50LCBzb2NrZXQsIG9wdGlvbnMpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRzb2NrZXQuZGVzdHJveSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIGlmIChnbG9iYWxBZ2VudC5jcmVhdGVDb25uZWN0aW9uID09PSBkZWZhdWx0Q3JlYXRlQ29ubmVjdGlvbikge1xuXHRcdFx0XHRcdGluc3RhbGxTb2NrZXQoZ2xvYmFsQWdlbnQsIHNvY2tldCwgb3B0aW9ucyk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c29ja2V0LmRlc3Ryb3koKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRxdWV1ZS5kZWxldGUobmFtZSk7XG5cblx0XHRcdHJldHVybiBhbHBuUHJvdG9jb2w7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHF1ZXVlLmRlbGV0ZShuYW1lKTtcblxuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGNhY2hlLmdldChuYW1lKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gYXN5bmMgKGlucHV0LCBvcHRpb25zLCBjYWxsYmFjaykgPT4ge1xuXHRpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJyB8fCBpbnB1dCBpbnN0YW5jZW9mIFVSTCkge1xuXHRcdGlucHV0ID0gdXJsVG9PcHRpb25zKG5ldyBVUkwoaW5wdXQpKTtcblx0fVxuXG5cdGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdGNhbGxiYWNrID0gb3B0aW9ucztcblx0XHRvcHRpb25zID0gdW5kZWZpbmVkO1xuXHR9XG5cblx0b3B0aW9ucyA9IHtcblx0XHRBTFBOUHJvdG9jb2xzOiBbJ2gyJywgJ2h0dHAvMS4xJ10sXG5cdFx0Li4uaW5wdXQsXG5cdFx0Li4ub3B0aW9ucyxcblx0XHRyZXNvbHZlU29ja2V0OiB0cnVlXG5cdH07XG5cblx0aWYgKCFBcnJheS5pc0FycmF5KG9wdGlvbnMuQUxQTlByb3RvY29scykgfHwgb3B0aW9ucy5BTFBOUHJvdG9jb2xzLmxlbmd0aCA9PT0gMCkge1xuXHRcdHRocm93IG5ldyBFcnJvcignVGhlIGBBTFBOUHJvdG9jb2xzYCBvcHRpb24gbXVzdCBiZSBhbiBBcnJheSB3aXRoIGF0IGxlYXN0IG9uZSBlbnRyeScpO1xuXHR9XG5cblx0b3B0aW9ucy5wcm90b2NvbCA9IG9wdGlvbnMucHJvdG9jb2wgfHwgJ2h0dHBzOic7XG5cdGNvbnN0IGlzSHR0cHMgPSBvcHRpb25zLnByb3RvY29sID09PSAnaHR0cHM6JztcblxuXHRvcHRpb25zLmhvc3QgPSBvcHRpb25zLmhvc3RuYW1lIHx8IG9wdGlvbnMuaG9zdCB8fCAnbG9jYWxob3N0Jztcblx0b3B0aW9ucy5zZXNzaW9uID0gb3B0aW9ucy50bHNTZXNzaW9uO1xuXHRvcHRpb25zLnNlcnZlcm5hbWUgPSBvcHRpb25zLnNlcnZlcm5hbWUgfHwgY2FsY3VsYXRlU2VydmVyTmFtZShvcHRpb25zKTtcblx0b3B0aW9ucy5wb3J0ID0gb3B0aW9ucy5wb3J0IHx8IChpc0h0dHBzID8gNDQzIDogODApO1xuXHRvcHRpb25zLl9kZWZhdWx0QWdlbnQgPSBpc0h0dHBzID8gaHR0cHMuZ2xvYmFsQWdlbnQgOiBodHRwLmdsb2JhbEFnZW50O1xuXG5cdGNvbnN0IGFnZW50cyA9IG9wdGlvbnMuYWdlbnQ7XG5cblx0aWYgKGFnZW50cykge1xuXHRcdGlmIChhZ2VudHMuYWRkUmVxdWVzdCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdUaGUgYG9wdGlvbnMuYWdlbnRgIG9iamVjdCBjYW4gY29udGFpbiBvbmx5IGBodHRwYCwgYGh0dHBzYCBvciBgaHR0cDJgIHByb3BlcnRpZXMnKTtcblx0XHR9XG5cblx0XHRvcHRpb25zLmFnZW50ID0gYWdlbnRzW2lzSHR0cHMgPyAnaHR0cHMnIDogJ2h0dHAnXTtcblx0fVxuXG5cdGlmIChpc0h0dHBzKSB7XG5cdFx0Y29uc3QgcHJvdG9jb2wgPSBhd2FpdCByZXNvbHZlUHJvdG9jb2wob3B0aW9ucyk7XG5cblx0XHRpZiAocHJvdG9jb2wgPT09ICdoMicpIHtcblx0XHRcdGlmIChhZ2VudHMpIHtcblx0XHRcdFx0b3B0aW9ucy5hZ2VudCA9IGFnZW50cy5odHRwMjtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG5ldyBIdHRwMkNsaWVudFJlcXVlc3Qob3B0aW9ucywgY2FsbGJhY2spO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBodHRwLnJlcXVlc3Qob3B0aW9ucywgY2FsbGJhY2spO1xufTtcblxubW9kdWxlLmV4cG9ydHMucHJvdG9jb2xDYWNoZSA9IGNhY2hlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/http2-wrapper/source/auto.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/http2-wrapper/source/client-request.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/http2-wrapper/source/client-request.js ***!
  \***********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\nconst http2 = __webpack_require__(/*! http2 */ \"http2\");\nconst {Writable} = __webpack_require__(/*! stream */ \"stream\");\nconst {Agent, globalAgent} = __webpack_require__(/*! ./agent */ \"(ssr)/./node_modules/swarm-js/node_modules/http2-wrapper/source/agent.js\");\nconst IncomingMessage = __webpack_require__(/*! ./incoming-message */ \"(ssr)/./node_modules/swarm-js/node_modules/http2-wrapper/source/incoming-message.js\");\nconst urlToOptions = __webpack_require__(/*! ./utils/url-to-options */ \"(ssr)/./node_modules/swarm-js/node_modules/http2-wrapper/source/utils/url-to-options.js\");\nconst proxyEvents = __webpack_require__(/*! ./utils/proxy-events */ \"(ssr)/./node_modules/swarm-js/node_modules/http2-wrapper/source/utils/proxy-events.js\");\nconst isRequestPseudoHeader = __webpack_require__(/*! ./utils/is-request-pseudo-header */ \"(ssr)/./node_modules/swarm-js/node_modules/http2-wrapper/source/utils/is-request-pseudo-header.js\");\nconst {\n\tERR_INVALID_ARG_TYPE,\n\tERR_INVALID_PROTOCOL,\n\tERR_HTTP_HEADERS_SENT,\n\tERR_INVALID_HTTP_TOKEN,\n\tERR_HTTP_INVALID_HEADER_VALUE,\n\tERR_INVALID_CHAR\n} = __webpack_require__(/*! ./utils/errors */ \"(ssr)/./node_modules/swarm-js/node_modules/http2-wrapper/source/utils/errors.js\");\n\nconst {\n\tHTTP2_HEADER_STATUS,\n\tHTTP2_HEADER_METHOD,\n\tHTTP2_HEADER_PATH,\n\tHTTP2_METHOD_CONNECT\n} = http2.constants;\n\nconst kHeaders = Symbol('headers');\nconst kOrigin = Symbol('origin');\nconst kSession = Symbol('session');\nconst kOptions = Symbol('options');\nconst kFlushedHeaders = Symbol('flushedHeaders');\nconst kJobs = Symbol('jobs');\n\nconst isValidHttpToken = /^[\\^`\\-\\w!#$%&*+.|~]+$/;\nconst isInvalidHeaderValue = /[^\\t\\u0020-\\u007E\\u0080-\\u00FF]/;\n\nclass ClientRequest extends Writable {\n\tconstructor(input, options, callback) {\n\t\tsuper({\n\t\t\tautoDestroy: false\n\t\t});\n\n\t\tconst hasInput = typeof input === 'string' || input instanceof URL;\n\t\tif (hasInput) {\n\t\t\tinput = urlToOptions(input instanceof URL ? input : new URL(input));\n\t\t}\n\n\t\tif (typeof options === 'function' || options === undefined) {\n\t\t\t// (options, callback)\n\t\t\tcallback = options;\n\t\t\toptions = hasInput ? input : {...input};\n\t\t} else {\n\t\t\t// (input, options, callback)\n\t\t\toptions = {...input, ...options};\n\t\t}\n\n\t\tif (options.h2session) {\n\t\t\tthis[kSession] = options.h2session;\n\t\t} else if (options.agent === false) {\n\t\t\tthis.agent = new Agent({maxFreeSessions: 0});\n\t\t} else if (typeof options.agent === 'undefined' || options.agent === null) {\n\t\t\tif (typeof options.createConnection === 'function') {\n\t\t\t\t// This is a workaround - we don't have to create the session on our own.\n\t\t\t\tthis.agent = new Agent({maxFreeSessions: 0});\n\t\t\t\tthis.agent.createConnection = options.createConnection;\n\t\t\t} else {\n\t\t\t\tthis.agent = globalAgent;\n\t\t\t}\n\t\t} else if (typeof options.agent.request === 'function') {\n\t\t\tthis.agent = options.agent;\n\t\t} else {\n\t\t\tthrow new ERR_INVALID_ARG_TYPE('options.agent', ['Agent-like Object', 'undefined', 'false'], options.agent);\n\t\t}\n\n\t\tif (options.protocol && options.protocol !== 'https:') {\n\t\t\tthrow new ERR_INVALID_PROTOCOL(options.protocol, 'https:');\n\t\t}\n\n\t\tconst port = options.port || options.defaultPort || (this.agent && this.agent.defaultPort) || 443;\n\t\tconst host = options.hostname || options.host || 'localhost';\n\n\t\t// Don't enforce the origin via options. It may be changed in an Agent.\n\t\tdelete options.hostname;\n\t\tdelete options.host;\n\t\tdelete options.port;\n\n\t\tconst {timeout} = options;\n\t\toptions.timeout = undefined;\n\n\t\tthis[kHeaders] = Object.create(null);\n\t\tthis[kJobs] = [];\n\n\t\tthis.socket = null;\n\t\tthis.connection = null;\n\n\t\tthis.method = options.method || 'GET';\n\t\tthis.path = options.path;\n\n\t\tthis.res = null;\n\t\tthis.aborted = false;\n\t\tthis.reusedSocket = false;\n\n\t\tif (options.headers) {\n\t\t\tfor (const [header, value] of Object.entries(options.headers)) {\n\t\t\t\tthis.setHeader(header, value);\n\t\t\t}\n\t\t}\n\n\t\tif (options.auth && !('authorization' in this[kHeaders])) {\n\t\t\tthis[kHeaders].authorization = 'Basic ' + Buffer.from(options.auth).toString('base64');\n\t\t}\n\n\t\toptions.session = options.tlsSession;\n\t\toptions.path = options.socketPath;\n\n\t\tthis[kOptions] = options;\n\n\t\t// Clients that generate HTTP/2 requests directly SHOULD use the :authority pseudo-header field instead of the Host header field.\n\t\tif (port === 443) {\n\t\t\tthis[kOrigin] = `https://${host}`;\n\n\t\t\tif (!(':authority' in this[kHeaders])) {\n\t\t\t\tthis[kHeaders][':authority'] = host;\n\t\t\t}\n\t\t} else {\n\t\t\tthis[kOrigin] = `https://${host}:${port}`;\n\n\t\t\tif (!(':authority' in this[kHeaders])) {\n\t\t\t\tthis[kHeaders][':authority'] = `${host}:${port}`;\n\t\t\t}\n\t\t}\n\n\t\tif (timeout) {\n\t\t\tthis.setTimeout(timeout);\n\t\t}\n\n\t\tif (callback) {\n\t\t\tthis.once('response', callback);\n\t\t}\n\n\t\tthis[kFlushedHeaders] = false;\n\t}\n\n\tget method() {\n\t\treturn this[kHeaders][HTTP2_HEADER_METHOD];\n\t}\n\n\tset method(value) {\n\t\tif (value) {\n\t\t\tthis[kHeaders][HTTP2_HEADER_METHOD] = value.toUpperCase();\n\t\t}\n\t}\n\n\tget path() {\n\t\treturn this[kHeaders][HTTP2_HEADER_PATH];\n\t}\n\n\tset path(value) {\n\t\tif (value) {\n\t\t\tthis[kHeaders][HTTP2_HEADER_PATH] = value;\n\t\t}\n\t}\n\n\tget _mustNotHaveABody() {\n\t\treturn this.method === 'GET' || this.method === 'HEAD' || this.method === 'DELETE';\n\t}\n\n\t_write(chunk, encoding, callback) {\n\t\t// https://github.com/nodejs/node/blob/654df09ae0c5e17d1b52a900a545f0664d8c7627/lib/internal/http2/util.js#L148-L156\n\t\tif (this._mustNotHaveABody) {\n\t\t\tcallback(new Error('The GET, HEAD and DELETE methods must NOT have a body'));\n\t\t\t/* istanbul ignore next: Node.js 12 throws directly */\n\t\t\treturn;\n\t\t}\n\n\t\tthis.flushHeaders();\n\n\t\tconst callWrite = () => this._request.write(chunk, encoding, callback);\n\t\tif (this._request) {\n\t\t\tcallWrite();\n\t\t} else {\n\t\t\tthis[kJobs].push(callWrite);\n\t\t}\n\t}\n\n\t_final(callback) {\n\t\tif (this.destroyed) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.flushHeaders();\n\n\t\tconst callEnd = () => {\n\t\t\t// For GET, HEAD and DELETE\n\t\t\tif (this._mustNotHaveABody) {\n\t\t\t\tcallback();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._request.end(callback);\n\t\t};\n\n\t\tif (this._request) {\n\t\t\tcallEnd();\n\t\t} else {\n\t\t\tthis[kJobs].push(callEnd);\n\t\t}\n\t}\n\n\tabort() {\n\t\tif (this.res && this.res.complete) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this.aborted) {\n\t\t\tprocess.nextTick(() => this.emit('abort'));\n\t\t}\n\n\t\tthis.aborted = true;\n\n\t\tthis.destroy();\n\t}\n\n\t_destroy(error, callback) {\n\t\tif (this.res) {\n\t\t\tthis.res._dump();\n\t\t}\n\n\t\tif (this._request) {\n\t\t\tthis._request.destroy();\n\t\t}\n\n\t\tcallback(error);\n\t}\n\n\tasync flushHeaders() {\n\t\tif (this[kFlushedHeaders] || this.destroyed) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis[kFlushedHeaders] = true;\n\n\t\tconst isConnectMethod = this.method === HTTP2_METHOD_CONNECT;\n\n\t\t// The real magic is here\n\t\tconst onStream = stream => {\n\t\t\tthis._request = stream;\n\n\t\t\tif (this.destroyed) {\n\t\t\t\tstream.destroy();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Forwards `timeout`, `continue`, `close` and `error` events to this instance.\n\t\t\tif (!isConnectMethod) {\n\t\t\t\tproxyEvents(stream, this, ['timeout', 'continue', 'close', 'error']);\n\t\t\t}\n\n\t\t\t// Wait for the `finish` event. We don't want to emit the `response` event\n\t\t\t// before `request.end()` is called.\n\t\t\tconst waitForEnd = fn => {\n\t\t\t\treturn (...args) => {\n\t\t\t\t\tif (!this.writable && !this.destroyed) {\n\t\t\t\t\t\tfn(...args);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.once('finish', () => {\n\t\t\t\t\t\t\tfn(...args);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\n\t\t\t// This event tells we are ready to listen for the data.\n\t\t\tstream.once('response', waitForEnd((headers, flags, rawHeaders) => {\n\t\t\t\t// If we were to emit raw request stream, it would be as fast as the native approach.\n\t\t\t\t// Note that wrapping the raw stream in a Proxy instance won't improve the performance (already tested it).\n\t\t\t\tconst response = new IncomingMessage(this.socket, stream.readableHighWaterMark);\n\t\t\t\tthis.res = response;\n\n\t\t\t\tresponse.req = this;\n\t\t\t\tresponse.statusCode = headers[HTTP2_HEADER_STATUS];\n\t\t\t\tresponse.headers = headers;\n\t\t\t\tresponse.rawHeaders = rawHeaders;\n\n\t\t\t\tresponse.once('end', () => {\n\t\t\t\t\tif (this.aborted) {\n\t\t\t\t\t\tresponse.aborted = true;\n\t\t\t\t\t\tresponse.emit('aborted');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresponse.complete = true;\n\n\t\t\t\t\t\t// Has no effect, just be consistent with the Node.js behavior\n\t\t\t\t\t\tresponse.socket = null;\n\t\t\t\t\t\tresponse.connection = null;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (isConnectMethod) {\n\t\t\t\t\tresponse.upgrade = true;\n\n\t\t\t\t\t// The HTTP1 API says the socket is detached here,\n\t\t\t\t\t// but we can't do that so we pass the original HTTP2 request.\n\t\t\t\t\tif (this.emit('connect', response, stream, Buffer.alloc(0))) {\n\t\t\t\t\t\tthis.emit('close');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// No listeners attached, destroy the original request.\n\t\t\t\t\t\tstream.destroy();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Forwards data\n\t\t\t\t\tstream.on('data', chunk => {\n\t\t\t\t\t\tif (!response._dumped && !response.push(chunk)) {\n\t\t\t\t\t\t\tstream.pause();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tstream.once('end', () => {\n\t\t\t\t\t\tresponse.push(null);\n\t\t\t\t\t});\n\n\t\t\t\t\tif (!this.emit('response', response)) {\n\t\t\t\t\t\t// No listeners attached, dump the response.\n\t\t\t\t\t\tresponse._dump();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}));\n\n\t\t\t// Emits `information` event\n\t\t\tstream.once('headers', waitForEnd(\n\t\t\t\theaders => this.emit('information', {statusCode: headers[HTTP2_HEADER_STATUS]})\n\t\t\t));\n\n\t\t\tstream.once('trailers', waitForEnd((trailers, flags, rawTrailers) => {\n\t\t\t\tconst {res} = this;\n\n\t\t\t\t// Assigns trailers to the response object.\n\t\t\t\tres.trailers = trailers;\n\t\t\t\tres.rawTrailers = rawTrailers;\n\t\t\t}));\n\n\t\t\tconst {socket} = stream.session;\n\t\t\tthis.socket = socket;\n\t\t\tthis.connection = socket;\n\n\t\t\tfor (const job of this[kJobs]) {\n\t\t\t\tjob();\n\t\t\t}\n\n\t\t\tthis.emit('socket', this.socket);\n\t\t};\n\n\t\t// Makes a HTTP2 request\n\t\tif (this[kSession]) {\n\t\t\ttry {\n\t\t\t\tonStream(this[kSession].request(this[kHeaders]));\n\t\t\t} catch (error) {\n\t\t\t\tthis.emit('error', error);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.reusedSocket = true;\n\n\t\t\ttry {\n\t\t\t\tonStream(await this.agent.request(this[kOrigin], this[kOptions], this[kHeaders]));\n\t\t\t} catch (error) {\n\t\t\t\tthis.emit('error', error);\n\t\t\t}\n\t\t}\n\t}\n\n\tgetHeader(name) {\n\t\tif (typeof name !== 'string') {\n\t\t\tthrow new ERR_INVALID_ARG_TYPE('name', 'string', name);\n\t\t}\n\n\t\treturn this[kHeaders][name.toLowerCase()];\n\t}\n\n\tget headersSent() {\n\t\treturn this[kFlushedHeaders];\n\t}\n\n\tremoveHeader(name) {\n\t\tif (typeof name !== 'string') {\n\t\t\tthrow new ERR_INVALID_ARG_TYPE('name', 'string', name);\n\t\t}\n\n\t\tif (this.headersSent) {\n\t\t\tthrow new ERR_HTTP_HEADERS_SENT('remove');\n\t\t}\n\n\t\tdelete this[kHeaders][name.toLowerCase()];\n\t}\n\n\tsetHeader(name, value) {\n\t\tif (this.headersSent) {\n\t\t\tthrow new ERR_HTTP_HEADERS_SENT('set');\n\t\t}\n\n\t\tif (typeof name !== 'string' || (!isValidHttpToken.test(name) && !isRequestPseudoHeader(name))) {\n\t\t\tthrow new ERR_INVALID_HTTP_TOKEN('Header name', name);\n\t\t}\n\n\t\tif (typeof value === 'undefined') {\n\t\t\tthrow new ERR_HTTP_INVALID_HEADER_VALUE(value, name);\n\t\t}\n\n\t\tif (isInvalidHeaderValue.test(value)) {\n\t\t\tthrow new ERR_INVALID_CHAR('header content', name);\n\t\t}\n\n\t\tthis[kHeaders][name.toLowerCase()] = value;\n\t}\n\n\tsetNoDelay() {\n\t\t// HTTP2 sockets cannot be malformed, do nothing.\n\t}\n\n\tsetSocketKeepAlive() {\n\t\t// HTTP2 sockets cannot be malformed, do nothing.\n\t}\n\n\tsetTimeout(ms, callback) {\n\t\tconst applyTimeout = () => this._request.setTimeout(ms, callback);\n\n\t\tif (this._request) {\n\t\t\tapplyTimeout();\n\t\t} else {\n\t\t\tthis[kJobs].push(applyTimeout);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tget maxHeadersCount() {\n\t\tif (!this.destroyed && this._request) {\n\t\t\treturn this._request.session.localSettings.maxHeaderListSize;\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tset maxHeadersCount(_value) {\n\t\t// Updating HTTP2 settings would affect all requests, do nothing.\n\t}\n}\n\nmodule.exports = ClientRequest;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2h0dHAyLXdyYXBwZXIvc291cmNlL2NsaWVudC1yZXF1ZXN0LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsY0FBYyxtQkFBTyxDQUFDLG9CQUFPO0FBQzdCLE9BQU8sVUFBVSxFQUFFLG1CQUFPLENBQUMsc0JBQVE7QUFDbkMsT0FBTyxvQkFBb0IsRUFBRSxtQkFBTyxDQUFDLHlGQUFTO0FBQzlDLHdCQUF3QixtQkFBTyxDQUFDLCtHQUFvQjtBQUNwRCxxQkFBcUIsbUJBQU8sQ0FBQyx1SEFBd0I7QUFDckQsb0JBQW9CLG1CQUFPLENBQUMsbUhBQXNCO0FBQ2xELDhCQUE4QixtQkFBTyxDQUFDLDJJQUFrQztBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsRUFBRSxtQkFBTyxDQUFDLHVHQUFnQjs7QUFFNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQyxJQUFJO0FBQ0o7QUFDQSxjQUFjO0FBQ2Q7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSiwyQkFBMkIsbUJBQW1CO0FBQzlDLElBQUk7QUFDSjtBQUNBO0FBQ0EsNEJBQTRCLG1CQUFtQjtBQUMvQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBUyxTQUFTO0FBQ2xCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSw4QkFBOEIsS0FBSzs7QUFFbkM7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLDhCQUE4QixLQUFLLEdBQUcsS0FBSzs7QUFFM0M7QUFDQSxzQ0FBc0MsS0FBSyxHQUFHLEtBQUs7QUFDbkQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQSx5Q0FBeUMseUNBQXlDO0FBQ2xGOztBQUVBO0FBQ0EsV0FBVyxLQUFLOztBQUVoQjtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKLFVBQVUsUUFBUTtBQUNsQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBvcnRrZXkvbmV4dC1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL3N3YXJtLWpzL25vZGVfbW9kdWxlcy9odHRwMi13cmFwcGVyL3NvdXJjZS9jbGllbnQtcmVxdWVzdC5qcz8xMWNiIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbmNvbnN0IGh0dHAyID0gcmVxdWlyZSgnaHR0cDInKTtcbmNvbnN0IHtXcml0YWJsZX0gPSByZXF1aXJlKCdzdHJlYW0nKTtcbmNvbnN0IHtBZ2VudCwgZ2xvYmFsQWdlbnR9ID0gcmVxdWlyZSgnLi9hZ2VudCcpO1xuY29uc3QgSW5jb21pbmdNZXNzYWdlID0gcmVxdWlyZSgnLi9pbmNvbWluZy1tZXNzYWdlJyk7XG5jb25zdCB1cmxUb09wdGlvbnMgPSByZXF1aXJlKCcuL3V0aWxzL3VybC10by1vcHRpb25zJyk7XG5jb25zdCBwcm94eUV2ZW50cyA9IHJlcXVpcmUoJy4vdXRpbHMvcHJveHktZXZlbnRzJyk7XG5jb25zdCBpc1JlcXVlc3RQc2V1ZG9IZWFkZXIgPSByZXF1aXJlKCcuL3V0aWxzL2lzLXJlcXVlc3QtcHNldWRvLWhlYWRlcicpO1xuY29uc3Qge1xuXHRFUlJfSU5WQUxJRF9BUkdfVFlQRSxcblx0RVJSX0lOVkFMSURfUFJPVE9DT0wsXG5cdEVSUl9IVFRQX0hFQURFUlNfU0VOVCxcblx0RVJSX0lOVkFMSURfSFRUUF9UT0tFTixcblx0RVJSX0hUVFBfSU5WQUxJRF9IRUFERVJfVkFMVUUsXG5cdEVSUl9JTlZBTElEX0NIQVJcbn0gPSByZXF1aXJlKCcuL3V0aWxzL2Vycm9ycycpO1xuXG5jb25zdCB7XG5cdEhUVFAyX0hFQURFUl9TVEFUVVMsXG5cdEhUVFAyX0hFQURFUl9NRVRIT0QsXG5cdEhUVFAyX0hFQURFUl9QQVRILFxuXHRIVFRQMl9NRVRIT0RfQ09OTkVDVFxufSA9IGh0dHAyLmNvbnN0YW50cztcblxuY29uc3Qga0hlYWRlcnMgPSBTeW1ib2woJ2hlYWRlcnMnKTtcbmNvbnN0IGtPcmlnaW4gPSBTeW1ib2woJ29yaWdpbicpO1xuY29uc3Qga1Nlc3Npb24gPSBTeW1ib2woJ3Nlc3Npb24nKTtcbmNvbnN0IGtPcHRpb25zID0gU3ltYm9sKCdvcHRpb25zJyk7XG5jb25zdCBrRmx1c2hlZEhlYWRlcnMgPSBTeW1ib2woJ2ZsdXNoZWRIZWFkZXJzJyk7XG5jb25zdCBrSm9icyA9IFN5bWJvbCgnam9icycpO1xuXG5jb25zdCBpc1ZhbGlkSHR0cFRva2VuID0gL15bXFxeYFxcLVxcdyEjJCUmKisufH5dKyQvO1xuY29uc3QgaXNJbnZhbGlkSGVhZGVyVmFsdWUgPSAvW15cXHRcXHUwMDIwLVxcdTAwN0VcXHUwMDgwLVxcdTAwRkZdLztcblxuY2xhc3MgQ2xpZW50UmVxdWVzdCBleHRlbmRzIFdyaXRhYmxlIHtcblx0Y29uc3RydWN0b3IoaW5wdXQsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG5cdFx0c3VwZXIoe1xuXHRcdFx0YXV0b0Rlc3Ryb3k6IGZhbHNlXG5cdFx0fSk7XG5cblx0XHRjb25zdCBoYXNJbnB1dCA9IHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycgfHwgaW5wdXQgaW5zdGFuY2VvZiBVUkw7XG5cdFx0aWYgKGhhc0lucHV0KSB7XG5cdFx0XHRpbnB1dCA9IHVybFRvT3B0aW9ucyhpbnB1dCBpbnN0YW5jZW9mIFVSTCA/IGlucHV0IDogbmV3IFVSTChpbnB1dCkpO1xuXHRcdH1cblxuXHRcdGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJyB8fCBvcHRpb25zID09PSB1bmRlZmluZWQpIHtcblx0XHRcdC8vIChvcHRpb25zLCBjYWxsYmFjaylcblx0XHRcdGNhbGxiYWNrID0gb3B0aW9ucztcblx0XHRcdG9wdGlvbnMgPSBoYXNJbnB1dCA/IGlucHV0IDogey4uLmlucHV0fTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gKGlucHV0LCBvcHRpb25zLCBjYWxsYmFjaylcblx0XHRcdG9wdGlvbnMgPSB7Li4uaW5wdXQsIC4uLm9wdGlvbnN9O1xuXHRcdH1cblxuXHRcdGlmIChvcHRpb25zLmgyc2Vzc2lvbikge1xuXHRcdFx0dGhpc1trU2Vzc2lvbl0gPSBvcHRpb25zLmgyc2Vzc2lvbjtcblx0XHR9IGVsc2UgaWYgKG9wdGlvbnMuYWdlbnQgPT09IGZhbHNlKSB7XG5cdFx0XHR0aGlzLmFnZW50ID0gbmV3IEFnZW50KHttYXhGcmVlU2Vzc2lvbnM6IDB9KTtcblx0XHR9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLmFnZW50ID09PSAndW5kZWZpbmVkJyB8fCBvcHRpb25zLmFnZW50ID09PSBudWxsKSB7XG5cdFx0XHRpZiAodHlwZW9mIG9wdGlvbnMuY3JlYXRlQ29ubmVjdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHQvLyBUaGlzIGlzIGEgd29ya2Fyb3VuZCAtIHdlIGRvbid0IGhhdmUgdG8gY3JlYXRlIHRoZSBzZXNzaW9uIG9uIG91ciBvd24uXG5cdFx0XHRcdHRoaXMuYWdlbnQgPSBuZXcgQWdlbnQoe21heEZyZWVTZXNzaW9uczogMH0pO1xuXHRcdFx0XHR0aGlzLmFnZW50LmNyZWF0ZUNvbm5lY3Rpb24gPSBvcHRpb25zLmNyZWF0ZUNvbm5lY3Rpb247XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLmFnZW50ID0gZ2xvYmFsQWdlbnQ7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucy5hZ2VudC5yZXF1ZXN0ID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHR0aGlzLmFnZW50ID0gb3B0aW9ucy5hZ2VudDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhyb3cgbmV3IEVSUl9JTlZBTElEX0FSR19UWVBFKCdvcHRpb25zLmFnZW50JywgWydBZ2VudC1saWtlIE9iamVjdCcsICd1bmRlZmluZWQnLCAnZmFsc2UnXSwgb3B0aW9ucy5hZ2VudCk7XG5cdFx0fVxuXG5cdFx0aWYgKG9wdGlvbnMucHJvdG9jb2wgJiYgb3B0aW9ucy5wcm90b2NvbCAhPT0gJ2h0dHBzOicpIHtcblx0XHRcdHRocm93IG5ldyBFUlJfSU5WQUxJRF9QUk9UT0NPTChvcHRpb25zLnByb3RvY29sLCAnaHR0cHM6Jyk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgcG9ydCA9IG9wdGlvbnMucG9ydCB8fCBvcHRpb25zLmRlZmF1bHRQb3J0IHx8ICh0aGlzLmFnZW50ICYmIHRoaXMuYWdlbnQuZGVmYXVsdFBvcnQpIHx8IDQ0Mztcblx0XHRjb25zdCBob3N0ID0gb3B0aW9ucy5ob3N0bmFtZSB8fCBvcHRpb25zLmhvc3QgfHwgJ2xvY2FsaG9zdCc7XG5cblx0XHQvLyBEb24ndCBlbmZvcmNlIHRoZSBvcmlnaW4gdmlhIG9wdGlvbnMuIEl0IG1heSBiZSBjaGFuZ2VkIGluIGFuIEFnZW50LlxuXHRcdGRlbGV0ZSBvcHRpb25zLmhvc3RuYW1lO1xuXHRcdGRlbGV0ZSBvcHRpb25zLmhvc3Q7XG5cdFx0ZGVsZXRlIG9wdGlvbnMucG9ydDtcblxuXHRcdGNvbnN0IHt0aW1lb3V0fSA9IG9wdGlvbnM7XG5cdFx0b3B0aW9ucy50aW1lb3V0ID0gdW5kZWZpbmVkO1xuXG5cdFx0dGhpc1trSGVhZGVyc10gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXHRcdHRoaXNba0pvYnNdID0gW107XG5cblx0XHR0aGlzLnNvY2tldCA9IG51bGw7XG5cdFx0dGhpcy5jb25uZWN0aW9uID0gbnVsbDtcblxuXHRcdHRoaXMubWV0aG9kID0gb3B0aW9ucy5tZXRob2QgfHwgJ0dFVCc7XG5cdFx0dGhpcy5wYXRoID0gb3B0aW9ucy5wYXRoO1xuXG5cdFx0dGhpcy5yZXMgPSBudWxsO1xuXHRcdHRoaXMuYWJvcnRlZCA9IGZhbHNlO1xuXHRcdHRoaXMucmV1c2VkU29ja2V0ID0gZmFsc2U7XG5cblx0XHRpZiAob3B0aW9ucy5oZWFkZXJzKSB7XG5cdFx0XHRmb3IgKGNvbnN0IFtoZWFkZXIsIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhvcHRpb25zLmhlYWRlcnMpKSB7XG5cdFx0XHRcdHRoaXMuc2V0SGVhZGVyKGhlYWRlciwgdmFsdWUpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChvcHRpb25zLmF1dGggJiYgISgnYXV0aG9yaXphdGlvbicgaW4gdGhpc1trSGVhZGVyc10pKSB7XG5cdFx0XHR0aGlzW2tIZWFkZXJzXS5hdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyBCdWZmZXIuZnJvbShvcHRpb25zLmF1dGgpLnRvU3RyaW5nKCdiYXNlNjQnKTtcblx0XHR9XG5cblx0XHRvcHRpb25zLnNlc3Npb24gPSBvcHRpb25zLnRsc1Nlc3Npb247XG5cdFx0b3B0aW9ucy5wYXRoID0gb3B0aW9ucy5zb2NrZXRQYXRoO1xuXG5cdFx0dGhpc1trT3B0aW9uc10gPSBvcHRpb25zO1xuXG5cdFx0Ly8gQ2xpZW50cyB0aGF0IGdlbmVyYXRlIEhUVFAvMiByZXF1ZXN0cyBkaXJlY3RseSBTSE9VTEQgdXNlIHRoZSA6YXV0aG9yaXR5IHBzZXVkby1oZWFkZXIgZmllbGQgaW5zdGVhZCBvZiB0aGUgSG9zdCBoZWFkZXIgZmllbGQuXG5cdFx0aWYgKHBvcnQgPT09IDQ0Mykge1xuXHRcdFx0dGhpc1trT3JpZ2luXSA9IGBodHRwczovLyR7aG9zdH1gO1xuXG5cdFx0XHRpZiAoISgnOmF1dGhvcml0eScgaW4gdGhpc1trSGVhZGVyc10pKSB7XG5cdFx0XHRcdHRoaXNba0hlYWRlcnNdWyc6YXV0aG9yaXR5J10gPSBob3N0O1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzW2tPcmlnaW5dID0gYGh0dHBzOi8vJHtob3N0fToke3BvcnR9YDtcblxuXHRcdFx0aWYgKCEoJzphdXRob3JpdHknIGluIHRoaXNba0hlYWRlcnNdKSkge1xuXHRcdFx0XHR0aGlzW2tIZWFkZXJzXVsnOmF1dGhvcml0eSddID0gYCR7aG9zdH06JHtwb3J0fWA7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKHRpbWVvdXQpIHtcblx0XHRcdHRoaXMuc2V0VGltZW91dCh0aW1lb3V0KTtcblx0XHR9XG5cblx0XHRpZiAoY2FsbGJhY2spIHtcblx0XHRcdHRoaXMub25jZSgncmVzcG9uc2UnLCBjYWxsYmFjayk7XG5cdFx0fVxuXG5cdFx0dGhpc1trRmx1c2hlZEhlYWRlcnNdID0gZmFsc2U7XG5cdH1cblxuXHRnZXQgbWV0aG9kKCkge1xuXHRcdHJldHVybiB0aGlzW2tIZWFkZXJzXVtIVFRQMl9IRUFERVJfTUVUSE9EXTtcblx0fVxuXG5cdHNldCBtZXRob2QodmFsdWUpIHtcblx0XHRpZiAodmFsdWUpIHtcblx0XHRcdHRoaXNba0hlYWRlcnNdW0hUVFAyX0hFQURFUl9NRVRIT0RdID0gdmFsdWUudG9VcHBlckNhc2UoKTtcblx0XHR9XG5cdH1cblxuXHRnZXQgcGF0aCgpIHtcblx0XHRyZXR1cm4gdGhpc1trSGVhZGVyc11bSFRUUDJfSEVBREVSX1BBVEhdO1xuXHR9XG5cblx0c2V0IHBhdGgodmFsdWUpIHtcblx0XHRpZiAodmFsdWUpIHtcblx0XHRcdHRoaXNba0hlYWRlcnNdW0hUVFAyX0hFQURFUl9QQVRIXSA9IHZhbHVlO1xuXHRcdH1cblx0fVxuXG5cdGdldCBfbXVzdE5vdEhhdmVBQm9keSgpIHtcblx0XHRyZXR1cm4gdGhpcy5tZXRob2QgPT09ICdHRVQnIHx8IHRoaXMubWV0aG9kID09PSAnSEVBRCcgfHwgdGhpcy5tZXRob2QgPT09ICdERUxFVEUnO1xuXHR9XG5cblx0X3dyaXRlKGNodW5rLCBlbmNvZGluZywgY2FsbGJhY2spIHtcblx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvYmxvYi82NTRkZjA5YWUwYzVlMTdkMWI1MmE5MDBhNTQ1ZjA2NjRkOGM3NjI3L2xpYi9pbnRlcm5hbC9odHRwMi91dGlsLmpzI0wxNDgtTDE1NlxuXHRcdGlmICh0aGlzLl9tdXN0Tm90SGF2ZUFCb2R5KSB7XG5cdFx0XHRjYWxsYmFjayhuZXcgRXJyb3IoJ1RoZSBHRVQsIEhFQUQgYW5kIERFTEVURSBtZXRob2RzIG11c3QgTk9UIGhhdmUgYSBib2R5JykpO1xuXHRcdFx0LyogaXN0YW5idWwgaWdub3JlIG5leHQ6IE5vZGUuanMgMTIgdGhyb3dzIGRpcmVjdGx5ICovXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5mbHVzaEhlYWRlcnMoKTtcblxuXHRcdGNvbnN0IGNhbGxXcml0ZSA9ICgpID0+IHRoaXMuX3JlcXVlc3Qud3JpdGUoY2h1bmssIGVuY29kaW5nLCBjYWxsYmFjayk7XG5cdFx0aWYgKHRoaXMuX3JlcXVlc3QpIHtcblx0XHRcdGNhbGxXcml0ZSgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzW2tKb2JzXS5wdXNoKGNhbGxXcml0ZSk7XG5cdFx0fVxuXHR9XG5cblx0X2ZpbmFsKGNhbGxiYWNrKSB7XG5cdFx0aWYgKHRoaXMuZGVzdHJveWVkKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5mbHVzaEhlYWRlcnMoKTtcblxuXHRcdGNvbnN0IGNhbGxFbmQgPSAoKSA9PiB7XG5cdFx0XHQvLyBGb3IgR0VULCBIRUFEIGFuZCBERUxFVEVcblx0XHRcdGlmICh0aGlzLl9tdXN0Tm90SGF2ZUFCb2R5KSB7XG5cdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fcmVxdWVzdC5lbmQoY2FsbGJhY2spO1xuXHRcdH07XG5cblx0XHRpZiAodGhpcy5fcmVxdWVzdCkge1xuXHRcdFx0Y2FsbEVuZCgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzW2tKb2JzXS5wdXNoKGNhbGxFbmQpO1xuXHRcdH1cblx0fVxuXG5cdGFib3J0KCkge1xuXHRcdGlmICh0aGlzLnJlcyAmJiB0aGlzLnJlcy5jb21wbGV0ZSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICghdGhpcy5hYm9ydGVkKSB7XG5cdFx0XHRwcm9jZXNzLm5leHRUaWNrKCgpID0+IHRoaXMuZW1pdCgnYWJvcnQnKSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5hYm9ydGVkID0gdHJ1ZTtcblxuXHRcdHRoaXMuZGVzdHJveSgpO1xuXHR9XG5cblx0X2Rlc3Ryb3koZXJyb3IsIGNhbGxiYWNrKSB7XG5cdFx0aWYgKHRoaXMucmVzKSB7XG5cdFx0XHR0aGlzLnJlcy5fZHVtcCgpO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLl9yZXF1ZXN0KSB7XG5cdFx0XHR0aGlzLl9yZXF1ZXN0LmRlc3Ryb3koKTtcblx0XHR9XG5cblx0XHRjYWxsYmFjayhlcnJvcik7XG5cdH1cblxuXHRhc3luYyBmbHVzaEhlYWRlcnMoKSB7XG5cdFx0aWYgKHRoaXNba0ZsdXNoZWRIZWFkZXJzXSB8fCB0aGlzLmRlc3Ryb3llZCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXNba0ZsdXNoZWRIZWFkZXJzXSA9IHRydWU7XG5cblx0XHRjb25zdCBpc0Nvbm5lY3RNZXRob2QgPSB0aGlzLm1ldGhvZCA9PT0gSFRUUDJfTUVUSE9EX0NPTk5FQ1Q7XG5cblx0XHQvLyBUaGUgcmVhbCBtYWdpYyBpcyBoZXJlXG5cdFx0Y29uc3Qgb25TdHJlYW0gPSBzdHJlYW0gPT4ge1xuXHRcdFx0dGhpcy5fcmVxdWVzdCA9IHN0cmVhbTtcblxuXHRcdFx0aWYgKHRoaXMuZGVzdHJveWVkKSB7XG5cdFx0XHRcdHN0cmVhbS5kZXN0cm95KCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gRm9yd2FyZHMgYHRpbWVvdXRgLCBgY29udGludWVgLCBgY2xvc2VgIGFuZCBgZXJyb3JgIGV2ZW50cyB0byB0aGlzIGluc3RhbmNlLlxuXHRcdFx0aWYgKCFpc0Nvbm5lY3RNZXRob2QpIHtcblx0XHRcdFx0cHJveHlFdmVudHMoc3RyZWFtLCB0aGlzLCBbJ3RpbWVvdXQnLCAnY29udGludWUnLCAnY2xvc2UnLCAnZXJyb3InXSk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFdhaXQgZm9yIHRoZSBgZmluaXNoYCBldmVudC4gV2UgZG9uJ3Qgd2FudCB0byBlbWl0IHRoZSBgcmVzcG9uc2VgIGV2ZW50XG5cdFx0XHQvLyBiZWZvcmUgYHJlcXVlc3QuZW5kKClgIGlzIGNhbGxlZC5cblx0XHRcdGNvbnN0IHdhaXRGb3JFbmQgPSBmbiA9PiB7XG5cdFx0XHRcdHJldHVybiAoLi4uYXJncykgPT4ge1xuXHRcdFx0XHRcdGlmICghdGhpcy53cml0YWJsZSAmJiAhdGhpcy5kZXN0cm95ZWQpIHtcblx0XHRcdFx0XHRcdGZuKC4uLmFyZ3MpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR0aGlzLm9uY2UoJ2ZpbmlzaCcsICgpID0+IHtcblx0XHRcdFx0XHRcdFx0Zm4oLi4uYXJncyk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFx0XHR9O1xuXG5cdFx0XHQvLyBUaGlzIGV2ZW50IHRlbGxzIHdlIGFyZSByZWFkeSB0byBsaXN0ZW4gZm9yIHRoZSBkYXRhLlxuXHRcdFx0c3RyZWFtLm9uY2UoJ3Jlc3BvbnNlJywgd2FpdEZvckVuZCgoaGVhZGVycywgZmxhZ3MsIHJhd0hlYWRlcnMpID0+IHtcblx0XHRcdFx0Ly8gSWYgd2Ugd2VyZSB0byBlbWl0IHJhdyByZXF1ZXN0IHN0cmVhbSwgaXQgd291bGQgYmUgYXMgZmFzdCBhcyB0aGUgbmF0aXZlIGFwcHJvYWNoLlxuXHRcdFx0XHQvLyBOb3RlIHRoYXQgd3JhcHBpbmcgdGhlIHJhdyBzdHJlYW0gaW4gYSBQcm94eSBpbnN0YW5jZSB3b24ndCBpbXByb3ZlIHRoZSBwZXJmb3JtYW5jZSAoYWxyZWFkeSB0ZXN0ZWQgaXQpLlxuXHRcdFx0XHRjb25zdCByZXNwb25zZSA9IG5ldyBJbmNvbWluZ01lc3NhZ2UodGhpcy5zb2NrZXQsIHN0cmVhbS5yZWFkYWJsZUhpZ2hXYXRlck1hcmspO1xuXHRcdFx0XHR0aGlzLnJlcyA9IHJlc3BvbnNlO1xuXG5cdFx0XHRcdHJlc3BvbnNlLnJlcSA9IHRoaXM7XG5cdFx0XHRcdHJlc3BvbnNlLnN0YXR1c0NvZGUgPSBoZWFkZXJzW0hUVFAyX0hFQURFUl9TVEFUVVNdO1xuXHRcdFx0XHRyZXNwb25zZS5oZWFkZXJzID0gaGVhZGVycztcblx0XHRcdFx0cmVzcG9uc2UucmF3SGVhZGVycyA9IHJhd0hlYWRlcnM7XG5cblx0XHRcdFx0cmVzcG9uc2Uub25jZSgnZW5kJywgKCkgPT4ge1xuXHRcdFx0XHRcdGlmICh0aGlzLmFib3J0ZWQpIHtcblx0XHRcdFx0XHRcdHJlc3BvbnNlLmFib3J0ZWQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0cmVzcG9uc2UuZW1pdCgnYWJvcnRlZCcpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZXNwb25zZS5jb21wbGV0ZSA9IHRydWU7XG5cblx0XHRcdFx0XHRcdC8vIEhhcyBubyBlZmZlY3QsIGp1c3QgYmUgY29uc2lzdGVudCB3aXRoIHRoZSBOb2RlLmpzIGJlaGF2aW9yXG5cdFx0XHRcdFx0XHRyZXNwb25zZS5zb2NrZXQgPSBudWxsO1xuXHRcdFx0XHRcdFx0cmVzcG9uc2UuY29ubmVjdGlvbiA9IG51bGw7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRpZiAoaXNDb25uZWN0TWV0aG9kKSB7XG5cdFx0XHRcdFx0cmVzcG9uc2UudXBncmFkZSA9IHRydWU7XG5cblx0XHRcdFx0XHQvLyBUaGUgSFRUUDEgQVBJIHNheXMgdGhlIHNvY2tldCBpcyBkZXRhY2hlZCBoZXJlLFxuXHRcdFx0XHRcdC8vIGJ1dCB3ZSBjYW4ndCBkbyB0aGF0IHNvIHdlIHBhc3MgdGhlIG9yaWdpbmFsIEhUVFAyIHJlcXVlc3QuXG5cdFx0XHRcdFx0aWYgKHRoaXMuZW1pdCgnY29ubmVjdCcsIHJlc3BvbnNlLCBzdHJlYW0sIEJ1ZmZlci5hbGxvYygwKSkpIHtcblx0XHRcdFx0XHRcdHRoaXMuZW1pdCgnY2xvc2UnKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Ly8gTm8gbGlzdGVuZXJzIGF0dGFjaGVkLCBkZXN0cm95IHRoZSBvcmlnaW5hbCByZXF1ZXN0LlxuXHRcdFx0XHRcdFx0c3RyZWFtLmRlc3Ryb3koKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gRm9yd2FyZHMgZGF0YVxuXHRcdFx0XHRcdHN0cmVhbS5vbignZGF0YScsIGNodW5rID0+IHtcblx0XHRcdFx0XHRcdGlmICghcmVzcG9uc2UuX2R1bXBlZCAmJiAhcmVzcG9uc2UucHVzaChjaHVuaykpIHtcblx0XHRcdFx0XHRcdFx0c3RyZWFtLnBhdXNlKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRzdHJlYW0ub25jZSgnZW5kJywgKCkgPT4ge1xuXHRcdFx0XHRcdFx0cmVzcG9uc2UucHVzaChudWxsKTtcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdGlmICghdGhpcy5lbWl0KCdyZXNwb25zZScsIHJlc3BvbnNlKSkge1xuXHRcdFx0XHRcdFx0Ly8gTm8gbGlzdGVuZXJzIGF0dGFjaGVkLCBkdW1wIHRoZSByZXNwb25zZS5cblx0XHRcdFx0XHRcdHJlc3BvbnNlLl9kdW1wKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KSk7XG5cblx0XHRcdC8vIEVtaXRzIGBpbmZvcm1hdGlvbmAgZXZlbnRcblx0XHRcdHN0cmVhbS5vbmNlKCdoZWFkZXJzJywgd2FpdEZvckVuZChcblx0XHRcdFx0aGVhZGVycyA9PiB0aGlzLmVtaXQoJ2luZm9ybWF0aW9uJywge3N0YXR1c0NvZGU6IGhlYWRlcnNbSFRUUDJfSEVBREVSX1NUQVRVU119KVxuXHRcdFx0KSk7XG5cblx0XHRcdHN0cmVhbS5vbmNlKCd0cmFpbGVycycsIHdhaXRGb3JFbmQoKHRyYWlsZXJzLCBmbGFncywgcmF3VHJhaWxlcnMpID0+IHtcblx0XHRcdFx0Y29uc3Qge3Jlc30gPSB0aGlzO1xuXG5cdFx0XHRcdC8vIEFzc2lnbnMgdHJhaWxlcnMgdG8gdGhlIHJlc3BvbnNlIG9iamVjdC5cblx0XHRcdFx0cmVzLnRyYWlsZXJzID0gdHJhaWxlcnM7XG5cdFx0XHRcdHJlcy5yYXdUcmFpbGVycyA9IHJhd1RyYWlsZXJzO1xuXHRcdFx0fSkpO1xuXG5cdFx0XHRjb25zdCB7c29ja2V0fSA9IHN0cmVhbS5zZXNzaW9uO1xuXHRcdFx0dGhpcy5zb2NrZXQgPSBzb2NrZXQ7XG5cdFx0XHR0aGlzLmNvbm5lY3Rpb24gPSBzb2NrZXQ7XG5cblx0XHRcdGZvciAoY29uc3Qgam9iIG9mIHRoaXNba0pvYnNdKSB7XG5cdFx0XHRcdGpvYigpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmVtaXQoJ3NvY2tldCcsIHRoaXMuc29ja2V0KTtcblx0XHR9O1xuXG5cdFx0Ly8gTWFrZXMgYSBIVFRQMiByZXF1ZXN0XG5cdFx0aWYgKHRoaXNba1Nlc3Npb25dKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRvblN0cmVhbSh0aGlzW2tTZXNzaW9uXS5yZXF1ZXN0KHRoaXNba0hlYWRlcnNdKSk7XG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHR0aGlzLmVtaXQoJ2Vycm9yJywgZXJyb3IpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnJldXNlZFNvY2tldCA9IHRydWU7XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdG9uU3RyZWFtKGF3YWl0IHRoaXMuYWdlbnQucmVxdWVzdCh0aGlzW2tPcmlnaW5dLCB0aGlzW2tPcHRpb25zXSwgdGhpc1trSGVhZGVyc10pKTtcblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdHRoaXMuZW1pdCgnZXJyb3InLCBlcnJvcik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Z2V0SGVhZGVyKG5hbWUpIHtcblx0XHRpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG5cdFx0XHR0aHJvdyBuZXcgRVJSX0lOVkFMSURfQVJHX1RZUEUoJ25hbWUnLCAnc3RyaW5nJywgbmFtZSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXNba0hlYWRlcnNdW25hbWUudG9Mb3dlckNhc2UoKV07XG5cdH1cblxuXHRnZXQgaGVhZGVyc1NlbnQoKSB7XG5cdFx0cmV0dXJuIHRoaXNba0ZsdXNoZWRIZWFkZXJzXTtcblx0fVxuXG5cdHJlbW92ZUhlYWRlcihuYW1lKSB7XG5cdFx0aWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuXHRcdFx0dGhyb3cgbmV3IEVSUl9JTlZBTElEX0FSR19UWVBFKCduYW1lJywgJ3N0cmluZycsIG5hbWUpO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmhlYWRlcnNTZW50KSB7XG5cdFx0XHR0aHJvdyBuZXcgRVJSX0hUVFBfSEVBREVSU19TRU5UKCdyZW1vdmUnKTtcblx0XHR9XG5cblx0XHRkZWxldGUgdGhpc1trSGVhZGVyc11bbmFtZS50b0xvd2VyQ2FzZSgpXTtcblx0fVxuXG5cdHNldEhlYWRlcihuYW1lLCB2YWx1ZSkge1xuXHRcdGlmICh0aGlzLmhlYWRlcnNTZW50KSB7XG5cdFx0XHR0aHJvdyBuZXcgRVJSX0hUVFBfSEVBREVSU19TRU5UKCdzZXQnKTtcblx0XHR9XG5cblx0XHRpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnIHx8ICghaXNWYWxpZEh0dHBUb2tlbi50ZXN0KG5hbWUpICYmICFpc1JlcXVlc3RQc2V1ZG9IZWFkZXIobmFtZSkpKSB7XG5cdFx0XHR0aHJvdyBuZXcgRVJSX0lOVkFMSURfSFRUUF9UT0tFTignSGVhZGVyIG5hbWUnLCBuYW1lKTtcblx0XHR9XG5cblx0XHRpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuXHRcdFx0dGhyb3cgbmV3IEVSUl9IVFRQX0lOVkFMSURfSEVBREVSX1ZBTFVFKHZhbHVlLCBuYW1lKTtcblx0XHR9XG5cblx0XHRpZiAoaXNJbnZhbGlkSGVhZGVyVmFsdWUudGVzdCh2YWx1ZSkpIHtcblx0XHRcdHRocm93IG5ldyBFUlJfSU5WQUxJRF9DSEFSKCdoZWFkZXIgY29udGVudCcsIG5hbWUpO1xuXHRcdH1cblxuXHRcdHRoaXNba0hlYWRlcnNdW25hbWUudG9Mb3dlckNhc2UoKV0gPSB2YWx1ZTtcblx0fVxuXG5cdHNldE5vRGVsYXkoKSB7XG5cdFx0Ly8gSFRUUDIgc29ja2V0cyBjYW5ub3QgYmUgbWFsZm9ybWVkLCBkbyBub3RoaW5nLlxuXHR9XG5cblx0c2V0U29ja2V0S2VlcEFsaXZlKCkge1xuXHRcdC8vIEhUVFAyIHNvY2tldHMgY2Fubm90IGJlIG1hbGZvcm1lZCwgZG8gbm90aGluZy5cblx0fVxuXG5cdHNldFRpbWVvdXQobXMsIGNhbGxiYWNrKSB7XG5cdFx0Y29uc3QgYXBwbHlUaW1lb3V0ID0gKCkgPT4gdGhpcy5fcmVxdWVzdC5zZXRUaW1lb3V0KG1zLCBjYWxsYmFjayk7XG5cblx0XHRpZiAodGhpcy5fcmVxdWVzdCkge1xuXHRcdFx0YXBwbHlUaW1lb3V0KCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXNba0pvYnNdLnB1c2goYXBwbHlUaW1lb3V0KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdGdldCBtYXhIZWFkZXJzQ291bnQoKSB7XG5cdFx0aWYgKCF0aGlzLmRlc3Ryb3llZCAmJiB0aGlzLl9yZXF1ZXN0KSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fcmVxdWVzdC5zZXNzaW9uLmxvY2FsU2V0dGluZ3MubWF4SGVhZGVyTGlzdFNpemU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0fVxuXG5cdHNldCBtYXhIZWFkZXJzQ291bnQoX3ZhbHVlKSB7XG5cdFx0Ly8gVXBkYXRpbmcgSFRUUDIgc2V0dGluZ3Mgd291bGQgYWZmZWN0IGFsbCByZXF1ZXN0cywgZG8gbm90aGluZy5cblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IENsaWVudFJlcXVlc3Q7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/http2-wrapper/source/client-request.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/http2-wrapper/source/incoming-message.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/http2-wrapper/source/incoming-message.js ***!
  \*************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\nconst {Readable} = __webpack_require__(/*! stream */ \"stream\");\n\nclass IncomingMessage extends Readable {\n\tconstructor(socket, highWaterMark) {\n\t\tsuper({\n\t\t\thighWaterMark,\n\t\t\tautoDestroy: false\n\t\t});\n\n\t\tthis.statusCode = null;\n\t\tthis.statusMessage = '';\n\t\tthis.httpVersion = '2.0';\n\t\tthis.httpVersionMajor = 2;\n\t\tthis.httpVersionMinor = 0;\n\t\tthis.headers = {};\n\t\tthis.trailers = {};\n\t\tthis.req = null;\n\n\t\tthis.aborted = false;\n\t\tthis.complete = false;\n\t\tthis.upgrade = null;\n\n\t\tthis.rawHeaders = [];\n\t\tthis.rawTrailers = [];\n\n\t\tthis.socket = socket;\n\t\tthis.connection = socket;\n\n\t\tthis._dumped = false;\n\t}\n\n\t_destroy(error) {\n\t\tthis.req._request.destroy(error);\n\t}\n\n\tsetTimeout(ms, callback) {\n\t\tthis.req.setTimeout(ms, callback);\n\t\treturn this;\n\t}\n\n\t_dump() {\n\t\tif (!this._dumped) {\n\t\t\tthis._dumped = true;\n\n\t\t\tthis.removeAllListeners('data');\n\t\t\tthis.resume();\n\t\t}\n\t}\n\n\t_read() {\n\t\tif (this.req) {\n\t\t\tthis.req._request.resume();\n\t\t}\n\t}\n}\n\nmodule.exports = IncomingMessage;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2h0dHAyLXdyYXBwZXIvc291cmNlL2luY29taW5nLW1lc3NhZ2UuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYixPQUFPLFVBQVUsRUFBRSxtQkFBTyxDQUFDLHNCQUFROztBQUVuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL0Bwb3J0a2V5L25leHQtZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9zd2FybS1qcy9ub2RlX21vZHVsZXMvaHR0cDItd3JhcHBlci9zb3VyY2UvaW5jb21pbmctbWVzc2FnZS5qcz8zNzVjIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbmNvbnN0IHtSZWFkYWJsZX0gPSByZXF1aXJlKCdzdHJlYW0nKTtcblxuY2xhc3MgSW5jb21pbmdNZXNzYWdlIGV4dGVuZHMgUmVhZGFibGUge1xuXHRjb25zdHJ1Y3Rvcihzb2NrZXQsIGhpZ2hXYXRlck1hcmspIHtcblx0XHRzdXBlcih7XG5cdFx0XHRoaWdoV2F0ZXJNYXJrLFxuXHRcdFx0YXV0b0Rlc3Ryb3k6IGZhbHNlXG5cdFx0fSk7XG5cblx0XHR0aGlzLnN0YXR1c0NvZGUgPSBudWxsO1xuXHRcdHRoaXMuc3RhdHVzTWVzc2FnZSA9ICcnO1xuXHRcdHRoaXMuaHR0cFZlcnNpb24gPSAnMi4wJztcblx0XHR0aGlzLmh0dHBWZXJzaW9uTWFqb3IgPSAyO1xuXHRcdHRoaXMuaHR0cFZlcnNpb25NaW5vciA9IDA7XG5cdFx0dGhpcy5oZWFkZXJzID0ge307XG5cdFx0dGhpcy50cmFpbGVycyA9IHt9O1xuXHRcdHRoaXMucmVxID0gbnVsbDtcblxuXHRcdHRoaXMuYWJvcnRlZCA9IGZhbHNlO1xuXHRcdHRoaXMuY29tcGxldGUgPSBmYWxzZTtcblx0XHR0aGlzLnVwZ3JhZGUgPSBudWxsO1xuXG5cdFx0dGhpcy5yYXdIZWFkZXJzID0gW107XG5cdFx0dGhpcy5yYXdUcmFpbGVycyA9IFtdO1xuXG5cdFx0dGhpcy5zb2NrZXQgPSBzb2NrZXQ7XG5cdFx0dGhpcy5jb25uZWN0aW9uID0gc29ja2V0O1xuXG5cdFx0dGhpcy5fZHVtcGVkID0gZmFsc2U7XG5cdH1cblxuXHRfZGVzdHJveShlcnJvcikge1xuXHRcdHRoaXMucmVxLl9yZXF1ZXN0LmRlc3Ryb3koZXJyb3IpO1xuXHR9XG5cblx0c2V0VGltZW91dChtcywgY2FsbGJhY2spIHtcblx0XHR0aGlzLnJlcS5zZXRUaW1lb3V0KG1zLCBjYWxsYmFjayk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHRfZHVtcCgpIHtcblx0XHRpZiAoIXRoaXMuX2R1bXBlZCkge1xuXHRcdFx0dGhpcy5fZHVtcGVkID0gdHJ1ZTtcblxuXHRcdFx0dGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ2RhdGEnKTtcblx0XHRcdHRoaXMucmVzdW1lKCk7XG5cdFx0fVxuXHR9XG5cblx0X3JlYWQoKSB7XG5cdFx0aWYgKHRoaXMucmVxKSB7XG5cdFx0XHR0aGlzLnJlcS5fcmVxdWVzdC5yZXN1bWUoKTtcblx0XHR9XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBJbmNvbWluZ01lc3NhZ2U7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/http2-wrapper/source/incoming-message.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/http2-wrapper/source/index.js":
/*!**************************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/http2-wrapper/source/index.js ***!
  \**************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\nconst http2 = __webpack_require__(/*! http2 */ \"http2\");\nconst agent = __webpack_require__(/*! ./agent */ \"(ssr)/./node_modules/swarm-js/node_modules/http2-wrapper/source/agent.js\");\nconst ClientRequest = __webpack_require__(/*! ./client-request */ \"(ssr)/./node_modules/swarm-js/node_modules/http2-wrapper/source/client-request.js\");\nconst IncomingMessage = __webpack_require__(/*! ./incoming-message */ \"(ssr)/./node_modules/swarm-js/node_modules/http2-wrapper/source/incoming-message.js\");\nconst auto = __webpack_require__(/*! ./auto */ \"(ssr)/./node_modules/swarm-js/node_modules/http2-wrapper/source/auto.js\");\n\nconst request = (url, options, callback) => {\n\treturn new ClientRequest(url, options, callback);\n};\n\nconst get = (url, options, callback) => {\n\t// eslint-disable-next-line unicorn/prevent-abbreviations\n\tconst req = new ClientRequest(url, options, callback);\n\treq.end();\n\n\treturn req;\n};\n\nmodule.exports = {\n\t...http2,\n\tClientRequest,\n\tIncomingMessage,\n\t...agent,\n\trequest,\n\tget,\n\tauto\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2h0dHAyLXdyYXBwZXIvc291cmNlL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsY0FBYyxtQkFBTyxDQUFDLG9CQUFPO0FBQzdCLGNBQWMsbUJBQU8sQ0FBQyx5RkFBUztBQUMvQixzQkFBc0IsbUJBQU8sQ0FBQywyR0FBa0I7QUFDaEQsd0JBQXdCLG1CQUFPLENBQUMsK0dBQW9CO0FBQ3BELGFBQWEsbUJBQU8sQ0FBQyx1RkFBUTs7QUFFN0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBvcnRrZXkvbmV4dC1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL3N3YXJtLWpzL25vZGVfbW9kdWxlcy9odHRwMi13cmFwcGVyL3NvdXJjZS9pbmRleC5qcz83MjJiIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbmNvbnN0IGh0dHAyID0gcmVxdWlyZSgnaHR0cDInKTtcbmNvbnN0IGFnZW50ID0gcmVxdWlyZSgnLi9hZ2VudCcpO1xuY29uc3QgQ2xpZW50UmVxdWVzdCA9IHJlcXVpcmUoJy4vY2xpZW50LXJlcXVlc3QnKTtcbmNvbnN0IEluY29taW5nTWVzc2FnZSA9IHJlcXVpcmUoJy4vaW5jb21pbmctbWVzc2FnZScpO1xuY29uc3QgYXV0byA9IHJlcXVpcmUoJy4vYXV0bycpO1xuXG5jb25zdCByZXF1ZXN0ID0gKHVybCwgb3B0aW9ucywgY2FsbGJhY2spID0+IHtcblx0cmV0dXJuIG5ldyBDbGllbnRSZXF1ZXN0KHVybCwgb3B0aW9ucywgY2FsbGJhY2spO1xufTtcblxuY29uc3QgZ2V0ID0gKHVybCwgb3B0aW9ucywgY2FsbGJhY2spID0+IHtcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHVuaWNvcm4vcHJldmVudC1hYmJyZXZpYXRpb25zXG5cdGNvbnN0IHJlcSA9IG5ldyBDbGllbnRSZXF1ZXN0KHVybCwgb3B0aW9ucywgY2FsbGJhY2spO1xuXHRyZXEuZW5kKCk7XG5cblx0cmV0dXJuIHJlcTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuXHQuLi5odHRwMixcblx0Q2xpZW50UmVxdWVzdCxcblx0SW5jb21pbmdNZXNzYWdlLFxuXHQuLi5hZ2VudCxcblx0cmVxdWVzdCxcblx0Z2V0LFxuXHRhdXRvXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/http2-wrapper/source/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/http2-wrapper/source/utils/calculate-server-name.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/http2-wrapper/source/utils/calculate-server-name.js ***!
  \************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\nconst net = __webpack_require__(/*! net */ \"net\");\n/* istanbul ignore file: https://github.com/nodejs/node/blob/v13.0.1/lib/_http_agent.js */\n\nmodule.exports = options => {\n\tlet servername = options.host;\n\tconst hostHeader = options.headers && options.headers.host;\n\n\tif (hostHeader) {\n\t\tif (hostHeader.startsWith('[')) {\n\t\t\tconst index = hostHeader.indexOf(']');\n\t\t\tif (index === -1) {\n\t\t\t\tservername = hostHeader;\n\t\t\t} else {\n\t\t\t\tservername = hostHeader.slice(1, -1);\n\t\t\t}\n\t\t} else {\n\t\t\tservername = hostHeader.split(':', 1)[0];\n\t\t}\n\t}\n\n\tif (net.isIP(servername)) {\n\t\treturn '';\n\t}\n\n\treturn servername;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2h0dHAyLXdyYXBwZXIvc291cmNlL3V0aWxzL2NhbGN1bGF0ZS1zZXJ2ZXItbmFtZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLFlBQVksbUJBQU8sQ0FBQyxnQkFBSztBQUN6Qjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0Bwb3J0a2V5L25leHQtZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9zd2FybS1qcy9ub2RlX21vZHVsZXMvaHR0cDItd3JhcHBlci9zb3VyY2UvdXRpbHMvY2FsY3VsYXRlLXNlcnZlci1uYW1lLmpzP2M5NDUiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuY29uc3QgbmV0ID0gcmVxdWlyZSgnbmV0Jyk7XG4vKiBpc3RhbmJ1bCBpZ25vcmUgZmlsZTogaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9ub2RlL2Jsb2IvdjEzLjAuMS9saWIvX2h0dHBfYWdlbnQuanMgKi9cblxubW9kdWxlLmV4cG9ydHMgPSBvcHRpb25zID0+IHtcblx0bGV0IHNlcnZlcm5hbWUgPSBvcHRpb25zLmhvc3Q7XG5cdGNvbnN0IGhvc3RIZWFkZXIgPSBvcHRpb25zLmhlYWRlcnMgJiYgb3B0aW9ucy5oZWFkZXJzLmhvc3Q7XG5cblx0aWYgKGhvc3RIZWFkZXIpIHtcblx0XHRpZiAoaG9zdEhlYWRlci5zdGFydHNXaXRoKCdbJykpIHtcblx0XHRcdGNvbnN0IGluZGV4ID0gaG9zdEhlYWRlci5pbmRleE9mKCddJyk7XG5cdFx0XHRpZiAoaW5kZXggPT09IC0xKSB7XG5cdFx0XHRcdHNlcnZlcm5hbWUgPSBob3N0SGVhZGVyO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c2VydmVybmFtZSA9IGhvc3RIZWFkZXIuc2xpY2UoMSwgLTEpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRzZXJ2ZXJuYW1lID0gaG9zdEhlYWRlci5zcGxpdCgnOicsIDEpWzBdO1xuXHRcdH1cblx0fVxuXG5cdGlmIChuZXQuaXNJUChzZXJ2ZXJuYW1lKSkge1xuXHRcdHJldHVybiAnJztcblx0fVxuXG5cdHJldHVybiBzZXJ2ZXJuYW1lO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/http2-wrapper/source/utils/calculate-server-name.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/http2-wrapper/source/utils/errors.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/http2-wrapper/source/utils/errors.js ***!
  \*********************************************************************************/
/***/ ((module) => {

"use strict";
eval("\n/* istanbul ignore file: https://github.com/nodejs/node/blob/master/lib/internal/errors.js */\n\nconst makeError = (Base, key, getMessage) => {\n\tmodule.exports[key] = class NodeError extends Base {\n\t\tconstructor(...args) {\n\t\t\tsuper(typeof getMessage === 'string' ? getMessage : getMessage(args));\n\t\t\tthis.name = `${super.name} [${key}]`;\n\t\t\tthis.code = key;\n\t\t}\n\t};\n};\n\nmakeError(TypeError, 'ERR_INVALID_ARG_TYPE', args => {\n\tconst type = args[0].includes('.') ? 'property' : 'argument';\n\n\tlet valid = args[1];\n\tconst isManyTypes = Array.isArray(valid);\n\n\tif (isManyTypes) {\n\t\tvalid = `${valid.slice(0, -1).join(', ')} or ${valid.slice(-1)}`;\n\t}\n\n\treturn `The \"${args[0]}\" ${type} must be ${isManyTypes ? 'one of' : 'of'} type ${valid}. Received ${typeof args[2]}`;\n});\n\nmakeError(TypeError, 'ERR_INVALID_PROTOCOL', args => {\n\treturn `Protocol \"${args[0]}\" not supported. Expected \"${args[1]}\"`;\n});\n\nmakeError(Error, 'ERR_HTTP_HEADERS_SENT', args => {\n\treturn `Cannot ${args[0]} headers after they are sent to the client`;\n});\n\nmakeError(TypeError, 'ERR_INVALID_HTTP_TOKEN', args => {\n\treturn `${args[0]} must be a valid HTTP token [${args[1]}]`;\n});\n\nmakeError(TypeError, 'ERR_HTTP_INVALID_HEADER_VALUE', args => {\n\treturn `Invalid value \"${args[0]} for header \"${args[1]}\"`;\n});\n\nmakeError(TypeError, 'ERR_INVALID_CHAR', args => {\n\treturn `Invalid character in ${args[0]} [${args[1]}]`;\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2h0dHAyLXdyYXBwZXIvc291cmNlL3V0aWxzL2Vycm9ycy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFlBQVksR0FBRyxJQUFJO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGFBQWEsK0JBQStCLEtBQUssZ0JBQWdCO0FBQ2pFOztBQUVBLGdCQUFnQixRQUFRLElBQUksTUFBTSxVQUFVLCtCQUErQixPQUFPLE1BQU0sYUFBYSxlQUFlO0FBQ3BILENBQUM7O0FBRUQ7QUFDQSxxQkFBcUIsUUFBUSw2QkFBNkIsUUFBUTtBQUNsRSxDQUFDOztBQUVEO0FBQ0Esa0JBQWtCLFNBQVM7QUFDM0IsQ0FBQzs7QUFFRDtBQUNBLFdBQVcsU0FBUyw4QkFBOEIsUUFBUTtBQUMxRCxDQUFDOztBQUVEO0FBQ0EsMEJBQTBCLFNBQVMsY0FBYyxRQUFRO0FBQ3pELENBQUM7O0FBRUQ7QUFDQSxnQ0FBZ0MsU0FBUyxHQUFHLFFBQVE7QUFDcEQsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0Bwb3J0a2V5L25leHQtZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9zd2FybS1qcy9ub2RlX21vZHVsZXMvaHR0cDItd3JhcHBlci9zb3VyY2UvdXRpbHMvZXJyb3JzLmpzP2ZjMjUiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuLyogaXN0YW5idWwgaWdub3JlIGZpbGU6IGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMvbm9kZS9ibG9iL21hc3Rlci9saWIvaW50ZXJuYWwvZXJyb3JzLmpzICovXG5cbmNvbnN0IG1ha2VFcnJvciA9IChCYXNlLCBrZXksIGdldE1lc3NhZ2UpID0+IHtcblx0bW9kdWxlLmV4cG9ydHNba2V5XSA9IGNsYXNzIE5vZGVFcnJvciBleHRlbmRzIEJhc2Uge1xuXHRcdGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcblx0XHRcdHN1cGVyKHR5cGVvZiBnZXRNZXNzYWdlID09PSAnc3RyaW5nJyA/IGdldE1lc3NhZ2UgOiBnZXRNZXNzYWdlKGFyZ3MpKTtcblx0XHRcdHRoaXMubmFtZSA9IGAke3N1cGVyLm5hbWV9IFske2tleX1dYDtcblx0XHRcdHRoaXMuY29kZSA9IGtleTtcblx0XHR9XG5cdH07XG59O1xuXG5tYWtlRXJyb3IoVHlwZUVycm9yLCAnRVJSX0lOVkFMSURfQVJHX1RZUEUnLCBhcmdzID0+IHtcblx0Y29uc3QgdHlwZSA9IGFyZ3NbMF0uaW5jbHVkZXMoJy4nKSA/ICdwcm9wZXJ0eScgOiAnYXJndW1lbnQnO1xuXG5cdGxldCB2YWxpZCA9IGFyZ3NbMV07XG5cdGNvbnN0IGlzTWFueVR5cGVzID0gQXJyYXkuaXNBcnJheSh2YWxpZCk7XG5cblx0aWYgKGlzTWFueVR5cGVzKSB7XG5cdFx0dmFsaWQgPSBgJHt2YWxpZC5zbGljZSgwLCAtMSkuam9pbignLCAnKX0gb3IgJHt2YWxpZC5zbGljZSgtMSl9YDtcblx0fVxuXG5cdHJldHVybiBgVGhlIFwiJHthcmdzWzBdfVwiICR7dHlwZX0gbXVzdCBiZSAke2lzTWFueVR5cGVzID8gJ29uZSBvZicgOiAnb2YnfSB0eXBlICR7dmFsaWR9LiBSZWNlaXZlZCAke3R5cGVvZiBhcmdzWzJdfWA7XG59KTtcblxubWFrZUVycm9yKFR5cGVFcnJvciwgJ0VSUl9JTlZBTElEX1BST1RPQ09MJywgYXJncyA9PiB7XG5cdHJldHVybiBgUHJvdG9jb2wgXCIke2FyZ3NbMF19XCIgbm90IHN1cHBvcnRlZC4gRXhwZWN0ZWQgXCIke2FyZ3NbMV19XCJgO1xufSk7XG5cbm1ha2VFcnJvcihFcnJvciwgJ0VSUl9IVFRQX0hFQURFUlNfU0VOVCcsIGFyZ3MgPT4ge1xuXHRyZXR1cm4gYENhbm5vdCAke2FyZ3NbMF19IGhlYWRlcnMgYWZ0ZXIgdGhleSBhcmUgc2VudCB0byB0aGUgY2xpZW50YDtcbn0pO1xuXG5tYWtlRXJyb3IoVHlwZUVycm9yLCAnRVJSX0lOVkFMSURfSFRUUF9UT0tFTicsIGFyZ3MgPT4ge1xuXHRyZXR1cm4gYCR7YXJnc1swXX0gbXVzdCBiZSBhIHZhbGlkIEhUVFAgdG9rZW4gWyR7YXJnc1sxXX1dYDtcbn0pO1xuXG5tYWtlRXJyb3IoVHlwZUVycm9yLCAnRVJSX0hUVFBfSU5WQUxJRF9IRUFERVJfVkFMVUUnLCBhcmdzID0+IHtcblx0cmV0dXJuIGBJbnZhbGlkIHZhbHVlIFwiJHthcmdzWzBdfSBmb3IgaGVhZGVyIFwiJHthcmdzWzFdfVwiYDtcbn0pO1xuXG5tYWtlRXJyb3IoVHlwZUVycm9yLCAnRVJSX0lOVkFMSURfQ0hBUicsIGFyZ3MgPT4ge1xuXHRyZXR1cm4gYEludmFsaWQgY2hhcmFjdGVyIGluICR7YXJnc1swXX0gWyR7YXJnc1sxXX1dYDtcbn0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/http2-wrapper/source/utils/errors.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/http2-wrapper/source/utils/is-request-pseudo-header.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/http2-wrapper/source/utils/is-request-pseudo-header.js ***!
  \***************************************************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nmodule.exports = header => {\n\tswitch (header) {\n\t\tcase ':method':\n\t\tcase ':scheme':\n\t\tcase ':authority':\n\t\tcase ':path':\n\t\t\treturn true;\n\t\tdefault:\n\t\t\treturn false;\n\t}\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2h0dHAyLXdyYXBwZXIvc291cmNlL3V0aWxzL2lzLXJlcXVlc3QtcHNldWRvLWhlYWRlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBvcnRrZXkvbmV4dC1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL3N3YXJtLWpzL25vZGVfbW9kdWxlcy9odHRwMi13cmFwcGVyL3NvdXJjZS91dGlscy9pcy1yZXF1ZXN0LXBzZXVkby1oZWFkZXIuanM/OWMzMyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gaGVhZGVyID0+IHtcblx0c3dpdGNoIChoZWFkZXIpIHtcblx0XHRjYXNlICc6bWV0aG9kJzpcblx0XHRjYXNlICc6c2NoZW1lJzpcblx0XHRjYXNlICc6YXV0aG9yaXR5Jzpcblx0XHRjYXNlICc6cGF0aCc6XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/http2-wrapper/source/utils/is-request-pseudo-header.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/http2-wrapper/source/utils/proxy-events.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/http2-wrapper/source/utils/proxy-events.js ***!
  \***************************************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nmodule.exports = (from, to, events) => {\n\tfor (const event of events) {\n\t\tfrom.on(event, (...args) => to.emit(event, ...args));\n\t}\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2h0dHAyLXdyYXBwZXIvc291cmNlL3V0aWxzL3Byb3h5LWV2ZW50cy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBvcnRrZXkvbmV4dC1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL3N3YXJtLWpzL25vZGVfbW9kdWxlcy9odHRwMi13cmFwcGVyL3NvdXJjZS91dGlscy9wcm94eS1ldmVudHMuanM/YjkwZCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gKGZyb20sIHRvLCBldmVudHMpID0+IHtcblx0Zm9yIChjb25zdCBldmVudCBvZiBldmVudHMpIHtcblx0XHRmcm9tLm9uKGV2ZW50LCAoLi4uYXJncykgPT4gdG8uZW1pdChldmVudCwgLi4uYXJncykpO1xuXHR9XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/http2-wrapper/source/utils/proxy-events.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/http2-wrapper/source/utils/url-to-options.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/http2-wrapper/source/utils/url-to-options.js ***!
  \*****************************************************************************************/
/***/ ((module) => {

"use strict";
eval("\n/* istanbul ignore file: https://github.com/nodejs/node/blob/a91293d4d9ab403046ab5eb022332e4e3d249bd3/lib/internal/url.js#L1257 */\n\nmodule.exports = url => {\n\tconst options = {\n\t\tprotocol: url.protocol,\n\t\thostname: typeof url.hostname === 'string' && url.hostname.startsWith('[') ? url.hostname.slice(1, -1) : url.hostname,\n\t\thost: url.host,\n\t\thash: url.hash,\n\t\tsearch: url.search,\n\t\tpathname: url.pathname,\n\t\thref: url.href,\n\t\tpath: `${url.pathname || ''}${url.search || ''}`\n\t};\n\n\tif (typeof url.port === 'string' && url.port.length !== 0) {\n\t\toptions.port = Number(url.port);\n\t}\n\n\tif (url.username || url.password) {\n\t\toptions.auth = `${url.username || ''}:${url.password || ''}`;\n\t}\n\n\treturn options;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL2h0dHAyLXdyYXBwZXIvc291cmNlL3V0aWxzL3VybC10by1vcHRpb25zLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxtQkFBbUIsRUFBRSxpQkFBaUI7QUFDakQ7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0JBQW9CLG1CQUFtQixHQUFHLG1CQUFtQjtBQUM3RDs7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHBvcnRrZXkvbmV4dC1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL3N3YXJtLWpzL25vZGVfbW9kdWxlcy9odHRwMi13cmFwcGVyL3NvdXJjZS91dGlscy91cmwtdG8tb3B0aW9ucy5qcz9mNzYyIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0Jztcbi8qIGlzdGFuYnVsIGlnbm9yZSBmaWxlOiBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvYmxvYi9hOTEyOTNkNGQ5YWI0MDMwNDZhYjVlYjAyMjMzMmU0ZTNkMjQ5YmQzL2xpYi9pbnRlcm5hbC91cmwuanMjTDEyNTcgKi9cblxubW9kdWxlLmV4cG9ydHMgPSB1cmwgPT4ge1xuXHRjb25zdCBvcHRpb25zID0ge1xuXHRcdHByb3RvY29sOiB1cmwucHJvdG9jb2wsXG5cdFx0aG9zdG5hbWU6IHR5cGVvZiB1cmwuaG9zdG5hbWUgPT09ICdzdHJpbmcnICYmIHVybC5ob3N0bmFtZS5zdGFydHNXaXRoKCdbJykgPyB1cmwuaG9zdG5hbWUuc2xpY2UoMSwgLTEpIDogdXJsLmhvc3RuYW1lLFxuXHRcdGhvc3Q6IHVybC5ob3N0LFxuXHRcdGhhc2g6IHVybC5oYXNoLFxuXHRcdHNlYXJjaDogdXJsLnNlYXJjaCxcblx0XHRwYXRobmFtZTogdXJsLnBhdGhuYW1lLFxuXHRcdGhyZWY6IHVybC5ocmVmLFxuXHRcdHBhdGg6IGAke3VybC5wYXRobmFtZSB8fCAnJ30ke3VybC5zZWFyY2ggfHwgJyd9YFxuXHR9O1xuXG5cdGlmICh0eXBlb2YgdXJsLnBvcnQgPT09ICdzdHJpbmcnICYmIHVybC5wb3J0Lmxlbmd0aCAhPT0gMCkge1xuXHRcdG9wdGlvbnMucG9ydCA9IE51bWJlcih1cmwucG9ydCk7XG5cdH1cblxuXHRpZiAodXJsLnVzZXJuYW1lIHx8IHVybC5wYXNzd29yZCkge1xuXHRcdG9wdGlvbnMuYXV0aCA9IGAke3VybC51c2VybmFtZSB8fCAnJ306JHt1cmwucGFzc3dvcmQgfHwgJyd9YDtcblx0fVxuXG5cdHJldHVybiBvcHRpb25zO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/http2-wrapper/source/utils/url-to-options.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/node_modules/p-cancelable/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/swarm-js/node_modules/p-cancelable/index.js ***!
  \******************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nclass CancelError extends Error {\n\tconstructor(reason) {\n\t\tsuper(reason || 'Promise was canceled');\n\t\tthis.name = 'CancelError';\n\t}\n\n\tget isCanceled() {\n\t\treturn true;\n\t}\n}\n\nclass PCancelable {\n\tstatic fn(userFn) {\n\t\treturn (...arguments_) => {\n\t\t\treturn new PCancelable((resolve, reject, onCancel) => {\n\t\t\t\targuments_.push(onCancel);\n\t\t\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\t\t\tuserFn(...arguments_).then(resolve, reject);\n\t\t\t});\n\t\t};\n\t}\n\n\tconstructor(executor) {\n\t\tthis._cancelHandlers = [];\n\t\tthis._isPending = true;\n\t\tthis._isCanceled = false;\n\t\tthis._rejectOnCancel = true;\n\n\t\tthis._promise = new Promise((resolve, reject) => {\n\t\t\tthis._reject = reject;\n\n\t\t\tconst onResolve = value => {\n\t\t\t\tif (!this._isCanceled || !onCancel.shouldReject) {\n\t\t\t\t\tthis._isPending = false;\n\t\t\t\t\tresolve(value);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tconst onReject = error => {\n\t\t\t\tthis._isPending = false;\n\t\t\t\treject(error);\n\t\t\t};\n\n\t\t\tconst onCancel = handler => {\n\t\t\t\tif (!this._isPending) {\n\t\t\t\t\tthrow new Error('The `onCancel` handler was attached after the promise settled.');\n\t\t\t\t}\n\n\t\t\t\tthis._cancelHandlers.push(handler);\n\t\t\t};\n\n\t\t\tObject.defineProperties(onCancel, {\n\t\t\t\tshouldReject: {\n\t\t\t\t\tget: () => this._rejectOnCancel,\n\t\t\t\t\tset: boolean => {\n\t\t\t\t\t\tthis._rejectOnCancel = boolean;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn executor(onResolve, onReject, onCancel);\n\t\t});\n\t}\n\n\tthen(onFulfilled, onRejected) {\n\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\treturn this._promise.then(onFulfilled, onRejected);\n\t}\n\n\tcatch(onRejected) {\n\t\treturn this._promise.catch(onRejected);\n\t}\n\n\tfinally(onFinally) {\n\t\treturn this._promise.finally(onFinally);\n\t}\n\n\tcancel(reason) {\n\t\tif (!this._isPending || this._isCanceled) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._isCanceled = true;\n\n\t\tif (this._cancelHandlers.length > 0) {\n\t\t\ttry {\n\t\t\t\tfor (const handler of this._cancelHandlers) {\n\t\t\t\t\thandler();\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tthis._reject(error);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (this._rejectOnCancel) {\n\t\t\tthis._reject(new CancelError(reason));\n\t\t}\n\t}\n\n\tget isCanceled() {\n\t\treturn this._isCanceled;\n\t}\n}\n\nObject.setPrototypeOf(PCancelable.prototype, Promise.prototype);\n\nmodule.exports = PCancelable;\nmodule.exports.CancelError = CancelError;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL3AtY2FuY2VsYWJsZS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSwwQkFBMEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AcG9ydGtleS9uZXh0LWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvc3dhcm0tanMvbm9kZV9tb2R1bGVzL3AtY2FuY2VsYWJsZS9pbmRleC5qcz9kYTgxIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY2xhc3MgQ2FuY2VsRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG5cdGNvbnN0cnVjdG9yKHJlYXNvbikge1xuXHRcdHN1cGVyKHJlYXNvbiB8fCAnUHJvbWlzZSB3YXMgY2FuY2VsZWQnKTtcblx0XHR0aGlzLm5hbWUgPSAnQ2FuY2VsRXJyb3InO1xuXHR9XG5cblx0Z2V0IGlzQ2FuY2VsZWQoKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cbn1cblxuY2xhc3MgUENhbmNlbGFibGUge1xuXHRzdGF0aWMgZm4odXNlckZuKSB7XG5cdFx0cmV0dXJuICguLi5hcmd1bWVudHNfKSA9PiB7XG5cdFx0XHRyZXR1cm4gbmV3IFBDYW5jZWxhYmxlKChyZXNvbHZlLCByZWplY3QsIG9uQ2FuY2VsKSA9PiB7XG5cdFx0XHRcdGFyZ3VtZW50c18ucHVzaChvbkNhbmNlbCk7XG5cdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcm9taXNlL3ByZWZlci1hd2FpdC10by10aGVuXG5cdFx0XHRcdHVzZXJGbiguLi5hcmd1bWVudHNfKS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG5cdFx0XHR9KTtcblx0XHR9O1xuXHR9XG5cblx0Y29uc3RydWN0b3IoZXhlY3V0b3IpIHtcblx0XHR0aGlzLl9jYW5jZWxIYW5kbGVycyA9IFtdO1xuXHRcdHRoaXMuX2lzUGVuZGluZyA9IHRydWU7XG5cdFx0dGhpcy5faXNDYW5jZWxlZCA9IGZhbHNlO1xuXHRcdHRoaXMuX3JlamVjdE9uQ2FuY2VsID0gdHJ1ZTtcblxuXHRcdHRoaXMuX3Byb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHR0aGlzLl9yZWplY3QgPSByZWplY3Q7XG5cblx0XHRcdGNvbnN0IG9uUmVzb2x2ZSA9IHZhbHVlID0+IHtcblx0XHRcdFx0aWYgKCF0aGlzLl9pc0NhbmNlbGVkIHx8ICFvbkNhbmNlbC5zaG91bGRSZWplY3QpIHtcblx0XHRcdFx0XHR0aGlzLl9pc1BlbmRpbmcgPSBmYWxzZTtcblx0XHRcdFx0XHRyZXNvbHZlKHZhbHVlKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdFx0Y29uc3Qgb25SZWplY3QgPSBlcnJvciA9PiB7XG5cdFx0XHRcdHRoaXMuX2lzUGVuZGluZyA9IGZhbHNlO1xuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXHRcdFx0fTtcblxuXHRcdFx0Y29uc3Qgb25DYW5jZWwgPSBoYW5kbGVyID0+IHtcblx0XHRcdFx0aWYgKCF0aGlzLl9pc1BlbmRpbmcpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1RoZSBgb25DYW5jZWxgIGhhbmRsZXIgd2FzIGF0dGFjaGVkIGFmdGVyIHRoZSBwcm9taXNlIHNldHRsZWQuJyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLl9jYW5jZWxIYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xuXHRcdFx0fTtcblxuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnRpZXMob25DYW5jZWwsIHtcblx0XHRcdFx0c2hvdWxkUmVqZWN0OiB7XG5cdFx0XHRcdFx0Z2V0OiAoKSA9PiB0aGlzLl9yZWplY3RPbkNhbmNlbCxcblx0XHRcdFx0XHRzZXQ6IGJvb2xlYW4gPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5fcmVqZWN0T25DYW5jZWwgPSBib29sZWFuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdHJldHVybiBleGVjdXRvcihvblJlc29sdmUsIG9uUmVqZWN0LCBvbkNhbmNlbCk7XG5cdFx0fSk7XG5cdH1cblxuXHR0aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG5cdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByb21pc2UvcHJlZmVyLWF3YWl0LXRvLXRoZW5cblx0XHRyZXR1cm4gdGhpcy5fcHJvbWlzZS50aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKTtcblx0fVxuXG5cdGNhdGNoKG9uUmVqZWN0ZWQpIHtcblx0XHRyZXR1cm4gdGhpcy5fcHJvbWlzZS5jYXRjaChvblJlamVjdGVkKTtcblx0fVxuXG5cdGZpbmFsbHkob25GaW5hbGx5KSB7XG5cdFx0cmV0dXJuIHRoaXMuX3Byb21pc2UuZmluYWxseShvbkZpbmFsbHkpO1xuXHR9XG5cblx0Y2FuY2VsKHJlYXNvbikge1xuXHRcdGlmICghdGhpcy5faXNQZW5kaW5nIHx8IHRoaXMuX2lzQ2FuY2VsZWQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLl9pc0NhbmNlbGVkID0gdHJ1ZTtcblxuXHRcdGlmICh0aGlzLl9jYW5jZWxIYW5kbGVycy5sZW5ndGggPiAwKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRmb3IgKGNvbnN0IGhhbmRsZXIgb2YgdGhpcy5fY2FuY2VsSGFuZGxlcnMpIHtcblx0XHRcdFx0XHRoYW5kbGVyKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdHRoaXMuX3JlamVjdChlcnJvcik7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAodGhpcy5fcmVqZWN0T25DYW5jZWwpIHtcblx0XHRcdHRoaXMuX3JlamVjdChuZXcgQ2FuY2VsRXJyb3IocmVhc29uKSk7XG5cdFx0fVxuXHR9XG5cblx0Z2V0IGlzQ2FuY2VsZWQoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2lzQ2FuY2VsZWQ7XG5cdH1cbn1cblxuT2JqZWN0LnNldFByb3RvdHlwZU9mKFBDYW5jZWxhYmxlLnByb3RvdHlwZSwgUHJvbWlzZS5wcm90b3R5cGUpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBDYW5jZWxhYmxlO1xubW9kdWxlLmV4cG9ydHMuQ2FuY2VsRXJyb3IgPSBDYW5jZWxFcnJvcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/swarm-js/node_modules/p-cancelable/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/swarm-js/archives/archives.json":
/*!******************************************************!*\
  !*** ./node_modules/swarm-js/archives/archives.json ***!
  \******************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"windows-amd64":{"archive":"swarm-windows-amd64-1.6.7.exe","binaryMD5":"c2d827dc4553d9b91a7d6c1d5a6140fd","archiveMD5":"059196d21548060a18a12e17cc0ee59a"},"linux-amd64":{"archive":"swarm-linux-amd64-1.6.7","binaryMD5":"85002d79b8ebc2d2f2f10fb198636a81","archiveMD5":"3e8874299ab8c0e3043d70ebb6673879"},"linux-386":{"archive":"swarm-linux-386-1.6.7","binaryMD5":"35bc2ab976f60f96a2cede117e0df19d","archiveMD5":"7868a86c9cbdf8ac7ac2e5682b4ce40f"},"darwin-amd64":{"archive":"swarm-darwin-amd64-1.6.7","binaryMD5":"c499b186645229260dd6ab685dd58f07","archiveMD5":"0794d111e5018eac3b657bcb29851121"},"linux-arm5":{"archive":"swarm-linux-arm5-1.6.7","binaryMD5":"516fcd85246c905529442cd9b689c12f","archiveMD5":"47312708d417cb196b07ba0af1d3abb4"},"linux-arm6":{"archive":"swarm-linux-arm6-1.6.7","binaryMD5":"82ff7bdbe388b4a190f4101c5150d3b4","archiveMD5":"350276de7bb175a15c314cfc4cb7f8fd"},"linux-mips":{"archive":"swarm-linux-mips-1.6.7","binaryMD5":"e1e95280441c0ca35633927792ef5317","archiveMD5":"8fb4b64e94cd73aa718db787b9d4c53e"},"linux-arm7":{"archive":"swarm-linux-arm7-1.6.7","binaryMD5":"bfc0b4d1c86d8a975af052fc7854bdd3","archiveMD5":"4378641d8e1e1fbb947f941c8fca8613"},"linux-arm64":{"archive":"swarm-linux-arm64-1.6.7","binaryMD5":"bbac21a6c6fa8208f67ca4123d3f948a","archiveMD5":"4e503160327c5fbcca0414f17c54e5ee"},"linux-mipsle":{"archive":"swarm-linux-mipsle-1.6.7","binaryMD5":"a82f191b2f9d2c470d0273219c820657","archiveMD5":"3016bdb6d237ae654c0cdf36fe85dc7c"},"windows-386":{"archive":"swarm-windows-386-1.6.7.exe","binaryMD5":"ce0b34640642e58068ae5a359faef102","archiveMD5":"640aede4da08a3a9d8a6ac0434ba7c0f"},"linux-mips64":{"archive":"swarm-linux-mips64-1.6.7","binaryMD5":"9da967664f384817adb5083fd1ffe8f1","archiveMD5":"357a33be470f8f89ba2619957a08deff"},"linux-mips64le":{"archive":"swarm-linux-mips64le-1.6.7","binaryMD5":"ec1abcf7b216e87645ec83954d8344cd","archiveMD5":"a81fd0158190d99813c738ffa4f87627"}}');

/***/ })

};
;